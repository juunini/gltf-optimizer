import{S as Nf,i as Lf,s as xf,k as ca,a as Ma,q as Uf,I as Gf,l as fa,h as co,c as Na,m as Ou,r as Hf,n as Qo,G as Mu,b as Do,J as jf,B as As,K as kf}from"../../chunks/index-670c3ecf.js";var ln=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sa(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function s(){if(this instanceof s){var o=[null];o.push.apply(o,arguments);var i=Function.bind.apply(e,o);return new i}return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(s){var o=Object.getOwnPropertyDescriptor(n,s);Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:function(){return n[s]}})}),t}var Us={},Za={},Ia={};class Gs{constructor(){this._listeners={}}addEventListener(e,t){const s=this._listeners;return s[e]===void 0&&(s[e]=[]),s[e].indexOf(t)===-1&&s[e].push(t),this}removeEventListener(e,t){if(this._listeners===void 0)return this;const s=this._listeners[e];if(s!==void 0){const o=s.indexOf(t);o!==-1&&s.splice(o,1)}return this}dispatchEvent(e){if(this._listeners===void 0)return this;const t=this._listeners[e.type];if(t!==void 0){const s=t.slice(0);for(let o=0,i=s.length;o<i;o++)s[o].call(this,e)}return this}dispose(){for(const e in this._listeners)delete this._listeners[e]}}let qo=class extends Gs{constructor(e,t,s,o={}){if(super(),this._name=void 0,this._parent=void 0,this._child=void 0,this._attributes=void 0,this._disposed=!1,this._name=e,this._parent=t,this._child=s,this._attributes=o,!t.isOnGraph(s))throw new Error("Cannot connect disconnected graphs.")}getName(){return this._name}getParent(){return this._parent}getChild(){return this._child}setChild(e){return this._child=e,this}getAttributes(){return this._attributes}dispose(){this._disposed||(this._disposed=!0,this.dispatchEvent({type:"dispose",target:this}),super.dispose())}isDisposed(){return this._disposed}},Jc=class extends Gs{constructor(...e){super(...e),this._emptySet=new Set,this._edges=new Set,this._parentEdges=new Map,this._childEdges=new Map}listEdges(){return Array.from(this._edges)}listParentEdges(e){return Array.from(this._childEdges.get(e)||this._emptySet)}listParents(e){return this.listParentEdges(e).map(t=>t.getParent())}listChildEdges(e){return Array.from(this._parentEdges.get(e)||this._emptySet)}listChildren(e){return this.listChildEdges(e).map(t=>t.getChild())}disconnectParents(e,t){let s=this.listParentEdges(e);return t&&(s=s.filter(o=>t(o.getParent()))),s.forEach(o=>o.dispose()),this}createEdge(e,t,s,o){return this._registerEdge(new qo(e,t,s,o))}_registerEdge(e){this._edges.add(e);const t=e.getParent();this._parentEdges.has(t)||this._parentEdges.set(t,new Set),this._parentEdges.get(t).add(e);const s=e.getChild();return this._childEdges.has(s)||this._childEdges.set(s,new Set),this._childEdges.get(s).add(e),e.addEventListener("dispose",()=>this._removeEdge(e)),e}_removeEdge(e){return this._edges.delete(e),this._parentEdges.get(e.getParent()).delete(e),this._childEdges.get(e.getChild()).delete(e),this}};function ma(){return ma=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},ma.apply(this,arguments)}function Ds(n){return n instanceof qo}function _a(n){return Array.isArray(n)&&n[0]instanceof qo}function ha(n){return!!(n&&typeof n=="object"&&Object.values(n)[0]instanceof qo)}const Mn=Symbol("attributes"),ra=Symbol("immutableKeys");let qc=class extends Gs{constructor(e){super(),this._disposed=!1,this.graph=void 0,this[Mn]=void 0,this[ra]=void 0,this.graph=e,this[ra]=new Set,this[Mn]=this._createAttributes()}getDefaults(){return{}}_createAttributes(){const e=this.getDefaults(),t={};for(const s in e){const o=e[s];if(o instanceof qc){const i=this.graph.createEdge(s,this,o);i.addEventListener("dispose",()=>o.dispose()),this[ra].add(s),t[s]=i}else t[s]=o}return t}isOnGraph(e){return this.graph===e.graph}isDisposed(){return this._disposed}dispose(){this._disposed||(this.graph.listChildEdges(this).forEach(e=>e.dispose()),this.graph.disconnectParents(this),this._disposed=!0,this.dispatchEvent({type:"dispose"}))}detach(){return this.graph.disconnectParents(this),this}swap(e,t){for(const s in this[Mn]){const o=this[Mn][s];if(Ds(o)){const i=o;i.getChild()===e&&this.setRef(s,t,i.getAttributes())}else if(_a(o)){const i=o.find(u=>u.getChild()===e);if(i){const u=i.getAttributes();this.removeRef(s,e).addRef(s,t,u)}}else if(ha(o)){const i=o;for(const u in i){const p=i[u];p.getChild()===e&&this.setRefMap(s,u,t,p.getAttributes())}}}return this}get(e){return this[Mn][e]}set(e,t){return this[Mn][e]=t,this.dispatchEvent({type:"change",attribute:e})}getRef(e){const t=this[Mn][e];return t?t.getChild():null}setRef(e,t,s){if(this[ra].has(e))throw new Error(`Cannot overwrite immutable attribute, "${e}".`);const o=this[Mn][e];if(o&&o.dispose(),!t)return this;const i=this.graph.createEdge(e,this,t,s);return i.addEventListener("dispose",()=>{delete this[Mn][e],this.dispatchEvent({type:"change",attribute:e})}),this[Mn][e]=i,this.dispatchEvent({type:"change",attribute:e})}listRefs(e){return this[Mn][e].map(t=>t.getChild())}addRef(e,t,s){const o=this.graph.createEdge(e,this,t,s),i=this[Mn][e];return i.push(o),o.addEventListener("dispose",()=>{const u=i.filter(p=>p!==o);i.length=0;for(const p of u)i.push(p);this.dispatchEvent({type:"change",attribute:e})}),this.dispatchEvent({type:"change",attribute:e})}removeRef(e,t){return this[Mn][e].filter(s=>s.getChild()===t).forEach(s=>s.dispose()),this}listRefMapKeys(e){return Object.keys(this[Mn][e])}listRefMapValues(e){return Object.values(this[Mn][e]).map(t=>t.getChild())}getRefMap(e,t){const s=this[Mn][e];return s[t]?s[t].getChild():null}setRefMap(e,t,s,o){const i=this[Mn][e],u=i[t];if(u&&u.dispose(),!s)return this;o=Object.assign(o||{},{key:t});const p=this.graph.createEdge(e,this,s,ma({},o,{key:t}));return p.addEventListener("dispose",()=>{delete i[t],this.dispatchEvent({type:"change",attribute:e,key:t})}),i[t]=p,this.dispatchEvent({type:"change",attribute:e,key:t})}dispatchEvent(e){return super.dispatchEvent(ma({},e,{target:this})),this.graph.dispatchEvent(ma({},e,{target:this,type:`node:${e.type}`})),this}};var Wf=1e-6,bo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var n=0,e=arguments.length;e--;)n+=arguments[e]*arguments[e];return Math.sqrt(n)});function Fa(){var n=new bo(3);return bo!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n}function Va(n){var e=n[0],t=n[1],s=n[2];return Math.hypot(e,t,s)}function Nu(n,e,t){var s=new bo(3);return s[0]=n,s[1]=e,s[2]=t,s}function Is(n,e,t){return n[0]=Math.min(e[0],t[0]),n[1]=Math.min(e[1],t[1]),n[2]=Math.min(e[2],t[2]),n}function Fs(n,e,t){return n[0]=Math.max(e[0],t[0]),n[1]=Math.max(e[1],t[1]),n[2]=Math.max(e[2],t[2]),n}function Lu(n,e,t){return n[0]=e[0]*t,n[1]=e[1]*t,n[2]=e[2]*t,n}function es(n,e){var t=e[0],s=e[1],o=e[2],i=t*t+s*s+o*o;return i>0&&(i=1/Math.sqrt(i)),n[0]=e[0]*i,n[1]=e[1]*i,n[2]=e[2]*i,n}function Vf(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function ms(n,e,t){var s=e[0],o=e[1],i=e[2],u=t[0],p=t[1],_=t[2];return n[0]=o*_-i*p,n[1]=i*u-s*_,n[2]=s*p-o*u,n}function Hs(n,e,t){var s=e[0],o=e[1],i=e[2],u=t[3]*s+t[7]*o+t[11]*i+t[15];return u=u||1,n[0]=(t[0]*s+t[4]*o+t[8]*i+t[12])/u,n[1]=(t[1]*s+t[5]*o+t[9]*i+t[13])/u,n[2]=(t[2]*s+t[6]*o+t[10]*i+t[14])/u,n}function Kf(n,e,t){var s=e[0],o=e[1],i=e[2];return n[0]=s*t[0]+o*t[3]+i*t[6],n[1]=s*t[1]+o*t[4]+i*t[7],n[2]=s*t[2]+o*t[5]+i*t[8],n}var Jf=Va;(function(){var n=Fa();return function(e,t,s,o,i,u){var p,_;for(t||(t=3),s||(s=0),o?_=Math.min(o*t+s,e.length):_=e.length,p=s;p<_;p+=t)n[0]=e[p],n[1]=e[p+1],n[2]=e[p+2],i(n,n,u),e[p]=n[0],e[p+1]=n[1],e[p+2]=n[2];return e}})();function qf(n,e){var t=e[0],s=e[1],o=e[2],i=e[3],u=e[4],p=e[5],_=e[6],B=e[7],d=e[8],V=e[9],I=e[10],L=e[11],W=e[12],le=e[13],ne=e[14],q=e[15],X=t*p-s*u,re=t*_-o*u,ce=t*B-i*u,_e=s*_-o*p,ye=s*B-i*p,Ue=o*B-i*_,Ge=d*le-V*W,Ve=d*ne-I*W,ke=d*q-L*W,bt=V*ne-I*le,et=V*q-L*le,Pt=I*q-L*ne,st=X*Pt-re*et+ce*bt+_e*ke-ye*Ve+Ue*Ge;return st?(st=1/st,n[0]=(p*Pt-_*et+B*bt)*st,n[1]=(o*et-s*Pt-i*bt)*st,n[2]=(le*Ue-ne*ye+q*_e)*st,n[3]=(I*ye-V*Ue-L*_e)*st,n[4]=(_*ke-u*Pt-B*Ve)*st,n[5]=(t*Pt-o*ke+i*Ve)*st,n[6]=(ne*ce-W*Ue-q*re)*st,n[7]=(d*Ue-I*ce+L*re)*st,n[8]=(u*et-p*ke+B*Ge)*st,n[9]=(s*ke-t*et-i*Ge)*st,n[10]=(W*ye-le*ce+q*X)*st,n[11]=(V*ce-d*ye-L*X)*st,n[12]=(p*Ve-u*bt-_*Ge)*st,n[13]=(t*bt-s*Ve+o*Ge)*st,n[14]=(le*re-W*_e-ne*X)*st,n[15]=(d*_e-V*re+I*X)*st,n):null}function zf(n){var e=n[0],t=n[1],s=n[2],o=n[3],i=n[4],u=n[5],p=n[6],_=n[7],B=n[8],d=n[9],V=n[10],I=n[11],L=n[12],W=n[13],le=n[14],ne=n[15],q=e*u-t*i,X=e*p-s*i,re=e*_-o*i,ce=t*p-s*u,_e=t*_-o*u,ye=s*_-o*p,Ue=B*W-d*L,Ge=B*le-V*L,Ve=B*ne-I*L,ke=d*le-V*W,bt=d*ne-I*W,et=V*ne-I*le;return q*et-X*bt+re*ke+ce*Ve-_e*Ge+ye*Ue}function js(n,e,t){var s=e[0],o=e[1],i=e[2],u=e[3],p=e[4],_=e[5],B=e[6],d=e[7],V=e[8],I=e[9],L=e[10],W=e[11],le=e[12],ne=e[13],q=e[14],X=e[15],re=t[0],ce=t[1],_e=t[2],ye=t[3];return n[0]=re*s+ce*p+_e*V+ye*le,n[1]=re*o+ce*_+_e*I+ye*ne,n[2]=re*i+ce*B+_e*L+ye*q,n[3]=re*u+ce*d+_e*W+ye*X,re=t[4],ce=t[5],_e=t[6],ye=t[7],n[4]=re*s+ce*p+_e*V+ye*le,n[5]=re*o+ce*_+_e*I+ye*ne,n[6]=re*i+ce*B+_e*L+ye*q,n[7]=re*u+ce*d+_e*W+ye*X,re=t[8],ce=t[9],_e=t[10],ye=t[11],n[8]=re*s+ce*p+_e*V+ye*le,n[9]=re*o+ce*_+_e*I+ye*ne,n[10]=re*i+ce*B+_e*L+ye*q,n[11]=re*u+ce*d+_e*W+ye*X,re=t[12],ce=t[13],_e=t[14],ye=t[15],n[12]=re*s+ce*p+_e*V+ye*le,n[13]=re*o+ce*_+_e*I+ye*ne,n[14]=re*i+ce*B+_e*L+ye*q,n[15]=re*u+ce*d+_e*W+ye*X,n}function Yf(n,e){return n[0]=e[0],n[1]=0,n[2]=0,n[3]=0,n[4]=0,n[5]=e[1],n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=e[2],n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,n}function Xf(n,e){var t=e[0],s=e[1],o=e[2],i=e[4],u=e[5],p=e[6],_=e[8],B=e[9],d=e[10];return n[0]=Math.hypot(t,s,o),n[1]=Math.hypot(i,u,p),n[2]=Math.hypot(_,B,d),n}function $f(n,e){var t=new bo(3);Xf(t,e);var s=1/t[0],o=1/t[1],i=1/t[2],u=e[0]*s,p=e[1]*o,_=e[2]*i,B=e[4]*s,d=e[5]*o,V=e[6]*i,I=e[8]*s,L=e[9]*o,W=e[10]*i,le=u+d+W,ne=0;return le>0?(ne=Math.sqrt(le+1)*2,n[3]=.25*ne,n[0]=(V-L)/ne,n[1]=(I-_)/ne,n[2]=(p-B)/ne):u>d&&u>W?(ne=Math.sqrt(1+u-d-W)*2,n[3]=(V-L)/ne,n[0]=.25*ne,n[1]=(p+B)/ne,n[2]=(I+_)/ne):d>W?(ne=Math.sqrt(1+d-u-W)*2,n[3]=(I-_)/ne,n[0]=(p+B)/ne,n[1]=.25*ne,n[2]=(V+L)/ne):(ne=Math.sqrt(1+W-u-d)*2,n[3]=(p-B)/ne,n[0]=(I+_)/ne,n[1]=(V+L)/ne,n[2]=.25*ne),n}function Qf(n,e,t,s){var o=e[0],i=e[1],u=e[2],p=e[3],_=o+o,B=i+i,d=u+u,V=o*_,I=o*B,L=o*d,W=i*B,le=i*d,ne=u*d,q=p*_,X=p*B,re=p*d,ce=s[0],_e=s[1],ye=s[2];return n[0]=(1-(W+ne))*ce,n[1]=(I+re)*ce,n[2]=(L-X)*ce,n[3]=0,n[4]=(I-re)*_e,n[5]=(1-(V+ne))*_e,n[6]=(le+q)*_e,n[7]=0,n[8]=(L+X)*ye,n[9]=(le-q)*ye,n[10]=(1-(V+W))*ye,n[11]=0,n[12]=t[0],n[13]=t[1],n[14]=t[2],n[15]=1,n}const Zf="v2.5.1",ks="@glb.bin";var Me,Ca,go,oi,Ji,za;function Ra(n){const e={min:[1/0,1/0,1/0],max:[-1/0,-1/0,-1/0]},t=n.propertyType===Me.NODE?[n]:n.listChildren();for(const s of t)s.traverse(o=>{const i=o.getMesh();if(!i)return;const u=el(i,o.getWorldMatrix());Rs(u.min,e),Rs(u.max,e)});return e}function el(n,e){const t={min:[1/0,1/0,1/0],max:[-1/0,-1/0,-1/0]};for(const s of n.listPrimitives()){const o=s.getAttribute("POSITION");if(!o)continue;let i=[0,0,0],u=[0,0,0];for(let p=0;p<o.getCount();p++)i=o.getElement(p,i),u=Hs(u,i,e),Rs(u,t)}return t}function Rs(n,e){for(let t=0;t<3;t++)e.min[t]=Math.min(n[t],e.min[t]),e.max[t]=Math.max(n[t],e.max[t])}(function(n){n.ACCESSOR="Accessor",n.ANIMATION="Animation",n.ANIMATION_CHANNEL="AnimationChannel",n.ANIMATION_SAMPLER="AnimationSampler",n.BUFFER="Buffer",n.CAMERA="Camera",n.MATERIAL="Material",n.MESH="Mesh",n.PRIMITIVE="Primitive",n.PRIMITIVE_TARGET="PrimitiveTarget",n.NODE="Node",n.ROOT="Root",n.SCENE="Scene",n.SKIN="Skin",n.TEXTURE="Texture",n.TEXTURE_INFO="TextureInfo"})(Me||(Me={})),function(n){n.INTERLEAVED="interleaved",n.SEPARATE="separate"}(Ca||(Ca={})),function(n){n.ARRAY_BUFFER="ARRAY_BUFFER",n.ELEMENT_ARRAY_BUFFER="ELEMENT_ARRAY_BUFFER",n.INVERSE_BIND_MATRICES="INVERSE_BIND_MATRICES",n.OTHER="OTHER"}(go||(go={})),function(n){n[n.R=4096]="R",n[n.G=256]="G",n[n.B=16]="B",n[n.A=1]="A"}(oi||(oi={})),function(n){n.GLTF="GLTF",n.GLB="GLB"}(Ji||(Ji={}));class en{static createBufferFromDataURI(e){if(typeof Buffer>"u"){const t=atob(e.split(",")[1]),s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}{const t=e.split(",")[1],s=e.indexOf("base64")>=0;return Buffer.from(t,s?"base64":"utf8")}}static encodeText(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Buffer.from(e)}static decodeText(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Buffer.from(e).toString("utf8")}static concat(e){let t=0;for(const i of e)t+=i.byteLength;const s=new Uint8Array(t);let o=0;for(const i of e)s.set(i,o),o+=i.byteLength;return s}static pad(e,t=0){const s=this.padNumber(e.byteLength);if(s===e.byteLength)return e;const o=new Uint8Array(s);if(o.set(e),t!==0)for(let i=e.byteLength;i<s;i++)o[i]=t;return o}static padNumber(e){return 4*Math.ceil(e/4)}static equals(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;let s=e.byteLength;for(;s--;)if(e[s]!==t[s])return!1;return!0}static toView(e,t=0,s=1/0){return new Uint8Array(e.buffer,e.byteOffset+t,Math.min(e.byteLength,s))}static assertView(e){if(e&&!ArrayBuffer.isView(e))throw new Error(`Method requires Uint8Array parameter; received "${typeof e}".`);return e}}let Si=class{static hexToFactor(e,t){e=Math.floor(e);const s=t;return s[0]=(e>>16&255)/255,s[1]=(e>>8&255)/255,s[2]=(255&e)/255,this.convertSRGBToLinear(t,t)}static factorToHex(e){const t=[...e],[s,o,i]=this.convertLinearToSRGB(e,t);return 255*s<<16^255*o<<8^255*i<<0}static convertSRGBToLinear(e,t){const s=e,o=t;for(let i=0;i<3;i++)o[i]=s[i]<.04045?.0773993808*s[i]:Math.pow(.9478672986*s[i]+.0521327014,2.4);return t}static convertLinearToSRGB(e,t){const s=e,o=t;for(let i=0;i<3;i++)o[i]=s[i]<.0031308?12.92*s[i]:1.055*Math.pow(s[i],.41666)-.055;return t}},Ws=class{match(e){return e.length>=8&&e[0]===137&&e[1]===80&&e[2]===78&&e[3]===71&&e[4]===13&&e[5]===10&&e[6]===26&&e[7]===10}getSize(e){const t=new DataView(e.buffer,e.byteOffset);return en.decodeText(e.slice(12,16))===Ws.PNG_FRIED_CHUNK_NAME?[t.getUint32(32,!1),t.getUint32(36,!1)]:[t.getUint32(16,!1),t.getUint32(20,!1)]}getChannels(e){return 4}};Ws.PNG_FRIED_CHUNK_NAME="CgBI";let po=class{static registerFormat(e,t){this.impls[e]=t}static getMimeType(e){for(const t in this.impls)if(this.impls[t].match(e))return t;return null}static getSize(e,t){return this.impls[t]?this.impls[t].getSize(e):null}static getChannels(e,t){return this.impls[t]?this.impls[t].getChannels(e):null}static getMemSize(e,t){if(!this.impls[t])return null;if(this.impls[t].getGPUByteLength)return this.impls[t].getGPUByteLength(e);let s=0;const o=this.getSize(e,t);if(!o)return null;for(;o[0]>1||o[1]>1;)s+=o[0]*o[1]*4,o[0]=Math.max(Math.floor(o[0]/2),1),o[1]=Math.max(Math.floor(o[1]/2),1);return s+=4,s}static mimeTypeToExtension(e){return e==="image/jpeg"?"jpg":e.split("/").pop()}static extensionToMimeType(e){return e==="jpg"?"image/jpeg":`image/${e}`}};function tl(n,e){if(e>n.byteLength)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(n.getUint8(e)!==255)throw new TypeError("Invalid JPG, marker table corrupted");return n}po.impls={"image/jpeg":new class{match(n){return n.length>=3&&n[0]===255&&n[1]===216&&n[2]===255}getSize(n){let e,t,s=new DataView(n.buffer,n.byteOffset+4);for(;s.byteLength;){if(e=s.getUint16(0,!1),tl(s,e),t=s.getUint8(e+1),t===192||t===193||t===194)return[s.getUint16(e+7,!1),s.getUint16(e+5,!1)];s=new DataView(n.buffer,s.byteOffset+e+2)}throw new TypeError("Invalid JPG, no size found")}getChannels(n){return 3}},"image/png":new Ws};let To=class{static basename(e){const t=e.split(/[\\/]/).pop();return t.substring(0,t.lastIndexOf("."))}static extension(e){if(e.startsWith("data:image/")){const t=e.match(/data:(image\/\w+)/)[1];return po.mimeTypeToExtension(t)}return e.startsWith("data:model/gltf+json")?"gltf":e.startsWith("data:model/gltf-binary")?"glb":e.startsWith("data:application/")?"bin":e.split(/[\\/]/).pop().split(/[.]/).pop()}};function xu(n){return Object.prototype.toString.call(n)==="[object Object]"}function Vo(n){if(xu(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return xu(t)!==!1&&Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")!==!1}(function(n){n[n.SILENT=4]="SILENT",n[n.ERROR=3]="ERROR",n[n.WARN=2]="WARN",n[n.INFO=1]="INFO",n[n.DEBUG=0]="DEBUG"})(za||(za={}));let no=class{constructor(e){this.verbosity=void 0,this.verbosity=e}debug(e){this.verbosity<=no.Verbosity.DEBUG&&console.debug(e)}info(e){this.verbosity<=no.Verbosity.INFO&&console.info(e)}warn(e){this.verbosity<=no.Verbosity.WARN&&console.warn(e)}error(e){this.verbosity<=no.Verbosity.ERROR&&console.error(e)}};no.Verbosity=za,no.DEFAULT_INSTANCE=new no(no.Verbosity.INFO);let dn=class{static identity(e){return e}static eq(e,t,s=1e-5){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(Math.abs(e[o]-t[o])>s)return!1;return!0}static denormalize(e,t){switch(t){case 5126:return e;case 5123:return e/65535;case 5121:return e/255;case 5122:return Math.max(e/32767,-1);case 5120:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}static normalize(e,t){switch(t){case 5126:return e;case 5123:return Math.round(65535*e);case 5121:return Math.round(255*e);case 5122:return Math.round(32767*e);case 5120:return Math.round(127*e);default:throw new Error("Invalid component type.")}}static decompose(e,t,s,o){let i=Va([e[0],e[1],e[2]]);const u=Va([e[4],e[5],e[6]]),p=Va([e[8],e[9],e[10]]);zf(e)<0&&(i=-i),t[0]=e[12],t[1]=e[13],t[2]=e[14];const _=e.slice(),B=1/i,d=1/u,V=1/p;_[0]*=B,_[1]*=B,_[2]*=B,_[4]*=d,_[5]*=d,_[6]*=d,_[8]*=V,_[9]*=V,_[10]*=V,$f(s,_),o[0]=i,o[1]=u,o[2]=p}static compose(e,t,s,o){const i=o,u=t[0],p=t[1],_=t[2],B=t[3],d=u+u,V=p+p,I=_+_,L=u*d,W=u*V,le=u*I,ne=p*V,q=p*I,X=_*I,re=B*d,ce=B*V,_e=B*I,ye=s[0],Ue=s[1],Ge=s[2];return i[0]=(1-(ne+X))*ye,i[1]=(W+_e)*ye,i[2]=(le-ce)*ye,i[3]=0,i[4]=(W-_e)*Ue,i[5]=(1-(L+X))*Ue,i[6]=(q+re)*Ue,i[7]=0,i[8]=(le+ce)*Ge,i[9]=(q-re)*Ge,i[10]=(1-(L+ne))*Ge,i[11]=0,i[12]=e[0],i[13]=e[1],i[14]=e[2],i[15]=1,i}};function rl(n,e){if(!!n!=!!e)return!1;const t=n.getChild(),s=e.getChild();return t===s||t.equals(s)}function nl(n,e){if(!!n!=!!e||n.length!==e.length)return!1;for(let t=0;t<n.length;t++){const s=n[t],o=e[t];if(s.getChild()!==o.getChild()&&!s.getChild().equals(o.getChild()))return!1}return!0}function il(n,e){if(!!n!=!!e)return!1;const t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(const o in n){const i=n[o],u=e[o];if(!!i!=!!u)return!1;const p=i.getChild(),_=u.getChild();if(p!==_&&!p.equals(_))return!1}return!0}function zc(n,e){if(n===e)return!0;if(!!n!=!!e||!n||!e||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function Yc(n,e){if(n===e)return!0;if(!!n!=!!e)return!1;if(!Vo(n)||!Vo(e))return n===e;const t=n,s=e;let o,i=0,u=0;for(o in t)i++;for(o in s)u++;if(i!==u)return!1;for(o in t){const p=t[o],_=s[o];if(Ya(p)&&Ya(_)){if(!zc(p,_))return!1}else if(Vo(p)&&Vo(_)){if(!Yc(p,_))return!1}else if(p!==_)return!1}return!0}function Ya(n){return Array.isArray(n)||ArrayBuffer.isView(n)}const Uu="23456789abdegjkmnpqrvwxyzABDEGJKMNPQRVWXYZ",Gu=new Set,ol=function(){let n="";for(let e=0;e<6;e++)n+=Uu.charAt(Math.floor(Math.random()*Uu.length));return n},ya=function(){for(let n=0;n<999;n++){const e=ol();if(!Gu.has(e))return Gu.add(e),e}return""};let bi=class{static dirname(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substring(0,t+1)}static basename(e){return To.basename(new URL(e,"https://null.example").pathname)}static extension(e){return To.extension(new URL(e,"https://null.example").pathname)}static resolve(e,t){if(!this.isRelativePath(t))return t;const s=e.split("/"),o=t.split("/");s.pop();for(let i=0;i<o.length;i++)o[i]!=="."&&(o[i]===".."?s.pop():s.push(o[i]));return s.join("/")}static isAbsoluteURL(e){return this.PROTOCOL_REGEXP.test(e)}static isRelativePath(e){return!/^(?:[a-zA-Z]+:)?\//.test(e)}};bi.DEFAULT_INIT={},bi.PROTOCOL_REGEXP=/^[a-zA-Z]+:\/\//;const Eo=n=>n,al=new Set;let ts=class extends qc{constructor(e,t=""){super(e),this[Mn].name=t,this.init(),this.dispatchEvent({type:"create"})}getDefaults(){return Object.assign(super.getDefaults(),{name:"",extras:{}})}getName(){return this.get("name")}setName(e){return this.set("name",e)}getExtras(){return this.get("extras")}setExtras(e){return this.set("extras",e)}clone(){return new this.constructor(this.graph).copy(this,Eo)}copy(e,t=Eo){for(const s in this[Mn]){const o=this[Mn][s];if(o instanceof qo)this[ra].has(s)||o.dispose();else if(_a(o))for(const i of o)i.dispose();else if(ha(o))for(const i in o)o[i].dispose()}for(const s in e[Mn]){const o=this[Mn][s],i=e[Mn][s];if(i instanceof qo)this[ra].has(s)?o.getChild().copy(t(i.getChild()),t):this.setRef(s,t(i.getChild()),i.getAttributes());else if(_a(i))for(const u of i)this.addRef(s,t(u.getChild()),u.getAttributes());else if(ha(i))for(const u in i){const p=i[u];this.setRefMap(s,u,t(p.getChild()),p.getAttributes())}else this[Mn][s]=Vo(i)?JSON.parse(JSON.stringify(i)):Array.isArray(i)||i instanceof ArrayBuffer||ArrayBuffer.isView(i)?i.slice():i}return this}equals(e,t=al){if(this===e)return!0;if(this.propertyType!==e.propertyType)return!1;for(const s in this[Mn]){if(t.has(s))continue;const o=this[Mn][s],i=e[Mn][s];if(Ds(o)||Ds(i)){if(!rl(o,i))return!1}else if(_a(o)||_a(i)){if(!nl(o,i))return!1}else if(ha(o)||ha(i)){if(!il(o,i))return!1}else if(Vo(o)||Vo(i)){if(!Yc(o,i))return!1}else if(Ya(o)||Ya(i)){if(!zc(o,i))return!1}else if(o!==i)return!1}return!0}detach(){return this.graph.disconnectParents(this,e=>e.propertyType!=="Root"),this}listParents(){return this.graph.listParents(this)}},Di=class extends ts{getDefaults(){return Object.assign(super.getDefaults(),{extensions:{}})}getExtension(e){return this.getRefMap("extensions",e)}setExtension(e,t){return t&&t.t(this),this.setRefMap("extensions",e,t)}listExtensions(){return this.listRefMapValues("extensions")}},xt=class extends Di{constructor(...e){super(...e),this.i=dn.identity,this.o=dn.identity}init(){this.propertyType=Me.ACCESSOR}getDefaults(){return Object.assign(super.getDefaults(),{array:null,type:xt.Type.SCALAR,componentType:xt.ComponentType.FLOAT,normalized:!1,buffer:null})}copy(e,t=Eo){return super.copy(e,t),this.i=e.i,this.o=e.o,this}static getElementSize(e){switch(e){case xt.Type.SCALAR:return 1;case xt.Type.VEC2:return 2;case xt.Type.VEC3:return 3;case xt.Type.VEC4:case xt.Type.MAT2:return 4;case xt.Type.MAT3:return 9;case xt.Type.MAT4:return 16;default:throw new Error("Unexpected type: "+e)}}static getComponentSize(e){switch(e){case xt.ComponentType.BYTE:case xt.ComponentType.UNSIGNED_BYTE:return 1;case xt.ComponentType.SHORT:case xt.ComponentType.UNSIGNED_SHORT:return 2;case xt.ComponentType.UNSIGNED_INT:case xt.ComponentType.FLOAT:return 4;default:throw new Error("Unexpected component type: "+e)}}getMinNormalized(e){const t=this.getElementSize();this.getMin(e);for(let s=0;s<t;s++)e[s]=this.o(e[s]);return e}getMin(e){const t=this.get("array"),s=this.getCount(),o=this.getElementSize();for(let i=0;i<o;i++)e[i]=1/0;for(let i=0;i<s*o;i+=o)for(let u=0;u<o;u++){const p=t[i+u];Number.isFinite(p)&&(e[u]=Math.min(e[u],p))}return e}getMaxNormalized(e){const t=this.getElementSize();this.getMax(e);for(let s=0;s<t;s++)e[s]=this.o(e[s]);return e}getMax(e){const t=this.get("array"),s=this.getCount(),o=this.getElementSize();for(let i=0;i<o;i++)e[i]=-1/0;for(let i=0;i<s*o;i+=o)for(let u=0;u<o;u++){const p=t[i+u];Number.isFinite(p)&&(e[u]=Math.max(e[u],p))}return e}getCount(){const e=this.get("array");return e?e.length/this.getElementSize():0}getType(){return this.get("type")}setType(e){return this.set("type",e)}getElementSize(){return xt.getElementSize(this.get("type"))}getComponentSize(){return this.get("array").BYTES_PER_ELEMENT}getComponentType(){return this.get("componentType")}getNormalized(){return this.get("normalized")}setNormalized(e){return this.set("normalized",e),e?(this.o=t=>dn.denormalize(t,this.get("componentType")),this.i=t=>dn.normalize(t,this.get("componentType"))):(this.o=dn.identity,this.i=dn.identity),this}getScalar(e){const t=this.getElementSize();return this.o(this.get("array")[e*t])}setScalar(e,t){return this.get("array")[e*this.getElementSize()]=this.i(t),this}getElement(e,t){const s=this.getElementSize(),o=this.get("array");for(let i=0;i<s;i++)t[i]=this.o(o[e*s+i]);return t}setElement(e,t){const s=this.getElementSize(),o=this.get("array");for(let i=0;i<s;i++)o[e*s+i]=this.i(t[i]);return this}getBuffer(){return this.getRef("buffer")}setBuffer(e){return this.setRef("buffer",e)}getArray(){return this.get("array")}setArray(e){return this.set("componentType",e?function(t){switch(t.constructor){case Float32Array:return xt.ComponentType.FLOAT;case Uint32Array:return xt.ComponentType.UNSIGNED_INT;case Uint16Array:return xt.ComponentType.UNSIGNED_SHORT;case Uint8Array:return xt.ComponentType.UNSIGNED_BYTE;case Int16Array:return xt.ComponentType.SHORT;case Int8Array:return xt.ComponentType.BYTE;default:throw new Error("Unknown accessor componentType.")}}(e):xt.ComponentType.FLOAT),this.set("array",e),this}getByteLength(){const e=this.get("array");return e?e.byteLength:0}};xt.Type={SCALAR:"SCALAR",VEC2:"VEC2",VEC3:"VEC3",VEC4:"VEC4",MAT2:"MAT2",MAT3:"MAT3",MAT4:"MAT4"},xt.ComponentType={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,UNSIGNED_INT:5125,FLOAT:5126};let Vs=class extends Di{init(){this.propertyType=Me.ANIMATION}getDefaults(){return Object.assign(super.getDefaults(),{channels:[],samplers:[]})}addChannel(e){return this.addRef("channels",e)}removeChannel(e){return this.removeRef("channels",e)}listChannels(){return this.listRefs("channels")}addSampler(e){return this.addRef("samplers",e)}removeSampler(e){return this.removeRef("samplers",e)}listSamplers(){return this.listRefs("samplers")}},So=class extends Di{init(){this.propertyType=Me.ANIMATION_CHANNEL}getDefaults(){return Object.assign(super.getDefaults(),{targetPath:null,targetNode:null,sampler:null})}getTargetPath(){return this.get("targetPath")}setTargetPath(e){return this.set("targetPath",e)}getTargetNode(){return this.getRef("targetNode")}setTargetNode(e){return this.setRef("targetNode",e)}getSampler(){return this.getRef("sampler")}setSampler(e){return this.setRef("sampler",e)}};So.TargetPath={TRANSLATION:"translation",ROTATION:"rotation",SCALE:"scale",WEIGHTS:"weights"};let $o=class extends Di{init(){this.propertyType=Me.ANIMATION_SAMPLER}getDefaultAttributes(){return Object.assign(super.getDefaults(),{interpolation:$o.Interpolation.LINEAR,input:null,output:null})}getInterpolation(){return this.get("interpolation")}setInterpolation(e){return this.set("interpolation",e)}getInput(){return this.getRef("input")}setInput(e){return this.setRef("input",e,{usage:go.OTHER})}getOutput(){return this.getRef("output")}setOutput(e){return this.setRef("output",e,{usage:go.OTHER})}};$o.Interpolation={LINEAR:"LINEAR",STEP:"STEP",CUBICSPLINE:"CUBICSPLINE"};let Ks=class extends Di{init(){this.propertyType=Me.BUFFER}getDefaults(){return Object.assign(super.getDefaults(),{uri:""})}getURI(){return this.get("uri")}setURI(e){return this.set("uri",e)}},zo=class extends Di{init(){this.propertyType=Me.CAMERA}getDefaults(){return Object.assign(super.getDefaults(),{type:zo.Type.PERSPECTIVE,znear:.1,zfar:100,aspectRatio:null,yfov:2*Math.PI*50/360,xmag:1,ymag:1})}getType(){return this.get("type")}setType(e){return this.set("type",e)}getZNear(){return this.get("znear")}setZNear(e){return this.set("znear",e)}getZFar(){return this.get("zfar")}setZFar(e){return this.set("zfar",e)}getAspectRatio(){return this.get("aspectRatio")}setAspectRatio(e){return this.set("aspectRatio",e)}getYFov(){return this.get("yfov")}setYFov(e){return this.set("yfov",e)}getXMag(){return this.get("xmag")}setXMag(e){return this.set("xmag",e)}getYMag(){return this.get("ymag")}setYMag(e){return this.set("ymag",e)}};zo.Type={PERSPECTIVE:"perspective",ORTHOGRAPHIC:"orthographic"};let $n=class extends ts{t(e){if(!this.parentTypes.includes(e.propertyType))throw new Error(`Parent "${e.propertyType}" invalid for child "${this.propertyType}".`)}};$n.EXTENSION_NAME=void 0;let jn=class extends Di{init(){this.propertyType=Me.TEXTURE_INFO}getDefaults(){return Object.assign(super.getDefaults(),{texCoord:0,magFilter:null,minFilter:null,wrapS:jn.WrapMode.REPEAT,wrapT:jn.WrapMode.REPEAT})}getTexCoord(){return this.get("texCoord")}setTexCoord(e){return this.set("texCoord",e)}getMagFilter(){return this.get("magFilter")}setMagFilter(e){return this.set("magFilter",e)}getMinFilter(){return this.get("minFilter")}setMinFilter(e){return this.set("minFilter",e)}getWrapS(){return this.get("wrapS")}setWrapS(e){return this.set("wrapS",e)}getWrapT(){return this.get("wrapT")}setWrapT(e){return this.set("wrapT",e)}};jn.WrapMode={CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,REPEAT:10497},jn.MagFilter={NEAREST:9728,LINEAR:9729},jn.MinFilter={NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987};const{R:La,G:xa,B:Ua,A:sl}=oi;let wo=class extends Di{init(){this.propertyType=Me.MATERIAL}getDefaults(){return Object.assign(super.getDefaults(),{alphaMode:wo.AlphaMode.OPAQUE,alphaCutoff:.5,doubleSided:!1,baseColorFactor:[1,1,1,1],baseColorTexture:null,baseColorTextureInfo:new jn(this.graph,"baseColorTextureInfo"),emissiveFactor:[0,0,0],emissiveTexture:null,emissiveTextureInfo:new jn(this.graph,"emissiveTextureInfo"),normalScale:1,normalTexture:null,normalTextureInfo:new jn(this.graph,"normalTextureInfo"),occlusionStrength:1,occlusionTexture:null,occlusionTextureInfo:new jn(this.graph,"occlusionTextureInfo"),roughnessFactor:1,metallicFactor:1,metallicRoughnessTexture:null,metallicRoughnessTextureInfo:new jn(this.graph,"metallicRoughnessTextureInfo")})}getDoubleSided(){return this.get("doubleSided")}setDoubleSided(e){return this.set("doubleSided",e)}getAlpha(){return this.get("baseColorFactor")[3]}setAlpha(e){const t=this.get("baseColorFactor").slice();return t[3]=e,this.set("baseColorFactor",t)}getAlphaMode(){return this.get("alphaMode")}setAlphaMode(e){return this.set("alphaMode",e)}getAlphaCutoff(){return this.get("alphaCutoff")}setAlphaCutoff(e){return this.set("alphaCutoff",e)}getBaseColorFactor(){return this.get("baseColorFactor")}setBaseColorFactor(e){return this.set("baseColorFactor",e)}getBaseColorHex(){return Si.factorToHex(this.get("baseColorFactor"))}setBaseColorHex(e){const t=this.get("baseColorFactor").slice();return this.set("baseColorFactor",Si.hexToFactor(e,t))}getBaseColorTexture(){return this.getRef("baseColorTexture")}getBaseColorTextureInfo(){return this.getRef("baseColorTexture")?this.getRef("baseColorTextureInfo"):null}setBaseColorTexture(e){return this.setRef("baseColorTexture",e,{channels:La|xa|Ua|sl})}getEmissiveFactor(){return this.get("emissiveFactor")}setEmissiveFactor(e){return this.set("emissiveFactor",e)}getEmissiveHex(){return Si.factorToHex(this.get("emissiveFactor"))}setEmissiveHex(e){const t=this.get("emissiveFactor").slice();return this.set("emissiveFactor",Si.hexToFactor(e,t))}getEmissiveTexture(){return this.getRef("emissiveTexture")}getEmissiveTextureInfo(){return this.getRef("emissiveTexture")?this.getRef("emissiveTextureInfo"):null}setEmissiveTexture(e){return this.setRef("emissiveTexture",e,{channels:La|xa|Ua})}getNormalScale(){return this.get("normalScale")}setNormalScale(e){return this.set("normalScale",e)}getNormalTexture(){return this.getRef("normalTexture")}getNormalTextureInfo(){return this.getRef("normalTexture")?this.getRef("normalTextureInfo"):null}setNormalTexture(e){return this.setRef("normalTexture",e,{channels:La|xa|Ua})}getOcclusionStrength(){return this.get("occlusionStrength")}setOcclusionStrength(e){return this.set("occlusionStrength",e)}getOcclusionTexture(){return this.getRef("occlusionTexture")}getOcclusionTextureInfo(){return this.getRef("occlusionTexture")?this.getRef("occlusionTextureInfo"):null}setOcclusionTexture(e){return this.setRef("occlusionTexture",e,{channels:La})}getRoughnessFactor(){return this.get("roughnessFactor")}setRoughnessFactor(e){return this.set("roughnessFactor",e)}getMetallicFactor(){return this.get("metallicFactor")}setMetallicFactor(e){return this.set("metallicFactor",e)}getMetallicRoughnessTexture(){return this.getRef("metallicRoughnessTexture")}getMetallicRoughnessTextureInfo(){return this.getRef("metallicRoughnessTexture")?this.getRef("metallicRoughnessTextureInfo"):null}setMetallicRoughnessTexture(e){return this.setRef("metallicRoughnessTexture",e,{channels:xa|Ua})}};wo.AlphaMode={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};let Js=class extends Di{init(){this.propertyType=Me.MESH}getDefaults(){return Object.assign(super.getDefaults(),{weights:[],primitives:[]})}addPrimitive(e){return this.addRef("primitives",e)}removePrimitive(e){return this.removeRef("primitives",e)}listPrimitives(){return this.listRefs("primitives")}getWeights(){return this.get("weights")}setWeights(e){return this.set("weights",e)}},ua=class extends Di{constructor(...e){super(...e),this.u=null}init(){this.propertyType=Me.NODE}getDefaults(){return Object.assign(super.getDefaults(),{translation:[0,0,0],rotation:[0,0,0,1],scale:[1,1,1],weights:[],camera:null,mesh:null,skin:null,children:[]})}copy(e,t=Eo){if(t===Eo)throw new Error("Node cannot be copied.");return super.copy(e,t)}getTranslation(){return this.get("translation")}getRotation(){return this.get("rotation")}getScale(){return this.get("scale")}setTranslation(e){return this.set("translation",e)}setRotation(e){return this.set("rotation",e)}setScale(e){return this.set("scale",e)}getMatrix(){return dn.compose(this.get("translation"),this.get("rotation"),this.get("scale"),[])}setMatrix(e){const t=this.get("translation").slice(),s=this.get("rotation").slice(),o=this.get("scale").slice();return dn.decompose(e,t,s,o),this.set("translation",t).set("rotation",s).set("scale",o)}getWorldTranslation(){const e=[0,0,0];return dn.decompose(this.getWorldMatrix(),e,[0,0,0,1],[1,1,1]),e}getWorldRotation(){const e=[0,0,0,1];return dn.decompose(this.getWorldMatrix(),[0,0,0],e,[1,1,1]),e}getWorldScale(){const e=[1,1,1];return dn.decompose(this.getWorldMatrix(),[0,0,0],[0,0,0,1],e),e}getWorldMatrix(){const e=[];for(let o=this;o instanceof ua;o=o.u)e.push(o);let t;const s=e.pop().getMatrix();for(;t=e.pop();)js(s,s,t.getMatrix());return s}addChild(e){e.u&&e.u.removeChild(e),this.addRef("children",e),e.u=this;const t=this[Mn].children;return t[t.length-1].addEventListener("dispose",()=>e.u=null),this}removeChild(e){return this.removeRef("children",e)}listChildren(){return this.listRefs("children")}getParent(){return this.u}getMesh(){return this.getRef("mesh")}setMesh(e){return this.setRef("mesh",e)}getCamera(){return this.getRef("camera")}setCamera(e){return this.setRef("camera",e)}getSkin(){return this.getRef("skin")}setSkin(e){return this.setRef("skin",e)}getWeights(){return this.get("weights")}setWeights(e){return this.set("weights",e)}traverse(e){e(this);for(const t of this.listChildren())t.traverse(e);return this}},Xn=class extends Di{init(){this.propertyType=Me.PRIMITIVE}getDefaults(){return Object.assign(super.getDefaults(),{mode:Xn.Mode.TRIANGLES,material:null,indices:null,attributes:{},targets:[]})}getIndices(){return this.getRef("indices")}setIndices(e){return this.setRef("indices",e,{usage:go.ELEMENT_ARRAY_BUFFER})}getAttribute(e){return this.getRefMap("attributes",e)}setAttribute(e,t){return this.setRefMap("attributes",e,t,{usage:go.ARRAY_BUFFER})}listAttributes(){return this.listRefMapValues("attributes")}listSemantics(){return this.listRefMapKeys("attributes")}getMaterial(){return this.getRef("material")}setMaterial(e){return this.setRef("material",e)}getMode(){return this.get("mode")}setMode(e){return this.set("mode",e)}listTargets(){return this.listRefs("targets")}addTarget(e){return this.addRef("targets",e)}removeTarget(e){return this.removeRef("targets",e)}};Xn.Mode={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};let qs=class extends ts{init(){this.propertyType=Me.PRIMITIVE_TARGET}getDefaults(){return Object.assign(super.getDefaults(),{attributes:{}})}getAttribute(e){return this.getRefMap("attributes",e)}setAttribute(e,t){return this.setRefMap("attributes",e,t,{usage:go.ARRAY_BUFFER})}listAttributes(){return this.listRefMapValues("attributes")}listSemantics(){return this.listRefMapKeys("attributes")}};function Ki(){return(Ki=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n}).apply(this,arguments)}let rs=class extends Di{init(){this.propertyType=Me.SCENE}getDefaults(){return Object.assign(super.getDefaults(),{children:[]})}copy(e,t=Eo){if(t===Eo)throw new Error("Scene cannot be copied.");return super.copy(e,t)}addChild(e){e.u&&e.u.removeChild(e),this.addRef("children",e),e.u=this;const t=this[Mn].children;return t[t.length-1].addEventListener("dispose",()=>e.u=null),this}removeChild(e){return this.removeRef("children",e)}listChildren(){return this.listRefs("children")}traverse(e){for(const t of this.listChildren())t.traverse(e);return this}},zs=class extends Di{init(){this.propertyType=Me.SKIN}getDefaults(){return Object.assign(super.getDefaults(),{skeleton:null,inverseBindMatrices:null,joints:[]})}getSkeleton(){return this.getRef("skeleton")}setSkeleton(e){return this.setRef("skeleton",e)}getInverseBindMatrices(){return this.getRef("inverseBindMatrices")}setInverseBindMatrices(e){return this.setRef("inverseBindMatrices",e,{usage:go.INVERSE_BIND_MATRICES})}addJoint(e){return this.addRef("joints",e)}removeJoint(e){return this.removeRef("joints",e)}listJoints(){return this.listRefs("joints")}},Yo=class extends Di{init(){this.propertyType=Me.TEXTURE}getDefaults(){return Object.assign(super.getDefaults(),{image:null,mimeType:"",uri:""})}getMimeType(){return this.get("mimeType")||po.extensionToMimeType(To.extension(this.get("uri")))}setMimeType(e){return this.set("mimeType",e)}getURI(){return this.get("uri")}setURI(e){return this.set("uri",e),this.set("mimeType",po.extensionToMimeType(To.extension(e))),this}getImage(){return this.get("image")}setImage(e){return this.set("image",en.assertView(e))}getSize(){const e=this.get("image");return e?po.getSize(e,this.getMimeType()):null}},Xo=class extends Di{init(){this.propertyType=Me.ROOT}getDefaults(){return Object.assign(super.getDefaults(),{asset:{generator:"glTF-Transform v2.5.1",version:"2.0"},defaultScene:null,accessors:[],animations:[],buffers:[],cameras:[],materials:[],meshes:[],nodes:[],scenes:[],skins:[],textures:[]})}constructor(e){super(e),this.h=new Set,e.addEventListener("node:create",t=>{this.l(t.target)})}clone(){throw new Error("Root cannot be cloned.")}copy(e,t=Eo){if(t===Eo)throw new Error("Root cannot be copied.");this.set("asset",Ki({},e.get("asset"))),this.setName(e.getName()),this.setExtras(Ki({},e.getExtras())),this.setDefaultScene(e.getDefaultScene()?t(e.getDefaultScene()):null);for(const s of e.listRefMapKeys("extensions")){const o=e.getExtension(s);this.setExtension(s,t(o))}return this}l(e){return e instanceof rs?this.addRef("scenes",e):e instanceof ua?this.addRef("nodes",e):e instanceof zo?this.addRef("cameras",e):e instanceof zs?this.addRef("skins",e):e instanceof Js?this.addRef("meshes",e):e instanceof wo?this.addRef("materials",e):e instanceof Yo?this.addRef("textures",e):e instanceof Vs?this.addRef("animations",e):e instanceof xt?this.addRef("accessors",e):e instanceof Ks&&this.addRef("buffers",e),this}getAsset(){return this.get("asset")}listExtensionsUsed(){return Array.from(this.h)}listExtensionsRequired(){return this.listExtensionsUsed().filter(e=>e.isRequired())}g(e){return this.h.add(e),this}p(e){return this.h.delete(e),this}listScenes(){return this.listRefs("scenes")}setDefaultScene(e){return this.setRef("defaultScene",e)}getDefaultScene(){return this.getRef("defaultScene")}listNodes(){return this.listRefs("nodes")}listCameras(){return this.listRefs("cameras")}listSkins(){return this.listRefs("skins")}listMeshes(){return this.listRefs("meshes")}listMaterials(){return this.listRefs("materials")}listTextures(){return this.listRefs("textures")}listAnimations(){return this.listRefs("animations")}listAccessors(){return this.listRefs("accessors")}listBuffers(){return this.listRefs("buffers")}},Ys=class{constructor(){this.m=new Jc,this.v=new Xo(this.m),this.T=no.DEFAULT_INSTANCE}getRoot(){return this.v}getGraph(){return this.m}getLogger(){return this.T}setLogger(e){return this.T=e,this}clone(){return new Ys().setLogger(this.T).merge(this)}merge(e){for(const i of e.getRoot().listExtensionsUsed()){const u=this.createExtension(i.constructor);i.isRequired()&&u.setRequired(!0)}const t=new Set,s=new Map;t.add(e.v),s.set(e.v,this.v);for(const i of e.m.listEdges())for(const u of[i.getParent(),i.getChild()]){if(t.has(u))continue;let p;p=u.propertyType===Me.TEXTURE_INFO?u:new u.constructor(this.m),s.set(u,p),t.add(u)}const o=i=>{const u=s.get(i);if(!u)throw new Error("Could resolve property.");return u};for(const i of t){const u=s.get(i);if(!u)throw new Error("Could resolve property.");u.propertyType!==Me.TEXTURE_INFO&&u.copy(i,o)}return this}async transform(...e){const t=e.map(s=>s.name);for(const s of e)await s(this,{stack:t});return this}createExtension(e){const t=e.EXTENSION_NAME;return this.getRoot().listExtensionsUsed().find(s=>s.extensionName===t)||new e(this)}createScene(e=""){return new rs(this.m,e)}createNode(e=""){return new ua(this.m,e)}createCamera(e=""){return new zo(this.m,e)}createSkin(e=""){return new zs(this.m,e)}createMesh(e=""){return new Js(this.m,e)}createPrimitive(){return new Xn(this.m)}createPrimitiveTarget(e=""){return new qs(this.m,e)}createMaterial(e=""){return new wo(this.m,e)}createTexture(e=""){return new Yo(this.m,e)}createAnimation(e=""){return new Vs(this.m,e)}createAnimationChannel(e=""){return new So(this.m,e)}createAnimationSampler(e=""){return new $o(this.m,e)}createAccessor(e="",t=null){return t||(t=this.getRoot().listBuffers()[0]),new xt(this.m,e).setBuffer(t)}createBuffer(e=""){return new Ks(this.m,e)}},Qn=class{constructor(e){this.extensionName="",this.prereadTypes=[],this.prewriteTypes=[],this.readDependencies=[],this.writeDependencies=[],this.document=void 0,this.required=!1,this.properties=new Set,this.S=void 0,this.document=e,e.getRoot().g(this),this.S=s=>{const o=s,i=o.target;i instanceof $n&&i.extensionName===this.extensionName&&(o.type==="node:create"&&this.M(i),o.type==="node:dispose"&&this.I(i))};const t=e.getGraph();t.addEventListener("node:create",this.S),t.addEventListener("node:dispose",this.S)}dispose(){this.document.getRoot().p(this);const e=this.document.getGraph();e.removeEventListener("node:create",this.S),e.removeEventListener("node:dispose",this.S);for(const t of this.properties)t.dispose()}static register(){}isRequired(){return this.required}setRequired(e){return this.required=e,this}listProperties(){return Array.from(this.properties)}M(e){return this.properties.add(e),this}I(e){return this.properties.delete(e),this}install(e,t){return this}preread(e,t){return this}prewrite(e,t){return this}};Qn.EXTENSION_NAME=void 0;let Xc=class{constructor(e){this.jsonDoc=void 0,this.buffers=[],this.bufferViews=[],this.bufferViewBuffers=[],this.accessors=[],this.textures=[],this.textureInfos=new Map,this.materials=[],this.meshes=[],this.cameras=[],this.nodes=[],this.skins=[],this.animations=[],this.scenes=[],this.jsonDoc=e}setTextureInfo(e,t){this.textureInfos.set(e,t),t.texCoord!==void 0&&e.setTexCoord(t.texCoord),t.extras!==void 0&&e.setExtras(t.extras);const s=this.jsonDoc.json.textures[t.index];if(s.sampler===void 0)return;const o=this.jsonDoc.json.samplers[s.sampler];o.magFilter!==void 0&&e.setMagFilter(o.magFilter),o.minFilter!==void 0&&e.setMinFilter(o.minFilter),o.wrapS!==void 0&&e.setWrapS(o.wrapS),o.wrapT!==void 0&&e.setWrapT(o.wrapT)}};const Ss={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Hu={logger:no.DEFAULT_INSTANCE,extensions:[],dependencies:{}};function Ga(n,e){const t=e.bufferViews[n.bufferView],s=e.jsonDoc.json.bufferViews[n.bufferView],o=Ss[n.componentType],i=xt.getElementSize(n.type),u=o.BYTES_PER_ELEMENT;if(s.byteStride!==void 0&&s.byteStride!==i*u)return function(_,B){const d=B.bufferViews[_.bufferView],V=B.jsonDoc.json.bufferViews[_.bufferView],I=Ss[_.componentType],L=xt.getElementSize(_.type),W=I.BYTES_PER_ELEMENT,le=_.byteOffset||0,ne=new I(_.count*L),q=new DataView(d.buffer,d.byteOffset,d.byteLength),X=V.byteStride;for(let re=0;re<_.count;re++)for(let ce=0;ce<L;ce++){const _e=le+re*X+ce*W;let ye;switch(_.componentType){case xt.ComponentType.FLOAT:ye=q.getFloat32(_e,!0);break;case xt.ComponentType.UNSIGNED_INT:ye=q.getUint32(_e,!0);break;case xt.ComponentType.UNSIGNED_SHORT:ye=q.getUint16(_e,!0);break;case xt.ComponentType.UNSIGNED_BYTE:ye=q.getUint8(_e);break;case xt.ComponentType.SHORT:ye=q.getInt16(_e,!0);break;case xt.ComponentType.BYTE:ye=q.getInt8(_e);break;default:throw new Error(`Unexpected componentType "${_.componentType}".`)}ne[re*L+ce]=ye}return ne}(n,e);const p=t.byteOffset+(n.byteOffset||0);return new o(t.buffer.slice(p,p+n.count*i*u))}var va;(function(n){n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER"})(va||(va={}));let _o=class{constructor(e,t,s){this.N=void 0,this.jsonDoc=void 0,this.options=void 0,this.accessorIndexMap=new Map,this.animationIndexMap=new Map,this.bufferIndexMap=new Map,this.cameraIndexMap=new Map,this.skinIndexMap=new Map,this.materialIndexMap=new Map,this.meshIndexMap=new Map,this.nodeIndexMap=new Map,this.imageIndexMap=new Map,this.textureDefIndexMap=new Map,this.textureInfoDefMap=new Map,this.samplerDefIndexMap=new Map,this.sceneIndexMap=new Map,this.imageBufferViews=[],this.otherBufferViews=new Map,this.otherBufferViewsIndexMap=new Map,this.extensionData={},this.bufferURIGenerator=void 0,this.imageURIGenerator=void 0,this.logger=void 0,this.O=new Map,this.accessorUsageGroupedByParent=new Set(["ARRAY_BUFFER"]),this.accessorParents=new Map,this.N=e,this.jsonDoc=t,this.options=s;const o=e.getRoot(),i=o.listBuffers().length,u=o.listTextures().length;this.bufferURIGenerator=new ju(i>1,()=>s.basename||"buffer"),this.imageURIGenerator=new ju(u>1,p=>function(_,B){const d=_.getGraph().listParentEdges(B).find(V=>V.getParent()!==_.getRoot());return d?d.getName().replace(/texture$/i,""):""}(e,p)||s.basename||"texture"),this.logger=e.getLogger()}createTextureInfoDef(e,t){const s={magFilter:t.getMagFilter()||void 0,minFilter:t.getMinFilter()||void 0,wrapS:t.getWrapS(),wrapT:t.getWrapT()},o=JSON.stringify(s);this.samplerDefIndexMap.has(o)||(this.samplerDefIndexMap.set(o,this.jsonDoc.json.samplers.length),this.jsonDoc.json.samplers.push(s));const i={source:this.imageIndexMap.get(e),sampler:this.samplerDefIndexMap.get(o)},u=JSON.stringify(i);this.textureDefIndexMap.has(u)||(this.textureDefIndexMap.set(u,this.jsonDoc.json.textures.length),this.jsonDoc.json.textures.push(i));const p={index:this.textureDefIndexMap.get(u)};return t.getTexCoord()!==0&&(p.texCoord=t.getTexCoord()),Object.keys(t.getExtras()).length>0&&(p.extras=t.getExtras()),this.textureInfoDefMap.set(t,p),p}createPropertyDef(e){const t={};return e.getName()&&(t.name=e.getName()),Object.keys(e.getExtras()).length>0&&(t.extras=e.getExtras()),t}createAccessorDef(e){const t=this.createPropertyDef(e);return t.type=e.getType(),t.componentType=e.getComponentType(),t.count=e.getCount(),this.N.getGraph().listParentEdges(e).some(s=>s.getName()==="attributes"&&s.getAttributes().key==="POSITION"||s.getName()==="input")&&(t.max=e.getMax([]).map(Math.fround),t.min=e.getMin([]).map(Math.fround)),e.getNormalized()&&(t.normalized=e.getNormalized()),t}createImageData(e,t,s){if(this.options.format===Ji.GLB)this.imageBufferViews.push(t),e.bufferView=this.jsonDoc.json.bufferViews.length,this.jsonDoc.json.bufferViews.push({buffer:0,byteOffset:-1,byteLength:t.byteLength});else{const o=po.mimeTypeToExtension(s.getMimeType());e.uri=this.imageURIGenerator.createURI(s,o),this.jsonDoc.resources[e.uri]=t}}getAccessorUsage(e){const t=this.O.get(e);if(t)return t;for(const s of this.N.getGraph().listParentEdges(e)){const{usage:o}=s.getAttributes();if(o)return o;s.getParent().propertyType!==Me.ROOT&&this.N.getLogger().warn(`Missing attribute ".usage" on edge, "${s.getName()}".`)}return _o.BufferViewUsage.OTHER}addAccessorToUsageGroup(e,t){const s=this.O.get(e);if(s&&s!==t)throw new Error(`Accessor with usage "${s}" cannot be reused as "${t}".`);return this.O.set(e,t),this}listAccessorUsageGroups(){const e={};for(const[t,s]of Array.from(this.O.entries()))e[s]=e[s]||[],e[s].push(t);return e}};_o.BufferViewTarget=va,_o.BufferViewUsage=go,_o.USAGE_TO_TARGET={[go.ARRAY_BUFFER]:va.ARRAY_BUFFER,[go.ELEMENT_ARRAY_BUFFER]:va.ELEMENT_ARRAY_BUFFER};let ju=class{constructor(e,t){this.multiple=void 0,this.basename=void 0,this.counter={},this.multiple=e,this.basename=t}createURI(e,t){if(e.getURI())return e.getURI();if(this.multiple){const s=this.basename(e);return this.counter[s]=this.counter[s]||1,`${s}_${this.counter[s]++}.${t}`}return`${this.basename(e)}.${t}`}};const{BufferViewUsage:ys}=_o;var Xa;(function(n){n[n.JSON=1313821514]="JSON",n[n.BIN=5130562]="BIN"})(Xa||(Xa={}));let ns=class{constructor(){this.T=no.DEFAULT_INSTANCE,this.h=new Set,this.C={},this.F=Ca.INTERLEAVED,this.lastReadBytes=0,this.lastWriteBytes=0}setLogger(e){return this.T=e,this}registerExtensions(e){for(const t of e)this.h.add(t),t.register();return this}registerDependencies(e){return Object.assign(this.C,e),this}setVertexLayout(e){return this.F=e,this}async read(e){return await this.readJSON(await this.readAsJSON(e))}async readAsJSON(e){return e.match(/^data:application\/octet-stream;/)||this.detectFormat(e)===Ji.GLB?this.P(e):this.U(e)}async readJSON(e){return e=this.j(e),this.L(e),class{static read(t,s=Hu){const o=Ki({},Hu,s),{json:i}=t,u=new Ys;this.validate(t,o);const p=new Xc(t),_=i.asset,B=u.getRoot().getAsset();_.copyright&&(B.copyright=_.copyright),_.extras&&(B.extras=_.extras),i.extras!==void 0&&u.getRoot().setExtras(Ki({},i.extras));const d=i.extensionsUsed||[],V=i.extensionsRequired||[];for(const X of o.extensions)if(d.includes(X.EXTENSION_NAME)){const re=u.createExtension(X).setRequired(V.includes(X.EXTENSION_NAME));for(const ce of re.readDependencies)re.install(ce,o.dependencies[ce])}const I=i.buffers||[];u.getRoot().listExtensionsUsed().filter(X=>X.prereadTypes.includes(Me.BUFFER)).forEach(X=>X.preread(p,Me.BUFFER)),p.buffers=I.map(X=>{const re=u.createBuffer(X.name);return X.extras&&re.setExtras(X.extras),X.uri&&X.uri.indexOf("__")!==0&&re.setURI(X.uri),re}),p.bufferViewBuffers=(i.bufferViews||[]).map((X,re)=>{if(!p.bufferViews[re]){const ce=t.json.buffers[X.buffer];p.bufferViews[re]=en.toView(ce.uri?t.resources[ce.uri]:t.resources["@glb.bin"],X.byteOffset||0,X.byteLength)}return p.buffers[X.buffer]}),p.accessors=(i.accessors||[]).map(X=>{const re=u.createAccessor(X.name,p.bufferViewBuffers[X.bufferView]).setType(X.type);if(X.extras&&re.setExtras(X.extras),X.normalized!==void 0&&re.setNormalized(X.normalized),X.bufferView===void 0&&!X.sparse)return re;let ce;return ce=X.sparse!==void 0?function(_e,ye){const Ue=Ss[_e.componentType],Ge=xt.getElementSize(_e.type);let Ve;Ve=_e.bufferView!==void 0?Ga(_e,ye):new Ue(_e.count*Ge);const ke=_e.sparse,bt=ke.count,et=Ki({},_e,ke.indices,{count:bt,type:"SCALAR"}),Pt=Ki({},_e,ke.values,{count:bt}),st=Ga(et,ye),Ze=Ga(Pt,ye);for(let ot=0;ot<et.count;ot++)for(let jt=0;jt<Ge;jt++)Ve[st[ot]*Ge+jt]=Ze[ot*Ge+jt];return Ve}(X,p):Ga(X,p),re.setArray(ce),re});const L=i.images||[],W=i.textures||[];u.getRoot().listExtensionsUsed().filter(X=>X.prereadTypes.includes(Me.TEXTURE)).forEach(X=>X.preread(p,Me.TEXTURE)),p.textures=L.map(X=>{const re=u.createTexture(X.name);if(X.extras&&re.setExtras(X.extras),X.bufferView!==void 0){const ce=i.bufferViews[X.bufferView],_e=t.json.buffers[ce.buffer],ye=ce.byteOffset||0,Ue=(_e.uri?t.resources[_e.uri]:t.resources["@glb.bin"]).slice(ye,ye+ce.byteLength);re.setImage(Ue)}else X.uri!==void 0&&(re.setImage(t.resources[X.uri]),X.uri.indexOf("__")!==0&&re.setURI(X.uri));if(X.mimeType!==void 0)re.setMimeType(X.mimeType);else if(X.uri){const ce=To.extension(X.uri);re.setMimeType(po.extensionToMimeType(ce))}return re}),p.materials=(i.materials||[]).map(X=>{const re=u.createMaterial(X.name);X.extras&&re.setExtras(X.extras),X.alphaMode!==void 0&&re.setAlphaMode(X.alphaMode),X.alphaCutoff!==void 0&&re.setAlphaCutoff(X.alphaCutoff),X.doubleSided!==void 0&&re.setDoubleSided(X.doubleSided);const ce=X.pbrMetallicRoughness||{};if(ce.baseColorFactor!==void 0&&re.setBaseColorFactor(ce.baseColorFactor),X.emissiveFactor!==void 0&&re.setEmissiveFactor(X.emissiveFactor),ce.metallicFactor!==void 0&&re.setMetallicFactor(ce.metallicFactor),ce.roughnessFactor!==void 0&&re.setRoughnessFactor(ce.roughnessFactor),ce.baseColorTexture!==void 0){const _e=ce.baseColorTexture;re.setBaseColorTexture(p.textures[W[_e.index].source]),p.setTextureInfo(re.getBaseColorTextureInfo(),_e)}if(X.emissiveTexture!==void 0){const _e=X.emissiveTexture;re.setEmissiveTexture(p.textures[W[_e.index].source]),p.setTextureInfo(re.getEmissiveTextureInfo(),_e)}if(X.normalTexture!==void 0){const _e=X.normalTexture;re.setNormalTexture(p.textures[W[_e.index].source]),p.setTextureInfo(re.getNormalTextureInfo(),_e),X.normalTexture.scale!==void 0&&re.setNormalScale(X.normalTexture.scale)}if(X.occlusionTexture!==void 0){const _e=X.occlusionTexture;re.setOcclusionTexture(p.textures[W[_e.index].source]),p.setTextureInfo(re.getOcclusionTextureInfo(),_e),X.occlusionTexture.strength!==void 0&&re.setOcclusionStrength(X.occlusionTexture.strength)}if(ce.metallicRoughnessTexture!==void 0){const _e=ce.metallicRoughnessTexture;re.setMetallicRoughnessTexture(p.textures[W[_e.index].source]),p.setTextureInfo(re.getMetallicRoughnessTextureInfo(),_e)}return re});const le=i.meshes||[];u.getRoot().listExtensionsUsed().filter(X=>X.prereadTypes.includes(Me.PRIMITIVE)).forEach(X=>X.preread(p,Me.PRIMITIVE)),p.meshes=le.map(X=>{const re=u.createMesh(X.name);return X.extras&&re.setExtras(X.extras),X.weights!==void 0&&re.setWeights(X.weights),(X.primitives||[]).forEach(ce=>{const _e=u.createPrimitive();ce.extras&&_e.setExtras(ce.extras),ce.material!==void 0&&_e.setMaterial(p.materials[ce.material]),ce.mode!==void 0&&_e.setMode(ce.mode);for(const[Ue,Ge]of Object.entries(ce.attributes||{}))_e.setAttribute(Ue,p.accessors[Ge]);ce.indices!==void 0&&_e.setIndices(p.accessors[ce.indices]);const ye=X.extras&&X.extras.targetNames||[];(ce.targets||[]).forEach((Ue,Ge)=>{const Ve=ye[Ge]||Ge.toString(),ke=u.createPrimitiveTarget(Ve);for(const[bt,et]of Object.entries(Ue))ke.setAttribute(bt,p.accessors[et]);_e.addTarget(ke)}),re.addPrimitive(_e)}),re}),p.cameras=(i.cameras||[]).map(X=>{const re=u.createCamera(X.name).setType(X.type);if(X.extras&&re.setExtras(X.extras),X.type===zo.Type.PERSPECTIVE){const ce=X.perspective;re.setYFov(ce.yfov),re.setZNear(ce.znear),ce.zfar!==void 0&&re.setZFar(ce.zfar),ce.aspectRatio!==void 0&&re.setAspectRatio(ce.aspectRatio)}else{const ce=X.orthographic;re.setZNear(ce.znear).setZFar(ce.zfar).setXMag(ce.xmag).setYMag(ce.ymag)}return re});const ne=i.nodes||[];u.getRoot().listExtensionsUsed().filter(X=>X.prereadTypes.includes(Me.NODE)).forEach(X=>X.preread(p,Me.NODE)),p.nodes=ne.map(X=>{const re=u.createNode(X.name);if(X.extras&&re.setExtras(X.extras),X.translation!==void 0&&re.setTranslation(X.translation),X.rotation!==void 0&&re.setRotation(X.rotation),X.scale!==void 0&&re.setScale(X.scale),X.matrix!==void 0){const ce=[0,0,0],_e=[0,0,0,1],ye=[1,1,1];dn.decompose(X.matrix,ce,_e,ye),re.setTranslation(ce),re.setRotation(_e),re.setScale(ye)}return X.weights!==void 0&&re.setWeights(X.weights),re}),p.skins=(i.skins||[]).map(X=>{const re=u.createSkin(X.name);X.extras&&re.setExtras(X.extras),X.inverseBindMatrices!==void 0&&re.setInverseBindMatrices(p.accessors[X.inverseBindMatrices]),X.skeleton!==void 0&&re.setSkeleton(p.nodes[X.skeleton]);for(const ce of X.joints)re.addJoint(p.nodes[ce]);return re}),ne.map((X,re)=>{const ce=p.nodes[re];(X.children||[]).forEach(_e=>ce.addChild(p.nodes[_e])),X.mesh!==void 0&&ce.setMesh(p.meshes[X.mesh]),X.camera!==void 0&&ce.setCamera(p.cameras[X.camera]),X.skin!==void 0&&ce.setSkin(p.skins[X.skin])}),p.animations=(i.animations||[]).map(X=>{const re=u.createAnimation(X.name);X.extras&&re.setExtras(X.extras);const ce=(X.samplers||[]).map(_e=>{const ye=u.createAnimationSampler().setInput(p.accessors[_e.input]).setOutput(p.accessors[_e.output]).setInterpolation(_e.interpolation||$o.Interpolation.LINEAR);return _e.extras&&ye.setExtras(_e.extras),re.addSampler(ye),ye});return(X.channels||[]).forEach(_e=>{const ye=u.createAnimationChannel().setSampler(ce[_e.sampler]).setTargetPath(_e.target.path);_e.target.node!==void 0&&ye.setTargetNode(p.nodes[_e.target.node]),_e.extras&&ye.setExtras(_e.extras),re.addChannel(ye)}),re});const q=i.scenes||[];return u.getRoot().listExtensionsUsed().filter(X=>X.prereadTypes.includes(Me.SCENE)).forEach(X=>X.preread(p,Me.SCENE)),p.scenes=q.map(X=>{const re=u.createScene(X.name);return X.extras&&re.setExtras(X.extras),(X.nodes||[]).map(ce=>p.nodes[ce]).forEach(ce=>re.addChild(ce)),re}),i.scene!==void 0&&u.getRoot().setDefaultScene(p.scenes[i.scene]),u.getRoot().listExtensionsUsed().forEach(X=>X.read(p)),u}static validate(t,s){const o=t.json;if(o.asset.version!=="2.0")throw new Error(`Unsupported glTF version, "${o.asset.version}".`);if(o.extensionsRequired){for(const i of o.extensionsRequired)if(!s.extensions.find(u=>u.EXTENSION_NAME===i))throw new Error(`Missing required extension, "${i}".`)}if(o.extensionsUsed)for(const i of o.extensionsUsed)s.extensions.find(u=>u.EXTENSION_NAME===i)||s.logger.warn(`Missing optional extension, "${i}".`)}}.read(e,{extensions:Array.from(this.h),dependencies:this.C,logger:this.T})}async binaryToJSON(e){const t=this._(en.assertView(e));this.L(t);const s=t.json;if(s.buffers&&s.buffers.some(o=>function(i,u){return u.uri!==void 0&&!(u.uri in i.resources)}(t,o)))throw new Error("Cannot resolve external buffers with binaryToJSON().");if(s.images&&s.images.some(o=>function(i,u){return u.uri!==void 0&&!(u.uri in i.resources)&&u.bufferView===void 0}(t,o)))throw new Error("Cannot resolve external images with binaryToJSON().");return t}async readBinary(e){return this.readJSON(await this.binaryToJSON(en.assertView(e)))}async writeJSON(e,t={}){if(t.format===Ji.GLB&&e.getRoot().listBuffers().length>1)throw new Error("GLB must have 01 buffers.");return class{static write(s,o){const i=s.getRoot(),u={asset:Ki({generator:"glTF-Transform v2.5.1"},i.getAsset()),extras:Ki({},i.getExtras())},p={json:u,resources:{}},_=new _o(s,p,o),B=o.logger||no.DEFAULT_INSTANCE,d=new Set(o.extensions.map(q=>q.EXTENSION_NAME)),V=s.getRoot().listExtensionsUsed().filter(q=>d.has(q.extensionName)),I=s.getRoot().listExtensionsRequired().filter(q=>d.has(q.extensionName));V.length<s.getRoot().listExtensionsUsed().length&&B.warn("Some extensions were not registered for I/O, and will not be written.");for(const q of V)for(const X of q.writeDependencies)q.install(X,o.dependencies[X]);function L(q,X,re,ce){const _e=[];let ye=0;for(const Ge of q){const Ve=_.createAccessorDef(Ge);Ve.bufferView=u.bufferViews.length;const ke=Ge.getArray(),bt=en.pad(en.toView(ke));Ve.byteOffset=ye,ye+=bt.byteLength,_e.push(bt),_.accessorIndexMap.set(Ge,u.accessors.length),u.accessors.push(Ve)}const Ue={buffer:X,byteOffset:re,byteLength:en.concat(_e).byteLength};return ce&&(Ue.target=ce),u.bufferViews.push(Ue),{buffers:_e,byteLength:ye}}function W(q,X,re){const ce=q[0].getCount();let _e=0;for(const Ve of q){const ke=_.createAccessorDef(Ve);ke.bufferView=u.bufferViews.length,ke.byteOffset=_e;const bt=Ve.getElementSize(),et=Ve.getComponentSize();_e+=en.padNumber(bt*et),_.accessorIndexMap.set(Ve,u.accessors.length),u.accessors.push(ke)}const ye=ce*_e,Ue=new ArrayBuffer(ye),Ge=new DataView(Ue);for(let Ve=0;Ve<ce;Ve++){let ke=0;for(const bt of q){const et=bt.getElementSize(),Pt=bt.getComponentSize(),st=bt.getComponentType(),Ze=bt.getArray();for(let ot=0;ot<et;ot++){const jt=Ve*_e+ke+ot*Pt,K=Ze[Ve*et+ot];switch(st){case xt.ComponentType.FLOAT:Ge.setFloat32(jt,K,!0);break;case xt.ComponentType.BYTE:Ge.setInt8(jt,K);break;case xt.ComponentType.SHORT:Ge.setInt16(jt,K,!0);break;case xt.ComponentType.UNSIGNED_BYTE:Ge.setUint8(jt,K);break;case xt.ComponentType.UNSIGNED_SHORT:Ge.setUint16(jt,K,!0);break;case xt.ComponentType.UNSIGNED_INT:Ge.setUint32(jt,K,!0);break;default:throw new Error("Unexpected component type: "+st)}}ke+=en.padNumber(et*Pt)}}return u.bufferViews.push({buffer:X,byteOffset:re,byteLength:ye,byteStride:_e,target:_o.BufferViewTarget.ARRAY_BUFFER}),{byteLength:ye,buffers:[new Uint8Array(Ue)]}}const le=new Map;for(const q of s.getGraph().listEdges()){if(q.getParent()===i)continue;const X=q.getChild();if(X instanceof xt){const re=le.get(X)||[];re.push(q),le.set(X,re)}}if(u.accessors=[],u.bufferViews=[],u.samplers=[],u.textures=[],u.images=i.listTextures().map((q,X)=>{const re=_.createPropertyDef(q);q.getMimeType()&&(re.mimeType=q.getMimeType());const ce=q.getImage();return ce&&_.createImageData(re,ce,q),_.imageIndexMap.set(q,X),re}),V.filter(q=>q.prewriteTypes.includes(Me.ACCESSOR)).forEach(q=>q.prewrite(_,Me.ACCESSOR)),i.listAccessors().forEach(q=>{const X=_.accessorUsageGroupedByParent,re=_.accessorParents;if(_.accessorIndexMap.has(q))return;const ce=le.get(q)||[],_e=_.getAccessorUsage(q);if(_.addAccessorToUsageGroup(q,_e),X.has(_e)){const ye=ce[0].getParent(),Ue=re.get(ye)||new Set;Ue.add(q),re.set(ye,Ue)}}),V.filter(q=>q.prewriteTypes.includes(Me.BUFFER)).forEach(q=>q.prewrite(_,Me.BUFFER)),(i.listAccessors().length>0||i.listTextures().length>0||_.otherBufferViews.size>0)&&i.listBuffers().length===0)throw new Error("Buffer required for Document resources, but none was found.");u.buffers=[],i.listBuffers().forEach((q,X)=>{const re=_.createPropertyDef(q),ce=_.accessorUsageGroupedByParent,_e=_.accessorParents,ye=q.listParents().filter(et=>et instanceof xt),Ue=new Set(ye),Ge=[],Ve=u.buffers.length;let ke=0;const bt=_.listAccessorUsageGroups();for(const et in bt)if(ce.has(et))for(const Pt of Array.from(_e.values())){const st=Array.from(Pt).filter(Ze=>Ue.has(Ze)).filter(Ze=>_.getAccessorUsage(Ze)===et);if(st.length)if(et!==ys.ARRAY_BUFFER||o.vertexLayout===Ca.INTERLEAVED){const Ze=et===ys.ARRAY_BUFFER?W(st,Ve,ke):L(st,Ve,ke);ke+=Ze.byteLength,Ge.push(...Ze.buffers)}else for(const Ze of st){const ot=W([Ze],Ve,ke);ke+=ot.byteLength,Ge.push(...ot.buffers)}}else{const Pt=bt[et].filter(Ze=>Ue.has(Ze));if(!Pt.length)continue;const st=L(Pt,Ve,ke,et===ys.ELEMENT_ARRAY_BUFFER?_o.BufferViewTarget.ELEMENT_ARRAY_BUFFER:void 0);ke+=st.byteLength,Ge.push(...st.buffers)}if(_.imageBufferViews.length&&X===0){for(let et=0;et<_.imageBufferViews.length;et++)if(u.bufferViews[u.images[et].bufferView].byteOffset=ke,ke+=_.imageBufferViews[et].byteLength,Ge.push(_.imageBufferViews[et]),ke%8){const Pt=8-ke%8;ke+=Pt,Ge.push(new Uint8Array(Pt))}}if(_.otherBufferViews.has(q))for(const et of _.otherBufferViews.get(q))u.bufferViews.push({buffer:Ve,byteOffset:ke,byteLength:et.byteLength}),_.otherBufferViewsIndexMap.set(et,u.bufferViews.length-1),ke+=et.byteLength,Ge.push(et);if(ke){let et;o.format===Ji.GLB?et="@glb.bin":(et=_.bufferURIGenerator.createURI(q,"bin"),re.uri=et),re.byteLength=ke,p.resources[et]=en.concat(Ge)}u.buffers.push(re),_.bufferIndexMap.set(q,X)}),i.listAccessors().find(q=>!q.getBuffer())&&B.warn("Skipped writing one or more Accessors: no Buffer assigned."),u.materials=i.listMaterials().map((q,X)=>{const re=_.createPropertyDef(q);if(q.getAlphaMode()!==wo.AlphaMode.OPAQUE&&(re.alphaMode=q.getAlphaMode()),q.getAlphaMode()===wo.AlphaMode.MASK&&(re.alphaCutoff=q.getAlphaCutoff()),q.getDoubleSided()&&(re.doubleSided=!0),re.pbrMetallicRoughness={},dn.eq(q.getBaseColorFactor(),[1,1,1,1])||(re.pbrMetallicRoughness.baseColorFactor=q.getBaseColorFactor()),dn.eq(q.getEmissiveFactor(),[0,0,0])||(re.emissiveFactor=q.getEmissiveFactor()),q.getRoughnessFactor()!==1&&(re.pbrMetallicRoughness.roughnessFactor=q.getRoughnessFactor()),q.getMetallicFactor()!==1&&(re.pbrMetallicRoughness.metallicFactor=q.getMetallicFactor()),q.getBaseColorTexture()){const ce=q.getBaseColorTexture(),_e=q.getBaseColorTextureInfo();re.pbrMetallicRoughness.baseColorTexture=_.createTextureInfoDef(ce,_e)}if(q.getEmissiveTexture()){const ce=q.getEmissiveTexture(),_e=q.getEmissiveTextureInfo();re.emissiveTexture=_.createTextureInfoDef(ce,_e)}if(q.getNormalTexture()){const ce=q.getNormalTexture(),_e=q.getNormalTextureInfo(),ye=_.createTextureInfoDef(ce,_e);q.getNormalScale()!==1&&(ye.scale=q.getNormalScale()),re.normalTexture=ye}if(q.getOcclusionTexture()){const ce=q.getOcclusionTexture(),_e=q.getOcclusionTextureInfo(),ye=_.createTextureInfoDef(ce,_e);q.getOcclusionStrength()!==1&&(ye.strength=q.getOcclusionStrength()),re.occlusionTexture=ye}if(q.getMetallicRoughnessTexture()){const ce=q.getMetallicRoughnessTexture(),_e=q.getMetallicRoughnessTextureInfo();re.pbrMetallicRoughness.metallicRoughnessTexture=_.createTextureInfoDef(ce,_e)}return _.materialIndexMap.set(q,X),re}),u.meshes=i.listMeshes().map((q,X)=>{const re=_.createPropertyDef(q);let ce=null;return re.primitives=q.listPrimitives().map(_e=>{const ye={attributes:{}};ye.mode=_e.getMode();const Ue=_e.getMaterial();Ue&&(ye.material=_.materialIndexMap.get(Ue)),Object.keys(_e.getExtras()).length&&(ye.extras=_e.getExtras());const Ge=_e.getIndices();Ge&&(ye.indices=_.accessorIndexMap.get(Ge));for(const Ve of _e.listSemantics())ye.attributes[Ve]=_.accessorIndexMap.get(_e.getAttribute(Ve));for(const Ve of _e.listTargets()){const ke={};for(const bt of Ve.listSemantics())ke[bt]=_.accessorIndexMap.get(Ve.getAttribute(bt));ye.targets=ye.targets||[],ye.targets.push(ke)}return _e.listTargets().length&&!ce&&(ce=_e.listTargets().map(Ve=>Ve.getName())),ye}),q.getWeights().length&&(re.weights=q.getWeights()),ce&&(re.extras=re.extras||{},re.extras.targetNames=ce),_.meshIndexMap.set(q,X),re}),u.cameras=i.listCameras().map((q,X)=>{const re=_.createPropertyDef(q);if(re.type=q.getType(),re.type===zo.Type.PERSPECTIVE){re.perspective={znear:q.getZNear(),zfar:q.getZFar(),yfov:q.getYFov()};const ce=q.getAspectRatio();ce!==null&&(re.perspective.aspectRatio=ce)}else re.orthographic={znear:q.getZNear(),zfar:q.getZFar(),xmag:q.getXMag(),ymag:q.getYMag()};return _.cameraIndexMap.set(q,X),re}),u.nodes=i.listNodes().map((q,X)=>{const re=_.createPropertyDef(q);return dn.eq(q.getTranslation(),[0,0,0])||(re.translation=q.getTranslation()),dn.eq(q.getRotation(),[0,0,0,1])||(re.rotation=q.getRotation()),dn.eq(q.getScale(),[1,1,1])||(re.scale=q.getScale()),q.getWeights().length&&(re.weights=q.getWeights()),_.nodeIndexMap.set(q,X),re}),u.skins=i.listSkins().map((q,X)=>{const re=_.createPropertyDef(q),ce=q.getInverseBindMatrices();ce&&(re.inverseBindMatrices=_.accessorIndexMap.get(ce));const _e=q.getSkeleton();return _e&&(re.skeleton=_.nodeIndexMap.get(_e)),re.joints=q.listJoints().map(ye=>_.nodeIndexMap.get(ye)),_.skinIndexMap.set(q,X),re}),i.listNodes().forEach((q,X)=>{const re=u.nodes[X],ce=q.getMesh();ce&&(re.mesh=_.meshIndexMap.get(ce));const _e=q.getCamera();_e&&(re.camera=_.cameraIndexMap.get(_e));const ye=q.getSkin();ye&&(re.skin=_.skinIndexMap.get(ye)),q.listChildren().length>0&&(re.children=q.listChildren().map(Ue=>_.nodeIndexMap.get(Ue)))}),u.animations=i.listAnimations().map((q,X)=>{const re=_.createPropertyDef(q),ce=new Map;return re.samplers=q.listSamplers().map((_e,ye)=>{const Ue=_.createPropertyDef(_e);return Ue.input=_.accessorIndexMap.get(_e.getInput()),Ue.output=_.accessorIndexMap.get(_e.getOutput()),Ue.interpolation=_e.getInterpolation(),ce.set(_e,ye),Ue}),re.channels=q.listChannels().map(_e=>{const ye=_.createPropertyDef(_e);return ye.sampler=ce.get(_e.getSampler()),ye.target={node:_.nodeIndexMap.get(_e.getTargetNode()),path:_e.getTargetPath()},ye}),_.animationIndexMap.set(q,X),re}),u.scenes=i.listScenes().map((q,X)=>{const re=_.createPropertyDef(q);return re.nodes=q.listChildren().map(ce=>_.nodeIndexMap.get(ce)),_.sceneIndexMap.set(q,X),re});const ne=i.getDefaultScene();return ne&&(u.scene=i.listScenes().indexOf(ne)),u.extensionsUsed=V.map(q=>q.extensionName),u.extensionsRequired=I.map(q=>q.extensionName),V.forEach(q=>q.write(_)),function(q){const X=[];for(const re in q){const ce=q[re];(Array.isArray(ce)&&ce.length===0||ce===null||ce===""||ce&&typeof ce=="object"&&Object.keys(ce).length===0)&&X.push(re)}for(const re of X)delete q[re]}(u),p}}.write(e,{format:t.format||Ji.GLTF,basename:t.basename||"",logger:this.T,vertexLayout:this.F,dependencies:Ki({},this.C),extensions:Array.from(this.h)})}async writeBinary(e){const{json:t,resources:s}=await this.writeJSON(e,{format:Ji.GLB}),o=new Uint32Array([1179937895,2,12]),i=JSON.stringify(t),u=en.pad(en.encodeText(i),32),p=en.toView(new Uint32Array([u.byteLength,1313821514])),_=en.concat([p,u]);o[o.length-1]+=_.byteLength;const B=Object.values(s)[0];if(!B||!B.byteLength)return en.concat([en.toView(o),_]);const d=en.pad(B,0),V=en.toView(new Uint32Array([d.byteLength,5130562])),I=en.concat([V,d]);return o[o.length-1]+=I.byteLength,en.concat([en.toView(o),_,I])}detectFormat(e){return(bi.isAbsoluteURL(e)?bi.extension(e):To.extension(e))==="glb"?Ji.GLB:Ji.GLTF}async U(e){this.lastReadBytes=0;const t=await this.readURI(e,"text");this.lastReadBytes+=t.length;const s={json:JSON.parse(t),resources:{}};return await this.D(s,this.dirname(e)),this.L(s),s}async P(e){const t=await this.readURI(e,"view");this.lastReadBytes=t.byteLength;const s=this._(t);return await this.D(s,this.dirname(e)),this.L(s),s}async D(e,t){var s=this;const o=[...e.json.images||[],...e.json.buffers||[]].map(async function(i){const u=i.uri;if(!u||u.match(/data:/))return Promise.resolve();e.resources[u]=await s.readURI(s.resolve(t,u),"view"),s.lastReadBytes+=e.resources[u].byteLength});await Promise.all(o)}L(e){function t(s){if(s.uri){if(s.uri in e.resources)en.assertView(e.resources[s.uri]);else if(s.uri.match(/data:/)){const o=`__${ya()}.${To.extension(s.uri)}`;e.resources[o]=en.createBufferFromDataURI(s.uri),s.uri=o}}}(e.json.images||[]).forEach(s=>{if(s.bufferView===void 0&&s.uri===void 0)throw new Error("Missing resource URI or buffer view.");t(s)}),(e.json.buffers||[]).forEach(t)}j(e){const{images:t,buffers:s}=e.json;return e={json:Ki({},e.json),resources:Ki({},e.resources)},t&&(e.json.images=t.map(o=>Ki({},o))),s&&(e.json.buffers=s.map(o=>Ki({},o))),e}_(e){const t=new Uint32Array(e.buffer,e.byteOffset,3);if(t[0]!==1179937895)throw new Error("Invalid glTF asset.");if(t[1]!==2)throw new Error(`Unsupported glTF binary version, "${t[1]}".`);const s=new Uint32Array(e.buffer,e.byteOffset+12,2);if(s[1]!==Xa.JSON)throw new Error("Missing required GLB JSON chunk.");const o=s[0],i=en.decodeText(en.toView(e,20,o)),u=JSON.parse(i),p=20+o;if(e.byteLength<=p)return{json:u,resources:{}};const _=new Uint32Array(e.buffer,e.byteOffset+p,2);if(_[1]!==Xa.BIN)throw new Error("Expected GLB BIN in second chunk.");return{json:u,resources:{"@glb.bin":en.toView(e,p+8,_[0])}}}},ul=class extends ns{constructor(e=null,t=bi.DEFAULT_INIT){super(),this.k=void 0,this.J=void 0,this.$=void 0,this.V=void 0,this.q=!1,this.k=require("fs").promises,this.J=require("path"),this.$=e,this.V=t}setAllowHTTP(e){if(e&&!this.$)throw new Error("NodeIO requires a Fetch API implementation for HTTP requests.");return this.q=e,this}async readURI(e,t){if(bi.isAbsoluteURL(e)){if(!this.q||!this.$)throw new Error("Network request blocked. Allow HTTP requests explicitly, if needed.");const s=await this.$(e,this.V);switch(t){case"view":return new Uint8Array(await s.arrayBuffer());case"text":return s.text()}}else switch(t){case"view":return this.k.readFile(e);case"text":return this.k.readFile(e,"utf8")}}resolve(e,t){return bi.isAbsoluteURL(e)||bi.isAbsoluteURL(t)?bi.resolve(e,t):this.J.resolve(e,t)}dirname(e){return bi.isAbsoluteURL(e)?bi.dirname(e):this.J.dirname(e)}async write(e,t){await(!!e.match(/\.glb$/)?this.W(e,t):this.H(e,t))}async H(e,t){var s=this;this.lastWriteBytes=0;const{json:o,resources:i}=await this.writeJSON(t,{format:Ji.GLTF,basename:To.basename(e)}),{k:u,J:p}=this,_=p.dirname(e),B=JSON.stringify(o,null,2);this.lastWriteBytes+=B.length,await u.writeFile(e,B);const d=Object.keys(i).map(async function(V){if(bi.isAbsoluteURL(V)){if(bi.extension(V)==="bin")throw new Error(`Cannot write buffer to path "${V}".`);return}const I=Buffer.from(i[V]);await u.writeFile(p.join(_,V),I),s.lastWriteBytes+=I.byteLength});await Promise.all(d)}async W(e,t){const s=Buffer.from(await this.writeBinary(t));await this.k.writeFile(e,s),this.lastWriteBytes=s.byteLength}},cl=class extends ns{constructor(e){super(),this.J=void 0,this.J=e}async readURI(e,t){switch(t){case"view":return Deno.readFile(e);case"text":return Deno.readTextFile(e)}}resolve(e,t){return this.J.resolve(e,t)}dirname(e){return this.J.dirname(e)}},fl=class extends ns{constructor(e=bi.DEFAULT_INIT){super(),this.V=void 0,this.V=e}async readURI(e,t){const s=await fetch(e,this.V);switch(t){case"view":return new Uint8Array(await s.arrayBuffer());case"text":return s.text()}}resolve(e,t){return bi.resolve(e,t)}dirname(e){return bi.dirname(e)}detectFormat(e){return bi.extension(e)==="glb"?Ji.GLB:Ji.GLTF}};const ll=Object.freeze(Object.defineProperty({__proto__:null,Accessor:xt,Animation:Vs,AnimationChannel:So,AnimationSampler:$o,Buffer:Ks,BufferUtils:en,COPY_IDENTITY:Eo,Camera:zo,ColorUtils:Si,DenoIO:cl,Document:Ys,ExtensibleProperty:Di,Extension:Qn,ExtensionProperty:$n,FileUtils:To,get Format(){return Ji},GLB_BUFFER:ks,Graph:Jc,GraphEdge:qo,ImageUtils:po,Logger:no,Material:wo,MathUtils:dn,Mesh:Js,Node:ua,NodeIO:ul,PlatformIO:ns,Primitive:Xn,PrimitiveTarget:qs,Property:ts,get PropertyType(){return Me},ReaderContext:Xc,Root:Xo,Scene:rs,Skin:zs,Texture:Yo,get TextureChannel(){return oi},TextureInfo:jn,VERSION:Zf,get Verbosity(){return za},get VertexLayout(){return Ca},WebIO:fl,WriterContext:_o,bounds:Ra,uuid:ya},Symbol.toStringTag,{value:"Module"})),pl=0,dl=0,_l=0,hl=2,gl=0,$c=163,Qc=166,Al=0,ml=2,yl=1,vl=64,bl=0;class El{constructor(){this.vkFormat=bl,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=pl,this.levels=[],this.dataFormatDescriptor=[{vendorId:_l,descriptorType:dl,descriptorBlockSize:0,versionNumber:hl,colorModel:gl,colorPrimaries:yl,transferFunction:ml,flags:Al,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class la{constructor(e,t,s,o){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+t,s),this._littleEndian=o,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian),t=this._dataView.getUint32(this._offset+4,this._littleEndian),s=e+2**32*t;return this._offset+=8,s}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_skip(e){return this._offset+=e,this}_scan(e,t=0){const s=this._offset;let o=0;for(;this._dataView.getUint8(this._offset)!==t&&o<e;)o++,this._offset++;return o<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+s,o)}}const Fi=[171,75,84,88,32,50,48,187,13,10,26,10];function ku(n){return typeof TextDecoder<"u"?new TextDecoder().decode(n):Buffer.from(n).toString("utf8")}function Ka(n){const e=new Uint8Array(n.buffer,n.byteOffset,Fi.length);if(e[0]!==Fi[0]||e[1]!==Fi[1]||e[2]!==Fi[2]||e[3]!==Fi[3]||e[4]!==Fi[4]||e[5]!==Fi[5]||e[6]!==Fi[6]||e[7]!==Fi[7]||e[8]!==Fi[8]||e[9]!==Fi[9]||e[10]!==Fi[10]||e[11]!==Fi[11])throw new Error("Missing KTX 2.0 identifier.");const t=new El,s=17*Uint32Array.BYTES_PER_ELEMENT,o=new la(n,Fi.length,s,!0);t.vkFormat=o._nextUint32(),t.typeSize=o._nextUint32(),t.pixelWidth=o._nextUint32(),t.pixelHeight=o._nextUint32(),t.pixelDepth=o._nextUint32(),t.layerCount=o._nextUint32(),t.faceCount=o._nextUint32();const i=o._nextUint32();t.supercompressionScheme=o._nextUint32();const u=o._nextUint32(),p=o._nextUint32(),_=o._nextUint32(),B=o._nextUint32(),d=o._nextUint64(),V=o._nextUint64(),I=i*3*8,L=new la(n,Fi.length+s,I,!0);for(let Kr=0;Kr<i;Kr++)t.levels.push({levelData:new Uint8Array(n.buffer,n.byteOffset+L._nextUint64(),L._nextUint64()),uncompressedByteLength:L._nextUint64()});const W=new la(n,u,p,!0),le={vendorId:W._skip(4)._nextUint16(),descriptorType:W._nextUint16(),versionNumber:W._nextUint16(),descriptorBlockSize:W._nextUint16(),colorModel:W._nextUint8(),colorPrimaries:W._nextUint8(),transferFunction:W._nextUint8(),flags:W._nextUint8(),texelBlockDimension:[W._nextUint8(),W._nextUint8(),W._nextUint8(),W._nextUint8()],bytesPlane:[W._nextUint8(),W._nextUint8(),W._nextUint8(),W._nextUint8(),W._nextUint8(),W._nextUint8(),W._nextUint8(),W._nextUint8()],samples:[]},ne=6,q=4,X=(le.descriptorBlockSize/4-ne)/q;for(let Kr=0;Kr<X;Kr++){const Xr={bitOffset:W._nextUint16(),bitLength:W._nextUint8(),channelType:W._nextUint8(),samplePosition:[W._nextUint8(),W._nextUint8(),W._nextUint8(),W._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};Xr.channelType&vl?(Xr.sampleLower=W._nextInt32(),Xr.sampleUpper=W._nextInt32()):(Xr.sampleLower=W._nextUint32(),Xr.sampleUpper=W._nextUint32()),le.samples[Kr]=Xr}t.dataFormatDescriptor.length=0,t.dataFormatDescriptor.push(le);const re=new la(n,_,B,!0);for(;re._offset<B;){const Kr=re._nextUint32(),Xr=re._scan(Kr),xn=ku(Xr),Br=re._scan(Kr-Xr.byteLength);t.keyValue[xn]=xn.match(/^ktx/i)?ku(Br):Br,re._offset%4&&re._skip(4-re._offset%4)}if(V<=0)return t;const ce=new la(n,d,V,!0),_e=ce._nextUint16(),ye=ce._nextUint16(),Ue=ce._nextUint32(),Ge=ce._nextUint32(),Ve=ce._nextUint32(),ke=ce._nextUint32(),bt=[];for(let Kr=0;Kr<i;Kr++)bt.push({imageFlags:ce._nextUint32(),rgbSliceByteOffset:ce._nextUint32(),rgbSliceByteLength:ce._nextUint32(),alphaSliceByteOffset:ce._nextUint32(),alphaSliceByteLength:ce._nextUint32()});const et=d+ce._offset,Pt=et+Ue,st=Pt+Ge,Ze=st+Ve,ot=new Uint8Array(n.buffer,n.byteOffset+et,Ue),jt=new Uint8Array(n.buffer,n.byteOffset+Pt,Ge),K=new Uint8Array(n.buffer,n.byteOffset+st,Ve),Pn=new Uint8Array(n.buffer,n.byteOffset+Ze,ke);return t.globalData={endpointCount:_e,selectorCount:ye,imageDescs:bt,endpointsData:ot,selectorsData:jt,tablesData:K,extendedData:Pn},t}const Bl="INSTANCE_ATTRIBUTE";class Xs extends $n{init(){this.extensionName="EXT_mesh_gpu_instancing",this.propertyType="InstancedMesh",this.parentTypes=[Me.NODE]}getDefaults(){return Object.assign(super.getDefaults(),{attributes:{}})}getAttribute(e){return this.getRefMap("attributes",e)}setAttribute(e,t){return this.setRefMap("attributes",e,t,{usage:"INSTANCE_ATTRIBUTE"})}listAttributes(){return this.listRefMapValues("attributes")}listSemantics(){return this.listRefMapKeys("attributes")}}Xs.EXTENSION_NAME="EXT_mesh_gpu_instancing";const Oo="EXT_mesh_gpu_instancing";class is extends Qn{constructor(...e){super(...e),this.extensionName=Oo,this.provideTypes=[Me.NODE],this.prewriteTypes=[Me.ACCESSOR]}createInstancedMesh(){return new Xs(this.document.getGraph())}read(e){return(e.jsonDoc.json.nodes||[]).forEach((t,s)=>{if(!t.extensions||!t.extensions[Oo])return;const o=t.extensions[Oo],i=this.createInstancedMesh();for(const u in o.attributes)i.setAttribute(u,e.accessors[o.attributes[u]]);e.nodes[s].setExtension(Oo,i)}),this}prewrite(e){e.accessorUsageGroupedByParent.add("INSTANCE_ATTRIBUTE");for(const t of this.properties)for(const s of t.listAttributes())e.addAccessorToUsageGroup(s,"INSTANCE_ATTRIBUTE");return this}write(e){const t=e.jsonDoc;return this.document.getRoot().listNodes().forEach(s=>{const o=s.getExtension(Oo);if(o){const i=e.nodeIndexMap.get(s),u=t.json.nodes[i],p={attributes:{}};o.listSemantics().forEach(_=>{const B=o.getAttribute(_);p.attributes[_]=e.accessorIndexMap.get(B)}),u.extensions=u.extensions||{},u.extensions[Oo]=p}}),this}}function Ro(){return(Ro=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n}).apply(this,arguments)}var Ta,na,ii;is.EXTENSION_NAME=Oo,function(n){n.QUANTIZE="quantize",n.FILTER="filter"}(Ta||(Ta={})),function(n){n.ATTRIBUTES="ATTRIBUTES",n.TRIANGLES="TRIANGLES",n.INDICES="INDICES"}(na||(na={})),function(n){n.NONE="NONE",n.OCTAHEDRAL="OCTAHEDRAL",n.QUATERNION="QUATERNION",n.EXPONENTIAL="EXPONENTIAL"}(ii||(ii={}));const{BYTE:Cl,SHORT:Wu,FLOAT:Tl}=xt.ComponentType,{normalize:Vu,denormalize:vs}=dn;function wl(n,e,t,s){const{filter:o,bits:i}=s,u={array:n.getArray(),byteStride:n.getElementSize()*n.getComponentSize(),componentType:n.getComponentType(),normalized:n.getNormalized()};if(t!==na.ATTRIBUTES)return u;if(o!==ii.NONE){let p=n.getNormalized()?function(_){const B=_.getComponentType(),d=_.getArray(),V=new Float32Array(d.length);for(let I=0;I<d.length;I++)V[I]=vs(d[I],B);return V}(n):new Float32Array(u.array);switch(o){case ii.EXPONENTIAL:u.byteStride=4*n.getElementSize(),u.componentType=Tl,u.normalized=!1,u.array=e.encodeFilterExp(p,n.getCount(),u.byteStride,i);break;case ii.OCTAHEDRAL:u.byteStride=i>8?8:4,u.componentType=i>8?Wu:Cl,u.normalized=!0,p=n.getElementSize()===3?function(_){const B=new Float32Array(4*_.length/3);for(let d=0,V=_.length/3;d<V;d++)B[4*d]=_[3*d],B[4*d+1]=_[3*d+1],B[4*d+2]=_[3*d+2];return B}(p):p,u.array=e.encodeFilterOct(p,n.getCount(),u.byteStride,i);break;case ii.QUATERNION:u.byteStride=8,u.componentType=Wu,u.normalized=!0,u.array=e.encodeFilterQuat(p,n.getCount(),u.byteStride,i);break;default:throw new Error("Invalid filter.")}u.min=n.getMin([]),u.max=n.getMax([]),n.getNormalized()&&(u.min=u.min.map(_=>vs(_,n.getComponentType())),u.max=u.max.map(_=>vs(_,n.getComponentType()))),u.normalized&&(u.min=u.min.map(_=>Vu(_,u.componentType)),u.max=u.max.map(_=>Vu(_,u.componentType)))}else u.byteStride%4&&(u.array=function(p,_){const B=en.padNumber(p.BYTES_PER_ELEMENT*_)/p.BYTES_PER_ELEMENT,d=new p.constructor(p.length/_*B);for(let V=0;V*_<p.length;V++)for(let I=0;I<_;I++)d[V*B+I]=p[V*_+I];return d}(u.array,n.getElementSize()),u.byteStride=u.array.byteLength/n.getCount());return u}function Dl(n,e){return e===_o.BufferViewUsage.ELEMENT_ARRAY_BUFFER?n.listParents().some(t=>t instanceof Xn&&t.getMode()===Xn.Mode.TRIANGLES)?na.TRIANGLES:na.INDICES:na.ATTRIBUTES}function Il(n,e){const t=e.getGraph().listParentEdges(n).filter(s=>!(s.getParent()instanceof Xo));for(const s of t){const o=s.getName(),i=s.getAttributes().key||"";if(o==="indices")return{filter:ii.NONE};if(o==="attributes"){if(i==="POSITION")return{filter:ii.NONE};if(i==="TEXCOORD_0")return{filter:ii.NONE};if(i==="NORMAL")return{filter:ii.OCTAHEDRAL,bits:8};if(i==="TANGENT")return{filter:ii.OCTAHEDRAL,bits:8};if(i.startsWith("JOINTS_"))return{filter:ii.NONE};if(i.startsWith("WEIGHTS_"))return{filter:ii.NONE}}if(o==="output"){const u=Zc(n);return u==="rotation"?{filter:ii.QUATERNION,bits:16}:u==="translation"||u==="scale"?{filter:ii.EXPONENTIAL,bits:12}:{filter:ii.NONE}}if(o==="input")return{filter:ii.NONE};if(o==="inverseBindMatrices")return{filter:ii.NONE}}return{filter:ii.NONE}}function Zc(n){for(const e of n.listParents())if(e instanceof $o){for(const t of e.listParents())if(t instanceof So)return t.getTargetPath()}return null}const Ri="EXT_meshopt_compression",Ku={method:Ta.QUANTIZE};class Ko extends Qn{constructor(...e){super(...e),this.extensionName=Ri,this.prereadTypes=[Me.BUFFER,Me.PRIMITIVE],this.prewriteTypes=[Me.BUFFER,Me.ACCESSOR],this.readDependencies=["meshopt.decoder"],this.writeDependencies=["meshopt.encoder"],this._decoder=null,this._decoderFallbackBufferMap=new Map,this._encoder=null,this._encoderOptions=Ku,this._encoderFallbackBuffer=null,this._encoderBufferViews={},this._encoderBufferViewData={},this._encoderBufferViewAccessors={}}install(e,t){return e==="meshopt.decoder"&&(this._decoder=t),e==="meshopt.encoder"&&(this._encoder=t),this}setEncoderOptions(e){return this._encoderOptions=Ro({},Ku,e),this}preread(e,t){if(!this._decoder){if(!this.isRequired())return this;throw new Error(`[${Ri}] Please install extension dependency, "meshopt.decoder".`)}if(!this._decoder.supported){if(!this.isRequired())return this;throw new Error(`[${Ri}]: Missing WASM support.`)}return t===Me.BUFFER?this._prereadBuffers(e):t===Me.PRIMITIVE&&this._prereadPrimitives(e),this}_prereadBuffers(e){const t=e.jsonDoc;(t.json.bufferViews||[]).forEach((s,o)=>{if(!s.extensions||!s.extensions[Ri])return;const i=s.extensions[Ri],u=i.byteOffset||0,p=i.byteLength||0,_=i.count,B=i.byteStride,d=new Uint8Array(_*B),V=t.json.buffers[i.buffer],I=en.toView(V.uri?t.resources[V.uri]:t.resources[ks],u,p);this._decoder.decodeGltfBuffer(d,_,B,I,i.mode,i.filter),e.bufferViews[o]=d})}_prereadPrimitives(e){const t=e.jsonDoc;(t.json.bufferViews||[]).forEach(s=>{var o;s.extensions&&s.extensions[Ri]&&(o=t.json.buffers[s.buffer]).extensions&&o.extensions.EXT_meshopt_compression&&o.extensions.EXT_meshopt_compression.fallback&&this._decoderFallbackBufferMap.set(e.buffers[s.buffer],e.buffers[s.extensions[Ri].buffer])})}read(e){if(!this.isRequired())return this;for(const[t,s]of this._decoderFallbackBufferMap){for(const o of t.listParents())o instanceof xt&&o.swap(t,s);t.dispose()}return this}prewrite(e,t){return t===Me.ACCESSOR?this._prewriteAccessors(e):t===Me.BUFFER&&this._prewriteBuffers(e),this}_prewriteAccessors(e){const t=e.jsonDoc.json,s=this._encoder,o=this._encoderOptions,i=this.document.createBuffer(),u=this.document.getRoot().listBuffers().indexOf(i);this._encoderFallbackBuffer=i,this._encoderBufferViews={},this._encoderBufferViewData={},this._encoderBufferViewAccessors={};for(const p of this.document.getRoot().listAccessors()){if(Zc(p)==="weights")continue;const _=e.getAccessorUsage(p),B=Dl(p,_),d=o.method===Ta.FILTER?Il(p,this.document):{filter:ii.NONE},V=wl(p,s,B,d),{array:I,byteStride:L}=V,W=p.getBuffer();if(!W)throw new Error(`${Ri}: Missing buffer for accessor.`);const le=this.document.getRoot().listBuffers().indexOf(W),ne=[_,B,d.filter,L,le].join(":");let q=this._encoderBufferViews[ne],X=this._encoderBufferViewData[ne],re=this._encoderBufferViewAccessors[ne];q&&X||(re=this._encoderBufferViewAccessors[ne]=[],X=this._encoderBufferViewData[ne]=[],q=this._encoderBufferViews[ne]={buffer:u,target:_o.USAGE_TO_TARGET[_],byteOffset:0,byteLength:0,byteStride:_===_o.BufferViewUsage.ARRAY_BUFFER?L:void 0,extensions:{[Ri]:{buffer:le,byteOffset:0,byteLength:0,mode:B,filter:d.filter!==ii.NONE?d.filter:void 0,byteStride:L,count:0}}});const ce=e.createAccessorDef(p);ce.componentType=V.componentType,ce.normalized=V.normalized,ce.byteOffset=q.byteLength,ce.min&&V.min&&(ce.min=V.min),ce.max&&V.max&&(ce.max=V.max),e.accessorIndexMap.set(p,t.accessors.length),t.accessors.push(ce),re.push(ce),X.push(new Uint8Array(I.buffer,I.byteOffset,I.byteLength)),q.byteLength+=I.byteLength,q.extensions.EXT_meshopt_compression.count+=p.getCount()}}_prewriteBuffers(e){const t=this._encoder;for(const s in this._encoderBufferViews){const o=this._encoderBufferViews[s],i=this._encoderBufferViewData[s],u=this.document.getRoot().listBuffers()[o.extensions[Ri].buffer],p=e.otherBufferViews.get(u)||[],{count:_,byteStride:B,mode:d}=o.extensions[Ri],V=en.concat(i),I=t.encodeGltfBuffer(V,_,B,d),L=en.pad(I);o.extensions[Ri].byteLength=I.byteLength,i.length=0,i.push(L),p.push(L),e.otherBufferViews.set(u,p)}}write(e){let t=0;for(const u in this._encoderBufferViews){const p=this._encoderBufferViews[u],_=e.otherBufferViewsIndexMap.get(this._encoderBufferViewData[u][0]),B=this._encoderBufferViewAccessors[u];for(const I of B)I.bufferView=_;const d=e.jsonDoc.json.bufferViews[_],V=d.byteOffset||0;Object.assign(d,p),d.byteOffset=t,d.extensions[Ri].byteOffset=V,t+=en.padNumber(p.byteLength)}const s=this._encoderFallbackBuffer,o=e.bufferIndexMap.get(s),i=e.jsonDoc.json.buffers[o];return i.byteLength=t,i.extensions={[Ri]:{fallback:!0}},s.dispose(),this}}Ko.EXTENSION_NAME=Ri,Ko.EncoderMethod=Ta;const ga="EXT_texture_webp";class Fl{match(e){return e.length>=12&&e[8]===87&&e[9]===69&&e[10]===66&&e[11]===80}getSize(e){const t=en.decodeText(e.slice(0,4)),s=en.decodeText(e.slice(8,12));if(t!=="RIFF"||s!=="WEBP")return null;const o=new DataView(e.buffer,e.byteOffset);let i=12;for(;i<o.byteLength;){const u=en.decodeText(new Uint8Array([o.getUint8(i),o.getUint8(i+1),o.getUint8(i+2),o.getUint8(i+3)])),p=o.getUint32(i+4,!0);if(u==="VP8 ")return[16383&o.getInt16(i+14,!0),16383&o.getInt16(i+16,!0)];if(u==="VP8L"){const _=o.getUint8(i+9),B=o.getUint8(i+10),d=o.getUint8(i+11);return[1+((63&B)<<8|_),1+((15&o.getUint8(i+12))<<10|d<<2|(192&B)>>6)]}i+=8+p+p%2}return null}getChannels(e){return 4}}class os extends Qn{constructor(...e){super(...e),this.extensionName=ga,this.prereadTypes=[Me.TEXTURE]}static register(){po.registerFormat("image/webp",new Fl)}preread(e){return(e.jsonDoc.json.textures||[]).forEach(t=>{t.extensions&&t.extensions[ga]&&(t.source=t.extensions[ga].source)}),this}read(e){return this}write(e){const t=e.jsonDoc;return this.document.getRoot().listTextures().forEach(s=>{if(s.getMimeType()==="image/webp"){const o=e.imageIndexMap.get(s);(t.json.textures||[]).forEach(i=>{i.source===o&&(i.extensions=i.extensions||{},i.extensions[ga]={source:i.source},delete i.source)})}}),this}}os.EXTENSION_NAME=ga;const Ju="KHR_draco_mesh_compression";let fi,ef,tf,Vi;function Rl(n,e){const t=new fi.DecoderBuffer;try{if(t.Init(e,e.length),n.GetEncodedGeometryType(t)!==fi.TRIANGULAR_MESH)throw new Error(`[${Ju}] Unknown geometry type.`);const s=new fi.Mesh;if(!n.DecodeBufferToMesh(t,s).ok()||s.ptr===0)throw new Error(`[${Ju}] Decoding failure.`);return s}finally{fi.destroy(t)}}function Sl(n,e){const t=3*e.num_faces();let s,o;if(e.num_points()<=65534){const i=t*Uint16Array.BYTES_PER_ELEMENT;s=fi._malloc(i),n.GetTrianglesUInt16Array(e,i,s),o=new Uint16Array(fi.HEAPU16.buffer,s,t).slice()}else{const i=t*Uint32Array.BYTES_PER_ELEMENT;s=fi._malloc(i),n.GetTrianglesUInt32Array(e,i,s),o=new Uint32Array(fi.HEAPU32.buffer,s,t).slice()}return fi._free(s),o}function Pl(n,e,t,s){const o=tf[s.componentType],i=ef[s.componentType],u=t.num_components(),p=e.num_points()*u,_=p*i.BYTES_PER_ELEMENT,B=fi._malloc(_);n.GetAttributeDataArrayForAllPoints(e,t,o,_,B);const d=new i(fi.HEAPF32.buffer,B,p).slice();return fi._free(B),d}var wa,lo;(function(n){n[n.EDGEBREAKER=1]="EDGEBREAKER",n[n.SEQUENTIAL=0]="SEQUENTIAL"})(wa||(wa={})),function(n){n.POSITION="POSITION",n.NORMAL="NORMAL",n.COLOR="COLOR",n.TEX_COORD="TEX_COORD",n.GENERIC="GENERIC"}(lo||(lo={}));const rf={[lo.POSITION]:14,[lo.NORMAL]:10,[lo.COLOR]:8,[lo.TEX_COORD]:12,[lo.GENERIC]:12},qu={decodeSpeed:5,encodeSpeed:5,method:wa.EDGEBREAKER,quantizationBits:rf,quantizationVolume:"mesh"};function Ol(n,e=qu){const t=Ro({},qu,e);t.quantizationBits=Ro({},rf,e.quantizationBits);const s=new Vi.Encoder,o=new Vi.MeshBuilder,i=new Vi.Mesh,u={},p=new Vi.DracoInt8Array;for(const W of n.listSemantics()){const le=n.getAttribute(W),ne=Ml(W),q=Nl(o,le.getComponentType(),i,Vi[ne],le.getCount(),le.getElementSize(),le.getArray());if(q===-1)throw new Error(`Error compressing "${W}" attribute.`);if(u[W]=q,t.quantizationVolume==="mesh"||W!=="POSITION")s.SetAttributeQuantization(Vi[ne],t.quantizationBits[ne]);else{if(typeof t.quantizationVolume!="object")throw new Error("Invalid quantization volume state.");{const{quantizationVolume:X}=t,re=Math.max(X.max[0]-X.min[0],X.max[1]-X.min[1],X.max[2]-X.min[2]);s.SetAttributeExplicitQuantization(Vi[ne],t.quantizationBits[ne],le.getElementSize(),X.min,re)}}}const _=n.getIndices();if(!_)throw new Ja("Primitive must have indices.");o.AddFacesToMesh(i,_.getCount()/3,_.getArray()),s.SetSpeedOptions(t.encodeSpeed,t.decodeSpeed),s.SetTrackEncodedProperties(!0),t.method===wa.SEQUENTIAL||n.listTargets().length>0?s.SetEncodingMethod(Vi.MESH_SEQUENTIAL_ENCODING):s.SetEncodingMethod(Vi.MESH_EDGEBREAKER_ENCODING);const B=s.EncodeMeshToDracoBuffer(i,p);if(B<=0)throw new Ja("Error applying Draco compression.");const d=new Uint8Array(B);for(let W=0;W<B;++W)d[W]=p.GetValue(W);const V=n.getAttribute("POSITION").getCount(),I=s.GetNumberOfEncodedPoints(),L=3*s.GetNumberOfEncodedFaces();if(n.listTargets().length>0&&I!==V)throw new Ja('Compression reduced vertex count unexpectedly, corrupting morph targets. Applying the "weld" function before compression may resolve the issue.');return Vi.destroy(p),Vi.destroy(i),Vi.destroy(o),Vi.destroy(s),{numVertices:I,numIndices:L,data:d,attributeIDs:u}}function Ml(n){return n==="POSITION"?lo.POSITION:n==="NORMAL"?lo.NORMAL:n.startsWith("COLOR_")?lo.COLOR:n.startsWith("TEXCOORD_")?lo.TEX_COORD:lo.GENERIC}function Nl(n,e,t,s,o,i,u){switch(e){case xt.ComponentType.UNSIGNED_BYTE:return n.AddUInt8Attribute(t,s,o,i,u);case xt.ComponentType.BYTE:return n.AddInt8Attribute(t,s,o,i,u);case xt.ComponentType.UNSIGNED_SHORT:return n.AddUInt16Attribute(t,s,o,i,u);case xt.ComponentType.SHORT:return n.AddInt16Attribute(t,s,o,i,u);case xt.ComponentType.UNSIGNED_INT:return n.AddUInt32Attribute(t,s,o,i,u);case xt.ComponentType.FLOAT:return n.AddFloatAttribute(t,s,o,i,u);default:throw new Error(`Unexpected component type, "${e}".`)}}let Ja=class extends Error{};const ni="KHR_draco_mesh_compression";let Jo=class extends Qn{constructor(...e){super(...e),this.extensionName=ni,this.prereadTypes=[Me.PRIMITIVE],this.prewriteTypes=[Me.ACCESSOR],this.readDependencies=["draco3d.decoder"],this.writeDependencies=["draco3d.encoder"],this._decoderModule=null,this._encoderModule=null,this._encoderOptions={}}install(e,t){return e==="draco3d.decoder"&&(this._decoderModule=t,fi=this._decoderModule,ef={[xt.ComponentType.FLOAT]:Float32Array,[xt.ComponentType.UNSIGNED_INT]:Uint32Array,[xt.ComponentType.UNSIGNED_SHORT]:Uint16Array,[xt.ComponentType.UNSIGNED_BYTE]:Uint8Array,[xt.ComponentType.SHORT]:Int16Array,[xt.ComponentType.BYTE]:Int8Array},tf={[xt.ComponentType.FLOAT]:fi.DT_FLOAT32,[xt.ComponentType.UNSIGNED_INT]:fi.DT_UINT32,[xt.ComponentType.UNSIGNED_SHORT]:fi.DT_UINT16,[xt.ComponentType.UNSIGNED_BYTE]:fi.DT_UINT8,[xt.ComponentType.SHORT]:fi.DT_INT16,[xt.ComponentType.BYTE]:fi.DT_INT8}),e==="draco3d.encoder"&&(this._encoderModule=t,Vi=this._encoderModule),this}setEncoderOptions(e){return this._encoderOptions=e,this}preread(e){if(!this._decoderModule)throw new Error(`[${ni}] Please install extension dependency, "draco3d.decoder".`);const t=this.document.getLogger(),s=e.jsonDoc,o=new Map;try{const i=s.json.meshes||[];for(const u of i)for(const p of u.primitives){if(!p.extensions||!p.extensions[ni])continue;const _=p.extensions[ni];let[B,d]=o.get(_.bufferView)||[];if(!d||!B){const V=s.json.bufferViews[_.bufferView],I=s.json.buffers[V.buffer],L=en.toView(I.uri?s.resources[I.uri]:s.resources[ks],V.byteOffset||0,V.byteLength);B=new this._decoderModule.Decoder,d=Rl(B,L),o.set(_.bufferView,[B,d]),t.debug(`[${ni}] Decompressed ${L.byteLength} bytes.`)}for(const V in p.attributes){const I=e.jsonDoc.json.accessors[p.attributes[V]],L=B.GetAttributeByUniqueId(d,_.attributes[V]),W=Pl(B,d,L,I);e.accessors[p.attributes[V]].setArray(W)}p.indices!==void 0&&e.accessors[p.indices].setArray(Sl(B,d))}}finally{for(const[i,u]of Array.from(o.values()))this._decoderModule.destroy(i),this._decoderModule.destroy(u)}return this}read(e){return this}prewrite(e,t){if(!this._encoderModule)throw new Error(`[${ni}] Please install extension dependency, "draco3d.encoder".`);const s=this.document.getLogger();s.debug(`[${ni}] Compression options: ${JSON.stringify(this._encoderOptions)}`);const o=function(p){const _=p.getLogger(),B=new Set,d=new Set;for(const ne of p.getRoot().listMeshes())for(const q of ne.listPrimitives())q.getIndices()?q.getMode()!==Xn.Mode.TRIANGLES?(d.add(q),_.warn(`[${ni}] Skipping Draco compression on non-TRIANGLES primitive.`)):B.add(q):(d.add(q),_.warn(`[${ni}] Skipping Draco compression on non-indexed primitive.`));const V=p.getRoot().listAccessors(),I=new Map;for(let ne=0;ne<V.length;ne++)I.set(V[ne],ne);const L=new Map,W=new Set,le=new Map;for(const ne of Array.from(B)){let q=zu(ne,I);if(W.has(q))le.set(ne,q);else{if(L.has(ne.getIndices())){const X=ne.getIndices(),re=X.clone();I.set(re,p.getRoot().listAccessors().length-1),ne.swap(X,re)}for(const X of ne.listAttributes())if(L.has(X)){const re=X.clone();I.set(re,p.getRoot().listAccessors().length-1),ne.swap(X,re)}q=zu(ne,I),W.add(q),le.set(ne,q),L.set(ne.getIndices(),q);for(const X of ne.listAttributes())L.set(X,q)}}for(const ne of Array.from(L.keys())){const q=new Set(ne.listParents().map(X=>X.propertyType));if(q.size!==2||!q.has(Me.PRIMITIVE)||!q.has(Me.ROOT))throw new Error(`[${ni}] Compressed accessors must only be used as indices or vertex attributes.`)}for(const ne of Array.from(B)){const q=le.get(ne),X=ne.getIndices();if(L.get(X)!==q||ne.listAttributes().some(re=>L.get(re)!==q))throw new Error(`[${ni}] Draco primitives must share all, or no, accessors.`)}for(const ne of Array.from(d)){const q=ne.getIndices();if(L.has(q)||ne.listAttributes().some(X=>L.has(X)))throw new Error(`[${ni}] Accessor cannot be shared by compressed and uncompressed primitives.`)}return le}(this.document),i=new Map;let u="mesh";this._encoderOptions.quantizationVolume==="scene"&&(this.document.getRoot().listScenes().length!==1?s.warn(`[${ni}]: quantizationVolume=scene requires exactly 1 scene.`):u=Ra(this.document.getRoot().listScenes().pop()));for(const p of Array.from(o.keys())){const _=o.get(p);if(!_)throw new Error("Unexpected primitive.");if(i.has(_)){i.set(_,i.get(_));continue}const B=p.getIndices(),d=e.jsonDoc.json.accessors;let V;try{V=Ol(p,Ro({},this._encoderOptions,{quantizationVolume:u}))}catch(W){if(W instanceof Ja){s.warn(`[${ni}]: ${W.message} Skipping primitive compression.`);continue}throw W}i.set(_,V);const I=e.createAccessorDef(B);I.count=V.numIndices,e.accessorIndexMap.set(B,d.length),d.push(I);for(const W of p.listSemantics()){const le=p.getAttribute(W),ne=e.createAccessorDef(le);ne.count=V.numVertices,e.accessorIndexMap.set(le,d.length),d.push(ne)}const L=p.getAttribute("POSITION").getBuffer()||this.document.getRoot().listBuffers()[0];e.otherBufferViews.has(L)||e.otherBufferViews.set(L,[]),e.otherBufferViews.get(L).push(V.data)}return s.debug(`[${ni}] Compressed ${o.size} primitives.`),e.extensionData[ni]={primitiveHashMap:o,primitiveEncodingMap:i},this}write(e){const t=e.extensionData[ni];for(const s of this.document.getRoot().listMeshes()){const o=e.jsonDoc.json.meshes[e.meshIndexMap.get(s)];for(let i=0;i<s.listPrimitives().length;i++){const u=s.listPrimitives()[i],p=o.primitives[i],_=t.primitiveHashMap.get(u);if(!_)continue;const B=t.primitiveEncodingMap.get(_);B&&(p.extensions=p.extensions||{},p.extensions[ni]={bufferView:e.otherBufferViewsIndexMap.get(B.data),attributes:B.attributeIDs})}}if(!t.primitiveHashMap.size){const s=e.jsonDoc.json;s.extensionsUsed=(s.extensionsUsed||[]).filter(o=>o!==ni),s.extensionsRequired=(s.extensionsRequired||[]).filter(o=>o!==ni)}return this}};function zu(n,e){const t=[],s=n.getIndices();t.push(e.get(s));for(const o of n.listAttributes())t.push(e.get(o));return t.sort().join("|")}Jo.EXTENSION_NAME=ni,Jo.EncoderMethod=wa;let oa=class extends $n{init(){this.extensionName="KHR_lights_punctual",this.propertyType="Light",this.parentTypes=[Me.NODE]}getDefaults(){return Object.assign(super.getDefaults(),{color:[1,1,1],intensity:1,type:oa.Type.POINT,range:null,innerConeAngle:0,outerConeAngle:Math.PI/4})}getColor(){return this.get("color")}setColor(e){return this.set("color",e)}getColorHex(){return Si.factorToHex(this.getColor())}setColorHex(e){const t=this.getColor().slice();return Si.hexToFactor(e,t),this.setColor(t)}getIntensity(){return this.get("intensity")}setIntensity(e){return this.set("intensity",e)}getType(){return this.get("type")}setType(e){return this.set("type",e)}getRange(){return this.get("range")}setRange(e){return this.set("range",e)}getInnerConeAngle(){return this.get("innerConeAngle")}setInnerConeAngle(e){return this.set("innerConeAngle",e)}getOuterConeAngle(){return this.get("outerConeAngle")}setOuterConeAngle(e){return this.set("outerConeAngle",e)}};oa.EXTENSION_NAME="KHR_lights_punctual",oa.Type={POINT:"point",SPOT:"spot",DIRECTIONAL:"directional"};const mo="KHR_lights_punctual";let $s=class extends Qn{constructor(...e){super(...e),this.extensionName=mo}createLight(e=""){return new oa(this.document.getGraph(),e)}read(e){const t=e.jsonDoc;if(!t.json.extensions||!t.json.extensions[mo])return this;const s=(t.json.extensions[mo].lights||[]).map(o=>{var i,u;const p=this.createLight().setName(o.name||"").setType(o.type);return o.color!==void 0&&p.setColor(o.color),o.intensity!==void 0&&p.setIntensity(o.intensity),o.range!==void 0&&p.setRange(o.range),((i=o.spot)==null?void 0:i.innerConeAngle)!==void 0&&p.setInnerConeAngle(o.spot.innerConeAngle),((u=o.spot)==null?void 0:u.outerConeAngle)!==void 0&&p.setOuterConeAngle(o.spot.outerConeAngle),p});return t.json.nodes.forEach((o,i)=>{o.extensions&&o.extensions[mo]&&e.nodes[i].setExtension(mo,s[o.extensions[mo].light])}),this}write(e){const t=e.jsonDoc;if(this.properties.size===0)return this;const s=[],o=new Map;for(const i of this.properties){const u=i,p={type:u.getType()};dn.eq(u.getColor(),[1,1,1])||(p.color=u.getColor()),u.getIntensity()!==1&&(p.intensity=u.getIntensity()),u.getRange()!=null&&(p.range=u.getRange()),u.getName()&&(p.name=u.getName()),u.getType()===oa.Type.SPOT&&(p.spot={innerConeAngle:u.getInnerConeAngle(),outerConeAngle:u.getOuterConeAngle()}),s.push(p),o.set(u,s.length-1)}return this.document.getRoot().listNodes().forEach(i=>{const u=i.getExtension(mo);if(u){const p=e.nodeIndexMap.get(i),_=t.json.nodes[p];_.extensions=_.extensions||{},_.extensions[mo]={light:o.get(u)}}}),t.json.extensions=t.json.extensions||{},t.json.extensions[mo]={lights:s},this}};$s.EXTENSION_NAME=mo;const{R:Yu,G:Xu,B:Ll}=oi;let Qs=class extends $n{init(){this.extensionName="KHR_materials_clearcoat",this.propertyType="Clearcoat",this.parentTypes=[Me.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{clearcoatFactor:0,clearcoatTexture:null,clearcoatTextureInfo:new jn(this.graph,"clearcoatTextureInfo"),clearcoatRoughnessFactor:0,clearcoatRoughnessTexture:null,clearcoatRoughnessTextureInfo:new jn(this.graph,"clearcoatRoughnessTextureInfo"),clearcoatNormalScale:1,clearcoatNormalTexture:null,clearcoatNormalTextureInfo:new jn(this.graph,"clearcoatNormalTextureInfo")})}getClearcoatFactor(){return this.get("clearcoatFactor")}setClearcoatFactor(e){return this.set("clearcoatFactor",e)}getClearcoatTexture(){return this.getRef("clearcoatTexture")}getClearcoatTextureInfo(){return this.getRef("clearcoatTexture")?this.getRef("clearcoatTextureInfo"):null}setClearcoatTexture(e){return this.setRef("clearcoatTexture",e,{channels:Yu})}getClearcoatRoughnessFactor(){return this.get("clearcoatRoughnessFactor")}setClearcoatRoughnessFactor(e){return this.set("clearcoatRoughnessFactor",e)}getClearcoatRoughnessTexture(){return this.getRef("clearcoatRoughnessTexture")}getClearcoatRoughnessTextureInfo(){return this.getRef("clearcoatRoughnessTexture")?this.getRef("clearcoatRoughnessTextureInfo"):null}setClearcoatRoughnessTexture(e){return this.setRef("clearcoatRoughnessTexture",e,{channels:Xu})}getClearcoatNormalScale(){return this.get("clearcoatNormalScale")}setClearcoatNormalScale(e){return this.set("clearcoatNormalScale",e)}getClearcoatNormalTexture(){return this.getRef("clearcoatNormalTexture")}getClearcoatNormalTextureInfo(){return this.getRef("clearcoatNormalTexture")?this.getRef("clearcoatNormalTextureInfo"):null}setClearcoatNormalTexture(e){return this.setRef("clearcoatNormalTexture",e,{channels:Yu|Xu|Ll})}};Qs.EXTENSION_NAME="KHR_materials_clearcoat";const Mo="KHR_materials_clearcoat";let Zs=class extends Qn{constructor(...e){super(...e),this.extensionName=Mo}createClearcoat(){return new Qs(this.document.getGraph())}read(e){const t=e.jsonDoc,s=t.json.textures||[];return(t.json.materials||[]).forEach((o,i)=>{if(o.extensions&&o.extensions[Mo]){const u=this.createClearcoat();e.materials[i].setExtension(Mo,u);const p=o.extensions[Mo];if(p.clearcoatFactor!==void 0&&u.setClearcoatFactor(p.clearcoatFactor),p.clearcoatRoughnessFactor!==void 0&&u.setClearcoatRoughnessFactor(p.clearcoatRoughnessFactor),p.clearcoatTexture!==void 0){const _=p.clearcoatTexture;u.setClearcoatTexture(e.textures[s[_.index].source]),e.setTextureInfo(u.getClearcoatTextureInfo(),_)}if(p.clearcoatRoughnessTexture!==void 0){const _=p.clearcoatRoughnessTexture;u.setClearcoatRoughnessTexture(e.textures[s[_.index].source]),e.setTextureInfo(u.getClearcoatRoughnessTextureInfo(),_)}if(p.clearcoatNormalTexture!==void 0){const _=p.clearcoatNormalTexture;u.setClearcoatNormalTexture(e.textures[s[_.index].source]),e.setTextureInfo(u.getClearcoatNormalTextureInfo(),_),_.scale!==void 0&&u.setClearcoatNormalScale(_.scale)}}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const o=s.getExtension(Mo);if(o){const i=e.materialIndexMap.get(s),u=t.json.materials[i];u.extensions=u.extensions||{};const p=u.extensions[Mo]={clearcoatFactor:o.getClearcoatFactor(),clearcoatRoughnessFactor:o.getClearcoatRoughnessFactor()};if(o.getClearcoatTexture()){const _=o.getClearcoatTexture(),B=o.getClearcoatTextureInfo();p.clearcoatTexture=e.createTextureInfoDef(_,B)}if(o.getClearcoatRoughnessTexture()){const _=o.getClearcoatRoughnessTexture(),B=o.getClearcoatRoughnessTextureInfo();p.clearcoatRoughnessTexture=e.createTextureInfoDef(_,B)}if(o.getClearcoatNormalTexture()){const _=o.getClearcoatNormalTexture(),B=o.getClearcoatNormalTextureInfo();p.clearcoatNormalTexture=e.createTextureInfoDef(_,B),o.getClearcoatNormalScale()!==1&&(p.clearcoatNormalTexture.scale=o.getClearcoatNormalScale())}}}),this}};Zs.EXTENSION_NAME=Mo;let eu=class extends $n{init(){this.extensionName="KHR_materials_emissive_strength",this.propertyType="EmissiveStrength",this.parentTypes=[Me.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{emissiveStrength:1})}getEmissiveStrength(){return this.get("emissiveStrength")}setEmissiveStrength(e){return this.set("emissiveStrength",e)}};eu.EXTENSION_NAME="KHR_materials_emissive_strength";const No="KHR_materials_emissive_strength";let tu=class extends Qn{constructor(...e){super(...e),this.extensionName=No}createEmissiveStrength(){return new eu(this.document.getGraph())}read(e){return(e.jsonDoc.json.materials||[]).forEach((t,s)=>{if(t.extensions&&t.extensions[No]){const o=this.createEmissiveStrength();e.materials[s].setExtension(No,o);const i=t.extensions[No];i.emissiveStrength!==void 0&&o.setEmissiveStrength(i.emissiveStrength)}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const o=s.getExtension(No);if(o){const i=e.materialIndexMap.get(s),u=t.json.materials[i];u.extensions=u.extensions||{},u.extensions[No]={emissiveStrength:o.getEmissiveStrength()}}}),this}};tu.EXTENSION_NAME=No;let ru=class extends $n{init(){this.extensionName="KHR_materials_ior",this.propertyType="IOR",this.parentTypes=[Me.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{ior:0})}getIOR(){return this.get("ior")}setIOR(e){return this.set("ior",e)}};ru.EXTENSION_NAME="KHR_materials_ior";const Lo="KHR_materials_ior";let as=class extends Qn{constructor(...e){super(...e),this.extensionName=Lo}createIOR(){return new ru(this.document.getGraph())}read(e){return(e.jsonDoc.json.materials||[]).forEach((t,s)=>{if(t.extensions&&t.extensions[Lo]){const o=this.createIOR();e.materials[s].setExtension(Lo,o);const i=t.extensions[Lo];i.ior!==void 0&&o.setIOR(i.ior)}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const o=s.getExtension(Lo);if(o){const i=e.materialIndexMap.get(s),u=t.json.materials[i];u.extensions=u.extensions||{},u.extensions[Lo]={ior:o.getIOR()}}}),this}};as.EXTENSION_NAME=Lo;const{R:xl,G:Ul}=oi;let nu=class extends $n{init(){this.extensionName="KHR_materials_iridescence",this.propertyType="Iridescence",this.parentTypes=[Me.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{iridescenceFactor:0,iridescenceTexture:null,iridescenceTextureInfo:new jn(this.graph,"iridescenceTextureInfo"),iridescenceIOR:1.3,iridescenceThicknessMinimum:100,iridescenceThicknessMaximum:400,iridescenceThicknessTexture:null,iridescenceThicknessTextureInfo:new jn(this.graph,"iridescenceThicknessTextureInfo")})}getIridescenceFactor(){return this.get("iridescenceFactor")}setIridescenceFactor(e){return this.set("iridescenceFactor",e)}getIridescenceTexture(){return this.getRef("iridescenceTexture")}getIridescenceTextureInfo(){return this.getRef("iridescenceTexture")?this.getRef("iridescenceTextureInfo"):null}setIridescenceTexture(e){return this.setRef("iridescenceTexture",e,{channels:xl})}getIridescenceIOR(){return this.get("iridescenceIOR")}setIridescenceIOR(e){return this.set("iridescenceIOR",e)}getIridescenceThicknessMinimum(){return this.get("iridescenceThicknessMinimum")}setIridescenceThicknessMinimum(e){return this.set("iridescenceThicknessMinimum",e)}getIridescenceThicknessMaximum(){return this.get("iridescenceThicknessMaximum")}setIridescenceThicknessMaximum(e){return this.set("iridescenceThicknessMaximum",e)}getIridescenceThicknessTexture(){return this.getRef("iridescenceThicknessTexture")}getIridescenceThicknessTextureInfo(){return this.getRef("iridescenceThicknessTexture")?this.getRef("iridescenceThicknessTextureInfo"):null}setIridescenceThicknessTexture(e){return this.setRef("iridescenceThicknessTexture",e,{channels:Ul})}};nu.EXTENSION_NAME="KHR_materials_iridescence";const xo="KHR_materials_iridescence";let iu=class extends Qn{constructor(...e){super(...e),this.extensionName=xo}createIridescence(){return new nu(this.document.getGraph())}read(e){const t=e.jsonDoc,s=t.json.textures||[];return(t.json.materials||[]).forEach((o,i)=>{if(o.extensions&&o.extensions[xo]){const u=this.createIridescence();e.materials[i].setExtension(xo,u);const p=o.extensions[xo];if(p.iridescenceFactor!==void 0&&u.setIridescenceFactor(p.iridescenceFactor),p.iridescenceIor!==void 0&&u.setIridescenceIOR(p.iridescenceIor),p.iridescenceThicknessMinimum!==void 0&&u.setIridescenceThicknessMinimum(p.iridescenceThicknessMinimum),p.iridescenceThicknessMaximum!==void 0&&u.setIridescenceThicknessMaximum(p.iridescenceThicknessMaximum),p.iridescenceTexture!==void 0){const _=p.iridescenceTexture;u.setIridescenceTexture(e.textures[s[_.index].source]),e.setTextureInfo(u.getIridescenceTextureInfo(),_)}if(p.iridescenceThicknessTexture!==void 0){const _=p.iridescenceThicknessTexture;u.setIridescenceThicknessTexture(e.textures[s[_.index].source]),e.setTextureInfo(u.getIridescenceThicknessTextureInfo(),_)}}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const o=s.getExtension(xo);if(o){const i=e.materialIndexMap.get(s),u=t.json.materials[i];u.extensions=u.extensions||{};const p=u.extensions[xo]={};if(o.getIridescenceFactor()>0&&(p.iridescenceFactor=o.getIridescenceFactor()),o.getIridescenceIOR()!==1.3&&(p.iridescenceIor=o.getIridescenceIOR()),o.getIridescenceThicknessMinimum()!==100&&(p.iridescenceThicknessMinimum=o.getIridescenceThicknessMinimum()),o.getIridescenceThicknessMaximum()!==400&&(p.iridescenceThicknessMaximum=o.getIridescenceThicknessMaximum()),o.getIridescenceTexture()){const _=o.getIridescenceTexture(),B=o.getIridescenceTextureInfo();p.iridescenceTexture=e.createTextureInfoDef(_,B)}if(o.getIridescenceThicknessTexture()){const _=o.getIridescenceThicknessTexture(),B=o.getIridescenceThicknessTextureInfo();p.iridescenceThicknessTexture=e.createTextureInfoDef(_,B)}}}),this}};iu.EXTENSION_NAME=xo;const{R:$u,G:Qu,B:Zu,A:ec}=oi;let ou=class extends $n{init(){this.extensionName="KHR_materials_pbrSpecularGlossiness",this.propertyType="PBRSpecularGlossiness",this.parentTypes=[Me.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{diffuseFactor:[1,1,1,1],diffuseTexture:null,diffuseTextureInfo:new jn(this.graph,"diffuseTextureInfo"),specularFactor:[1,1,1],glossinessFactor:1,specularGlossinessTexture:null,specularGlossinessTextureInfo:new jn(this.graph,"specularGlossinessTextureInfo")})}getDiffuseFactor(){return this.get("diffuseFactor")}setDiffuseFactor(e){return this.set("diffuseFactor",e)}getDiffuseHex(){return Si.factorToHex(this.getDiffuseFactor())}setDiffuseHex(e){const t=this.getDiffuseFactor().slice();return this.setDiffuseFactor(Si.hexToFactor(e,t))}getDiffuseTexture(){return this.getRef("diffuseTexture")}getDiffuseTextureInfo(){return this.getRef("diffuseTexture")?this.getRef("diffuseTextureInfo"):null}setDiffuseTexture(e){return this.setRef("diffuseTexture",e,{channels:$u|Qu|Zu|ec})}getSpecularFactor(){return this.get("specularFactor")}setSpecularFactor(e){return this.set("specularFactor",e)}getGlossinessFactor(){return this.get("glossinessFactor")}setGlossinessFactor(e){return this.set("glossinessFactor",e)}getSpecularGlossinessTexture(){return this.getRef("specularGlossinessTexture")}getSpecularGlossinessTextureInfo(){return this.getRef("specularGlossinessTexture")?this.getRef("specularGlossinessTextureInfo"):null}setSpecularGlossinessTexture(e){return this.setRef("specularGlossinessTexture",e,{channels:$u|Qu|Zu|ec})}};ou.EXTENSION_NAME="KHR_materials_pbrSpecularGlossiness";const Uo="KHR_materials_pbrSpecularGlossiness";let ss=class extends Qn{constructor(...e){super(...e),this.extensionName=Uo}createPBRSpecularGlossiness(){return new ou(this.document.getGraph())}read(e){const t=e.jsonDoc,s=t.json.textures||[];return(t.json.materials||[]).forEach((o,i)=>{if(o.extensions&&o.extensions[Uo]){const u=this.createPBRSpecularGlossiness();e.materials[i].setExtension(Uo,u);const p=o.extensions[Uo];if(p.diffuseFactor!==void 0&&u.setDiffuseFactor(p.diffuseFactor),p.specularFactor!==void 0&&u.setSpecularFactor(p.specularFactor),p.glossinessFactor!==void 0&&u.setGlossinessFactor(p.glossinessFactor),p.diffuseTexture!==void 0){const _=p.diffuseTexture;u.setDiffuseTexture(e.textures[s[_.index].source]),e.setTextureInfo(u.getDiffuseTextureInfo(),_)}if(p.specularGlossinessTexture!==void 0){const _=p.specularGlossinessTexture;u.setSpecularGlossinessTexture(e.textures[s[_.index].source]),e.setTextureInfo(u.getSpecularGlossinessTextureInfo(),_)}}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const o=s.getExtension(Uo);if(o){const i=e.materialIndexMap.get(s),u=t.json.materials[i];u.extensions=u.extensions||{};const p=u.extensions[Uo]={diffuseFactor:o.getDiffuseFactor(),specularFactor:o.getSpecularFactor(),glossinessFactor:o.getGlossinessFactor()};if(o.getDiffuseTexture()){const _=o.getDiffuseTexture(),B=o.getDiffuseTextureInfo();p.diffuseTexture=e.createTextureInfoDef(_,B)}if(o.getSpecularGlossinessTexture()){const _=o.getSpecularGlossinessTexture(),B=o.getSpecularGlossinessTextureInfo();p.specularGlossinessTexture=e.createTextureInfoDef(_,B)}}}),this}};ss.EXTENSION_NAME=Uo;const{R:Gl,G:Hl,B:jl,A:kl}=oi;let au=class extends $n{init(){this.extensionName="KHR_materials_sheen",this.propertyType="Sheen",this.parentTypes=[Me.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{sheenColorFactor:[0,0,0],sheenColorTexture:null,sheenColorTextureInfo:new jn(this.graph,"sheenColorTextureInfo"),sheenRoughnessFactor:0,sheenRoughnessTexture:null,sheenRoughnessTextureInfo:new jn(this.graph,"sheenRoughnessTextureInfo")})}getSheenColorFactor(){return this.get("sheenColorFactor")}getSheenColorHex(){return Si.factorToHex(this.getSheenColorFactor())}setSheenColorFactor(e){return this.set("sheenColorFactor",e)}setSheenColorHex(e){const t=this.getSheenColorFactor().slice();return this.set("sheenColorFactor",Si.hexToFactor(e,t))}getSheenColorTexture(){return this.getRef("sheenColorTexture")}getSheenColorTextureInfo(){return this.getRef("sheenColorTexture")?this.getRef("sheenColorTextureInfo"):null}setSheenColorTexture(e){return this.setRef("sheenColorTexture",e,{channels:Gl|Hl|jl})}getSheenRoughnessFactor(){return this.get("sheenRoughnessFactor")}setSheenRoughnessFactor(e){return this.set("sheenRoughnessFactor",e)}getSheenRoughnessTexture(){return this.getRef("sheenRoughnessTexture")}getSheenRoughnessTextureInfo(){return this.getRef("sheenRoughnessTexture")?this.getRef("sheenRoughnessTextureInfo"):null}setSheenRoughnessTexture(e){return this.setRef("sheenRoughnessTexture",e,{channels:kl})}};au.EXTENSION_NAME="KHR_materials_sheen";const Go="KHR_materials_sheen";let su=class extends Qn{constructor(...e){super(...e),this.extensionName=Go}createSheen(){return new au(this.document.getGraph())}read(e){const t=e.jsonDoc,s=t.json.textures||[];return(t.json.materials||[]).forEach((o,i)=>{if(o.extensions&&o.extensions[Go]){const u=this.createSheen();e.materials[i].setExtension(Go,u);const p=o.extensions[Go];if(p.sheenColorFactor!==void 0&&u.setSheenColorFactor(p.sheenColorFactor),p.sheenRoughnessFactor!==void 0&&u.setSheenRoughnessFactor(p.sheenRoughnessFactor),p.sheenColorTexture!==void 0){const _=p.sheenColorTexture;u.setSheenColorTexture(e.textures[s[_.index].source]),e.setTextureInfo(u.getSheenColorTextureInfo(),_)}if(p.sheenRoughnessTexture!==void 0){const _=p.sheenRoughnessTexture;u.setSheenRoughnessTexture(e.textures[s[_.index].source]),e.setTextureInfo(u.getSheenRoughnessTextureInfo(),_)}}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const o=s.getExtension(Go);if(o){const i=e.materialIndexMap.get(s),u=t.json.materials[i];u.extensions=u.extensions||{};const p=u.extensions[Go]={sheenColorFactor:o.getSheenColorFactor(),sheenRoughnessFactor:o.getSheenRoughnessFactor()};if(o.getSheenColorTexture()){const _=o.getSheenColorTexture(),B=o.getSheenColorTextureInfo();p.sheenColorTexture=e.createTextureInfoDef(_,B)}if(o.getSheenRoughnessTexture()){const _=o.getSheenRoughnessTexture(),B=o.getSheenRoughnessTextureInfo();p.sheenRoughnessTexture=e.createTextureInfoDef(_,B)}}}),this}};su.EXTENSION_NAME=Go;const{R:Wl,G:Vl,B:Kl,A:Jl}=oi;let uu=class extends $n{init(){this.extensionName="KHR_materials_specular",this.propertyType="Specular",this.parentTypes=[Me.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{specularFactor:1,specularTexture:null,specularTextureInfo:new jn(this.graph,"specularTextureInfo"),specularColorFactor:[1,1,1],specularColorTexture:null,specularColorTextureInfo:new jn(this.graph,"specularColorTextureInfo")})}getSpecularFactor(){return this.get("specularFactor")}setSpecularFactor(e){return this.set("specularFactor",e)}getSpecularColorFactor(){return this.get("specularColorFactor")}setSpecularColorFactor(e){return this.set("specularColorFactor",e)}getSpecularColorHex(){return Si.factorToHex(this.getSpecularColorFactor())}setSpecularColorHex(e){const t=this.getSpecularColorFactor().slice();return this.set("specularColorFactor",Si.hexToFactor(e,t))}getSpecularTexture(){return this.getRef("specularTexture")}getSpecularTextureInfo(){return this.getRef("specularTexture")?this.getRef("specularTextureInfo"):null}setSpecularTexture(e){return this.setRef("specularTexture",e,{channels:Jl})}getSpecularColorTexture(){return this.getRef("specularColorTexture")}getSpecularColorTextureInfo(){return this.getRef("specularColorTexture")?this.getRef("specularColorTextureInfo"):null}setSpecularColorTexture(e){return this.setRef("specularColorTexture",e,{channels:Wl|Vl|Kl})}};uu.EXTENSION_NAME="KHR_materials_specular";const Ho="KHR_materials_specular";let us=class extends Qn{constructor(...e){super(...e),this.extensionName=Ho}createSpecular(){return new uu(this.document.getGraph())}read(e){const t=e.jsonDoc,s=t.json.textures||[];return(t.json.materials||[]).forEach((o,i)=>{if(o.extensions&&o.extensions[Ho]){const u=this.createSpecular();e.materials[i].setExtension(Ho,u);const p=o.extensions[Ho];if(p.specularFactor!==void 0&&u.setSpecularFactor(p.specularFactor),p.specularColorFactor!==void 0&&u.setSpecularColorFactor(p.specularColorFactor),p.specularTexture!==void 0){const _=p.specularTexture;u.setSpecularTexture(e.textures[s[_.index].source]),e.setTextureInfo(u.getSpecularTextureInfo(),_)}if(p.specularColorTexture!==void 0){const _=p.specularColorTexture;u.setSpecularColorTexture(e.textures[s[_.index].source]),e.setTextureInfo(u.getSpecularColorTextureInfo(),_)}}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const o=s.getExtension(Ho);if(o){const i=e.materialIndexMap.get(s),u=t.json.materials[i];u.extensions=u.extensions||{};const p=u.extensions[Ho]={};if(o.getSpecularFactor()!==1&&(p.specularFactor=o.getSpecularFactor()),dn.eq(o.getSpecularColorFactor(),[1,1,1])||(p.specularColorFactor=o.getSpecularColorFactor()),o.getSpecularTexture()){const _=o.getSpecularTexture(),B=o.getSpecularTextureInfo();p.specularTexture=e.createTextureInfoDef(_,B)}if(o.getSpecularColorTexture()){const _=o.getSpecularColorTexture(),B=o.getSpecularColorTextureInfo();p.specularColorTexture=e.createTextureInfoDef(_,B)}}}),this}};us.EXTENSION_NAME=Ho;const{R:ql}=oi;let cu=class extends $n{init(){this.extensionName="KHR_materials_transmission",this.propertyType="Transmission",this.parentTypes=[Me.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{transmissionFactor:0,transmissionTexture:null,transmissionTextureInfo:new jn(this.graph,"transmissionTextureInfo")})}getTransmissionFactor(){return this.get("transmissionFactor")}setTransmissionFactor(e){return this.set("transmissionFactor",e)}getTransmissionTexture(){return this.getRef("transmissionTexture")}getTransmissionTextureInfo(){return this.getRef("transmissionTexture")?this.getRef("transmissionTextureInfo"):null}setTransmissionTexture(e){return this.setRef("transmissionTexture",e,{channels:ql})}};cu.EXTENSION_NAME="KHR_materials_transmission";const jo="KHR_materials_transmission";let fu=class extends Qn{constructor(...e){super(...e),this.extensionName=jo}createTransmission(){return new cu(this.document.getGraph())}read(e){const t=e.jsonDoc,s=t.json.textures||[];return(t.json.materials||[]).forEach((o,i)=>{if(o.extensions&&o.extensions[jo]){const u=this.createTransmission();e.materials[i].setExtension(jo,u);const p=o.extensions[jo];if(p.transmissionFactor!==void 0&&u.setTransmissionFactor(p.transmissionFactor),p.transmissionTexture!==void 0){const _=p.transmissionTexture;u.setTransmissionTexture(e.textures[s[_.index].source]),e.setTextureInfo(u.getTransmissionTextureInfo(),_)}}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const o=s.getExtension(jo);if(o){const i=e.materialIndexMap.get(s),u=t.json.materials[i];u.extensions=u.extensions||{};const p=u.extensions[jo]={transmissionFactor:o.getTransmissionFactor()};if(o.getTransmissionTexture()){const _=o.getTransmissionTexture(),B=o.getTransmissionTextureInfo();p.transmissionTexture=e.createTextureInfoDef(_,B)}}}),this}};fu.EXTENSION_NAME=jo;let lu=class extends $n{init(){this.extensionName="KHR_materials_unlit",this.propertyType="Unlit",this.parentTypes=[Me.MATERIAL]}};lu.EXTENSION_NAME="KHR_materials_unlit";const ea="KHR_materials_unlit";let cs=class extends Qn{constructor(...e){super(...e),this.extensionName=ea}createUnlit(){return new lu(this.document.getGraph())}read(e){return(e.jsonDoc.json.materials||[]).forEach((t,s)=>{t.extensions&&t.extensions[ea]&&e.materials[s].setExtension(ea,this.createUnlit())}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{if(s.getExtension(ea)){const o=e.materialIndexMap.get(s),i=t.json.materials[o];i.extensions=i.extensions||{},i.extensions[ea]={}}}),this}};cs.EXTENSION_NAME=ea;let pu=class extends $n{init(){this.extensionName="KHR_materials_variants",this.propertyType="Mapping",this.parentTypes=["MappingList"]}getDefaults(){return Object.assign(super.getDefaults(),{material:null,variants:[]})}getMaterial(){return this.getRef("material")}setMaterial(e){return this.setRef("material",e)}addVariant(e){return this.addRef("variants",e)}removeVariant(e){return this.removeRef("variants",e)}listVariants(){return this.listRefs("variants")}};pu.EXTENSION_NAME="KHR_materials_variants";let du=class extends $n{init(){this.extensionName="KHR_materials_variants",this.propertyType="MappingList",this.parentTypes=[Me.PRIMITIVE]}getDefaults(){return Object.assign(super.getDefaults(),{mappings:[]})}addMapping(e){return this.addRef("mappings",e)}removeMapping(e){return this.removeRef("mappings",e)}listMappings(){return this.listRefs("mappings")}};du.EXTENSION_NAME="KHR_materials_variants";let $a=class extends $n{init(){this.extensionName="KHR_materials_variants",this.propertyType="Variant",this.parentTypes=["MappingList"]}};$a.EXTENSION_NAME="KHR_materials_variants";const yo="KHR_materials_variants";let _u=class extends Qn{constructor(...e){super(...e),this.extensionName=yo}createMappingList(){return new du(this.document.getGraph())}createVariant(e=""){return new $a(this.document.getGraph(),e)}createMapping(){return new pu(this.document.getGraph())}listVariants(){return Array.from(this.properties).filter(e=>e instanceof $a)}read(e){const t=e.jsonDoc;if(!t.json.extensions||!t.json.extensions[yo])return this;const s=(t.json.extensions[yo].variants||[]).map(o=>this.createVariant().setName(o.name||""));return(t.json.meshes||[]).forEach((o,i)=>{const u=e.meshes[i];(o.primitives||[]).forEach((p,_)=>{if(!p.extensions||!p.extensions[yo])return;const B=this.createMappingList(),d=p.extensions[yo];for(const V of d.mappings){const I=this.createMapping();V.material!==void 0&&I.setMaterial(e.materials[V.material]);for(const L of V.variants||[])I.addVariant(s[L]);B.addMapping(I)}u.listPrimitives()[_].setExtension(yo,B)})}),this}write(e){const t=e.jsonDoc,s=this.listVariants();if(!s.length)return this;const o=[],i=new Map;for(const u of s)i.set(u,o.length),o.push(e.createPropertyDef(u));for(const u of this.document.getRoot().listMeshes()){const p=e.meshIndexMap.get(u);u.listPrimitives().forEach((_,B)=>{const d=_.getExtension(yo);if(!d)return;const V=e.jsonDoc.json.meshes[p].primitives[B],I=d.listMappings().map(L=>{const W=e.createPropertyDef(L),le=L.getMaterial();return le&&(W.material=e.materialIndexMap.get(le)),W.variants=L.listVariants().map(ne=>i.get(ne)),W});V.extensions=V.extensions||{},V.extensions[yo]={mappings:I}})}return t.json.extensions=t.json.extensions||{},t.json.extensions[yo]={variants:o},this}};_u.EXTENSION_NAME=yo;const{G:zl}=oi;let hu=class extends $n{init(){this.extensionName="KHR_materials_volume",this.propertyType="Volume",this.parentTypes=[Me.MATERIAL]}getDefaults(){return Object.assign(super.getDefaults(),{thicknessFactor:0,thicknessTexture:null,thicknessTextureInfo:new jn(this.graph,"thicknessTexture"),attenuationDistance:1/0,attenuationColor:[1,1,1]})}getThicknessFactor(){return this.get("thicknessFactor")}setThicknessFactor(e){return this.set("thicknessFactor",e)}getThicknessTexture(){return this.getRef("thicknessTexture")}getThicknessTextureInfo(){return this.getRef("thicknessTexture")?this.getRef("thicknessTextureInfo"):null}setThicknessTexture(e){return this.setRef("thicknessTexture",e,{channels:zl})}getAttenuationDistance(){return this.get("attenuationDistance")}setAttenuationDistance(e){return this.set("attenuationDistance",e)}getAttenuationColor(){return this.get("attenuationColor")}setAttenuationColor(e){return this.set("attenuationColor",e)}getAttenuationColorHex(){return Si.factorToHex(this.getAttenuationColor())}setAttenuationColorHex(e){const t=this.getAttenuationColor().slice();return this.set("attenuationColor",Si.hexToFactor(e,t))}};hu.EXTENSION_NAME="KHR_materials_volume";const ko="KHR_materials_volume";let gu=class extends Qn{constructor(...e){super(...e),this.extensionName=ko}createVolume(){return new hu(this.document.getGraph())}read(e){const t=e.jsonDoc,s=t.json.textures||[];return(t.json.materials||[]).forEach((o,i)=>{if(o.extensions&&o.extensions[ko]){const u=this.createVolume();e.materials[i].setExtension(ko,u);const p=o.extensions[ko];if(p.thicknessFactor!==void 0&&u.setThicknessFactor(p.thicknessFactor),p.attenuationDistance!==void 0&&u.setAttenuationDistance(p.attenuationDistance),p.attenuationColor!==void 0&&u.setAttenuationColor(p.attenuationColor),p.thicknessTexture!==void 0){const _=p.thicknessTexture;u.setThicknessTexture(e.textures[s[_.index].source]),e.setTextureInfo(u.getThicknessTextureInfo(),_)}}}),this}write(e){const t=e.jsonDoc;return this.document.getRoot().listMaterials().forEach(s=>{const o=s.getExtension(ko);if(o){const i=e.materialIndexMap.get(s),u=t.json.materials[i];u.extensions=u.extensions||{};const p=u.extensions[ko]={};if(o.getThicknessFactor()>0&&(p.thicknessFactor=o.getThicknessFactor()),Number.isFinite(o.getAttenuationDistance())&&(p.attenuationDistance=o.getAttenuationDistance()),dn.eq(o.getAttenuationColor(),[1,1,1])||(p.attenuationColor=o.getAttenuationColor()),o.getThicknessTexture()){const _=o.getThicknessTexture(),B=o.getThicknessTextureInfo();p.thicknessTexture=e.createTextureInfoDef(_,B)}}}),this}};gu.EXTENSION_NAME=ko;const nf="KHR_mesh_quantization";let Sa=class extends Qn{constructor(...e){super(...e),this.extensionName=nf}read(e){return this}write(e){return this}};Sa.EXTENSION_NAME=nf;const Aa="KHR_texture_basisu";let Yl=class{match(e){return e[0]===171&&e[1]===75&&e[2]===84&&e[3]===88&&e[4]===32&&e[5]===50&&e[6]===48&&e[7]===187&&e[8]===13&&e[9]===10&&e[10]===26&&e[11]===10}getSize(e){const t=Ka(e);return[t.pixelWidth,t.pixelHeight]}getChannels(e){const t=Ka(e).dataFormatDescriptor[0];if(t.colorModel===$c)return t.samples.length===2&&(15&t.samples[1].channelType)==15?4:3;if(t.colorModel===Qc)return(15&t.samples[0].channelType)==3?4:3;throw new Error(`Unexpected KTX2 colorModel, "${t.colorModel}".`)}getGPUByteLength(e){const t=Ka(e),s=this.getChannels(e)>3;let o=0;for(let i=0;i<t.levels.length;i++){const u=t.levels[i];o+=u.uncompressedByteLength?u.uncompressedByteLength:Math.max(1,Math.floor(t.pixelWidth/Math.pow(2,i)))/4*(Math.max(1,Math.floor(t.pixelHeight/Math.pow(2,i)))/4)*(s?16:8)}return o}},Au=class extends Qn{constructor(...e){super(...e),this.extensionName=Aa,this.prereadTypes=[Me.TEXTURE]}static register(){po.registerFormat("image/ktx2",new Yl)}preread(e){return e.jsonDoc.json.textures.forEach(t=>{t.extensions&&t.extensions[Aa]&&(t.source=t.extensions[Aa].source)}),this}read(e){return this}write(e){const t=e.jsonDoc;return this.document.getRoot().listTextures().forEach(s=>{if(s.getMimeType()==="image/ktx2"){const o=e.imageIndexMap.get(s);t.json.textures.forEach(i=>{i.source===o&&(i.extensions=i.extensions||{},i.extensions[Aa]={source:i.source},delete i.source)})}}),this}};Au.EXTENSION_NAME=Aa;let mu=class extends $n{init(){this.extensionName="KHR_texture_transform",this.propertyType="Transform",this.parentTypes=[Me.TEXTURE_INFO]}getDefaults(){return Object.assign(super.getDefaults(),{offset:[0,0],rotation:0,scale:[1,1],texCoord:null})}getOffset(){return this.get("offset")}setOffset(e){return this.set("offset",e)}getRotation(){return this.get("rotation")}setRotation(e){return this.set("rotation",e)}getScale(){return this.get("scale")}setScale(e){return this.set("scale",e)}getTexCoord(){return this.get("texCoord")}setTexCoord(e){return this.set("texCoord",e)}};mu.EXTENSION_NAME="KHR_texture_transform";const Wo="KHR_texture_transform";let yu=class extends Qn{constructor(...e){super(...e),this.extensionName=Wo}createTransform(){return new mu(this.document.getGraph())}read(e){for(const[t,s]of Array.from(e.textureInfos.entries())){if(!s.extensions||!s.extensions[Wo])continue;const o=this.createTransform(),i=s.extensions[Wo];i.offset!==void 0&&o.setOffset(i.offset),i.rotation!==void 0&&o.setRotation(i.rotation),i.scale!==void 0&&o.setScale(i.scale),i.texCoord!==void 0&&o.setTexCoord(i.texCoord),t.setExtension(Wo,o)}return this}write(e){const t=Array.from(e.textureInfoDefMap.entries());for(const[s,o]of t){const i=s.getExtension(Wo);if(!i)continue;o.extensions=o.extensions||{};const u={},p=dn.eq;p(i.getOffset(),[0,0])||(u.offset=i.getOffset()),i.getRotation()!==0&&(u.rotation=i.getRotation()),p(i.getScale(),[1,1])||(u.scale=i.getScale()),i.getTexCoord()!=null&&(u.texCoord=i.getTexCoord()),o.extensions[Wo]=u}return this}};yu.EXTENSION_NAME=Wo;const Xl=[Me.ROOT,Me.SCENE,Me.NODE,Me.MESH,Me.MATERIAL,Me.TEXTURE,Me.ANIMATION];let vu=class extends $n{init(){this.extensionName="KHR_xmp_json_ld",this.propertyType="Packet",this.parentTypes=Xl}getDefaults(){return Object.assign(super.getDefaults(),{context:{},properties:{}})}getContext(){return this.get("context")}setContext(e){return this.set("context",Ro({},e))}listProperties(){return Object.keys(this.get("properties"))}getProperty(e){const t=this.get("properties");return e in t?t[e]:null}setProperty(e,t){this._assertContext(e);const s=Ro({},this.get("properties"));return t?s[e]=t:delete s[e],this.set("properties",s)}toJSONLD(){return Ro({"@context":bs(this.get("context"))},bs(this.get("properties")))}fromJSONLD(e){const t=(e=bs(e))["@context"];return t&&this.set("context",t),delete e["@context"],this.set("properties",e)}_assertContext(e){if(!(e.split(":")[0]in this.get("context")))throw new Error(`KHR_xmp_json_ld: Missing context for term, "${e}".`)}};function bs(n){return JSON.parse(JSON.stringify(n))}vu.EXTENSION_NAME="KHR_xmp_json_ld";const Co="KHR_xmp_json_ld";let bu=class extends Qn{constructor(...e){super(...e),this.extensionName=Co}createPacket(){return new vu(this.document.getGraph())}listPackets(){return Array.from(this.properties)}read(e){var t;const s=(t=e.jsonDoc.json.extensions)==null?void 0:t[Co];if(!s||!s.packets)return this;const o=e.jsonDoc.json,i=this.document.getRoot(),u=s.packets.map(B=>this.createPacket().fromJSONLD(B)),p=[[o.asset],o.scenes,o.nodes,o.meshes,o.materials,o.images,o.animations],_=[[i],i.listScenes(),i.listNodes(),i.listMeshes(),i.listMaterials(),i.listTextures(),i.listAnimations()];for(let B=0;B<p.length;B++){const d=p[B]||[];for(let V=0;V<d.length;V++){const I=d[V];I.extensions&&I.extensions[Co]&&_[B][V].setExtension(Co,u[I.extensions[Co].packet])}}return this}write(e){const{json:t}=e.jsonDoc,s=[];for(const o of this.properties){s.push(o.toJSONLD());for(const i of o.listParents()){let u;switch(i.propertyType){case Me.ROOT:u=t.asset;break;case Me.SCENE:u=t.scenes[e.sceneIndexMap.get(i)];break;case Me.NODE:u=t.nodes[e.nodeIndexMap.get(i)];break;case Me.MESH:u=t.meshes[e.meshIndexMap.get(i)];break;case Me.MATERIAL:u=t.materials[e.materialIndexMap.get(i)];break;case Me.TEXTURE:u=t.images[e.imageIndexMap.get(i)];break;case Me.ANIMATION:u=t.animations[e.animationIndexMap.get(i)];break;default:u=null,this.document.getLogger().warn(`[${Co}]: Unsupported parent property, "${i.propertyType}"`)}u&&(u.extensions=u.extensions||{},u.extensions[Co]={packet:s.length-1})}}return s.length>0&&(t.extensions=t.extensions||{},t.extensions[Co]={packets:s}),this}};bu.EXTENSION_NAME=Co;const of=[Jo,$s,Zs,tu,as,iu,ss,us,su,fu,cs,_u,gu,Sa,Au,yu,bu],$l=[is,Ko,os,...of],Ql=Object.freeze(Object.defineProperty({__proto__:null,ALL_EXTENSIONS:$l,Clearcoat:Qs,DracoMeshCompression:Jo,EmissiveStrength:eu,INSTANCE_ATTRIBUTE:Bl,IOR:ru,InstancedMesh:Xs,Iridescence:nu,KHRONOS_EXTENSIONS:of,Light:oa,LightsPunctual:$s,Mapping:pu,MappingList:du,MaterialsClearcoat:Zs,MaterialsEmissiveStrength:tu,MaterialsIOR:as,MaterialsIridescence:iu,MaterialsPBRSpecularGlossiness:ss,MaterialsSheen:su,MaterialsSpecular:us,MaterialsTransmission:fu,MaterialsUnlit:cs,MaterialsVariants:_u,MaterialsVolume:gu,MeshGPUInstancing:is,MeshQuantization:Sa,MeshoptCompression:Ko,PBRSpecularGlossiness:ou,Packet:vu,Sheen:au,Specular:uu,TextureBasisu:Au,TextureTransform:yu,TextureWebP:os,Transform:mu,Transmission:cu,Unlit:lu,Variant:$a,Volume:hu,XMP:bu},Symbol.toStringTag,{value:"Module"})),Eu=sa(Ql);var ro={};Object.defineProperty(ro,"__esModule",{value:!0});ro.SIMPLIFY_ERROR=ro.SIMPLIFY_RATIO=ro.WELD_TOLERANCE=ro.DRACO_METHOD=ro.EMISSIVE_STRENGTH=void 0;ro.EMISSIVE_STRENGTH=1;ro.DRACO_METHOD="edgebreaker";ro.WELD_TOLERANCE=1e-4;ro.SIMPLIFY_RATIO=.75;ro.SIMPLIFY_ERROR=.01;Object.defineProperty(Ia,"__esModule",{value:!0});Ia.setEmissiveStrength=void 0;var tc=Eu,Zl=ro;function ep(n,e){e===void 0&&(e=Zl.EMISSIVE_STRENGTH);var t=n.createExtension(tc.MaterialsEmissiveStrength),s=t.createEmissiveStrength().setEmissiveStrength(e);n.createExtension(tc.TextureWebP).setRequired(!0),n.getRoot().listMaterials().forEach(function(o){o.setExtension("KHR_materials_emissive_strength",s)})}Ia.setEmissiveStrength=ep;var fs={};function pn(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ps={},tp={get exports(){return Ps},set exports(n){Ps=n}};const rp={},np=Object.freeze(Object.defineProperty({__proto__:null,default:rp},Symbol.toStringTag,{value:"Module"})),Zr=sa(np);(function(n,e){var t=t||{};t.scope={},t.arrayIteratorImpl=function(o){var i=0;return function(){return i<o.length?{done:!1,value:o[i++]}:{done:!0}}},t.arrayIterator=function(o){return{next:t.arrayIteratorImpl(o)}},t.makeIterator=function(o){var i=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return i?i.call(o):t.arrayIterator(o)},t.ASSUME_ES5=!1,t.ASSUME_NO_NATIVE_MAP=!1,t.ASSUME_NO_NATIVE_SET=!1,t.SIMPLE_FROUND_POLYFILL=!1,t.ISOLATE_POLYFILLS=!1,t.FORCE_POLYFILL_PROMISE=!1,t.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,t.getGlobal=function(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof ln=="object"&&ln];for(var i=0;i<o.length;++i){var u=o[i];if(u&&u.Math==Math)return u}throw Error("Cannot find global object")},t.global=t.getGlobal(ln),t.defineProperty=t.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(o,i,u){return o==Array.prototype||o==Object.prototype||(o[i]=u.value),o},t.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",t.TRUST_ES6_POLYFILLS=!t.ISOLATE_POLYFILLS||t.IS_SYMBOL_NATIVE,t.polyfills={},t.propertyToPolyfillSymbol={},t.POLYFILL_PREFIX="$jscp$",t.polyfill=function(o,i,u,p){i&&(t.ISOLATE_POLYFILLS?t.polyfillIsolated(o,i,u,p):t.polyfillUnisolated(o,i,u,p))},t.polyfillUnisolated=function(o,i,u,p){for(u=t.global,o=o.split("."),p=0;p<o.length-1;p++){var _=o[p];if(!(_ in u))return;u=u[_]}o=o[o.length-1],p=u[o],i=i(p),i!=p&&i!=null&&t.defineProperty(u,o,{configurable:!0,writable:!0,value:i})},t.polyfillIsolated=function(o,i,u,p){var _=o.split(".");o=_.length===1,p=_[0],p=!o&&p in t.polyfills?t.polyfills:t.global;for(var B=0;B<_.length-1;B++){var d=_[B];if(!(d in p))return;p=p[d]}_=_[_.length-1],u=t.IS_SYMBOL_NATIVE&&u==="es6"?p[_]:null,i=i(u),i!=null&&(o?t.defineProperty(t.polyfills,_,{configurable:!0,writable:!0,value:i}):i!==u&&(t.propertyToPolyfillSymbol[_]===void 0&&(u=1e9*Math.random()>>>0,t.propertyToPolyfillSymbol[_]=t.IS_SYMBOL_NATIVE?t.global.Symbol(_):t.POLYFILL_PREFIX+u+"$"+_),t.defineProperty(p,t.propertyToPolyfillSymbol[_],{configurable:!0,writable:!0,value:i})))},t.polyfill("Promise",function(o){function i(){this.batch_=null}function u(d){return d instanceof _?d:new _(function(V,I){V(d)})}if(o&&(!(t.FORCE_POLYFILL_PROMISE||t.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&typeof t.global.PromiseRejectionEvent>"u")||!t.global.Promise||t.global.Promise.toString().indexOf("[native code]")===-1))return o;i.prototype.asyncExecute=function(d){if(this.batch_==null){this.batch_=[];var V=this;this.asyncExecuteFunction(function(){V.executeBatch_()})}this.batch_.push(d)};var p=t.global.setTimeout;i.prototype.asyncExecuteFunction=function(d){p(d,0)},i.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var d=this.batch_;this.batch_=[];for(var V=0;V<d.length;++V){var I=d[V];d[V]=null;try{I()}catch(L){this.asyncThrow_(L)}}}this.batch_=null},i.prototype.asyncThrow_=function(d){this.asyncExecuteFunction(function(){throw d})};var _=function(d){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[],this.isRejectionHandled_=!1;var V=this.createResolveAndReject_();try{d(V.resolve,V.reject)}catch(I){V.reject(I)}};_.prototype.createResolveAndReject_=function(){function d(L){return function(W){I||(I=!0,L.call(V,W))}}var V=this,I=!1;return{resolve:d(this.resolveTo_),reject:d(this.reject_)}},_.prototype.resolveTo_=function(d){if(d===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(d instanceof _)this.settleSameAsPromise_(d);else{e:switch(typeof d){case"object":var V=d!=null;break e;case"function":V=!0;break e;default:V=!1}V?this.resolveToNonPromiseObj_(d):this.fulfill_(d)}},_.prototype.resolveToNonPromiseObj_=function(d){var V=void 0;try{V=d.then}catch(I){this.reject_(I);return}typeof V=="function"?this.settleSameAsThenable_(V,d):this.fulfill_(d)},_.prototype.reject_=function(d){this.settle_(2,d)},_.prototype.fulfill_=function(d){this.settle_(1,d)},_.prototype.settle_=function(d,V){if(this.state_!=0)throw Error("Cannot settle("+d+", "+V+"): Promise already settled in state"+this.state_);this.state_=d,this.result_=V,this.state_===2&&this.scheduleUnhandledRejectionCheck_(),this.executeOnSettledCallbacks_()},_.prototype.scheduleUnhandledRejectionCheck_=function(){var d=this;p(function(){if(d.notifyUnhandledRejection_()){var V=t.global.console;typeof V<"u"&&V.error(d.result_)}},1)},_.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var d=t.global.CustomEvent,V=t.global.Event,I=t.global.dispatchEvent;return typeof I>"u"?!0:(typeof d=="function"?d=new d("unhandledrejection",{cancelable:!0}):typeof V=="function"?d=new V("unhandledrejection",{cancelable:!0}):(d=t.global.document.createEvent("CustomEvent"),d.initCustomEvent("unhandledrejection",!1,!0,d)),d.promise=this,d.reason=this.result_,I(d))},_.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){for(var d=0;d<this.onSettledCallbacks_.length;++d)B.asyncExecute(this.onSettledCallbacks_[d]);this.onSettledCallbacks_=null}};var B=new i;return _.prototype.settleSameAsPromise_=function(d){var V=this.createResolveAndReject_();d.callWhenSettled_(V.resolve,V.reject)},_.prototype.settleSameAsThenable_=function(d,V){var I=this.createResolveAndReject_();try{d.call(V,I.resolve,I.reject)}catch(L){I.reject(L)}},_.prototype.then=function(d,V){function I(ne,q){return typeof ne=="function"?function(X){try{L(ne(X))}catch(re){W(re)}}:q}var L,W,le=new _(function(ne,q){L=ne,W=q});return this.callWhenSettled_(I(d,L),I(V,W)),le},_.prototype.catch=function(d){return this.then(void 0,d)},_.prototype.callWhenSettled_=function(d,V){function I(){switch(L.state_){case 1:d(L.result_);break;case 2:V(L.result_);break;default:throw Error("Unexpected state: "+L.state_)}}var L=this;this.onSettledCallbacks_==null?B.asyncExecute(I):this.onSettledCallbacks_.push(I),this.isRejectionHandled_=!0},_.resolve=u,_.reject=function(d){return new _(function(V,I){I(d)})},_.race=function(d){return new _(function(V,I){for(var L=t.makeIterator(d),W=L.next();!W.done;W=L.next())u(W.value).callWhenSettled_(V,I)})},_.all=function(d){var V=t.makeIterator(d),I=V.next();return I.done?u([]):new _(function(L,W){function le(X){return function(re){ne[X]=re,q--,q==0&&L(ne)}}var ne=[],q=0;do ne.push(void 0),q++,u(I.value).callWhenSettled_(le(ne.length-1),W),I=V.next();while(!I.done)})},_},"es6","es3"),t.owns=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},t.assign=t.TRUST_ES6_POLYFILLS&&typeof Object.assign=="function"?Object.assign:function(o,i){for(var u=1;u<arguments.length;u++){var p=arguments[u];if(p)for(var _ in p)t.owns(p,_)&&(o[_]=p[_])}return o},t.polyfill("Object.assign",function(o){return o||t.assign},"es6","es3"),t.checkStringArgs=function(o,i,u){if(o==null)throw new TypeError("The 'this' value for String.prototype."+u+" must not be null or undefined");if(i instanceof RegExp)throw new TypeError("First argument to String.prototype."+u+" must not be a regular expression");return o+""},t.polyfill("String.prototype.startsWith",function(o){return o||function(i,u){var p=t.checkStringArgs(this,i,"startsWith");i+="";var _=p.length,B=i.length;u=Math.max(0,Math.min(u|0,p.length));for(var d=0;d<B&&u<_;)if(p[u++]!=i[d++])return!1;return d>=B}},"es6","es3"),t.polyfill("Array.prototype.copyWithin",function(o){function i(u){return u=Number(u),u===1/0||u===-1/0?u:u|0}return o||function(u,p,_){var B=this.length;if(u=i(u),p=i(p),_=_===void 0?B:i(_),u=0>u?Math.max(B+u,0):Math.min(u,B),p=0>p?Math.max(B+p,0):Math.min(p,B),_=0>_?Math.max(B+_,0):Math.min(_,B),u<p)for(;p<_;)p in this?this[u++]=this[p++]:(delete this[u++],p++);else for(_=Math.min(_,B+p-u),u+=_-p;_>p;)--_ in this?this[--u]=this[_]:delete this[--u];return this}},"es6","es3"),t.typedArrayCopyWithin=function(o){return o||Array.prototype.copyWithin},t.polyfill("Int8Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Uint8Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Uint8ClampedArray.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Int16Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Uint16Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Int32Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Uint32Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Float32Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Float64Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5");var s=function(){var o=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(o=o||__filename),function(i){function u(j){return K.locateFile?K.locateFile(j,kn):kn+j}function p(j){Oi=j,K.HEAP8=qn=new Int8Array(j),K.HEAP16=ai=new Int16Array(j),K.HEAP32=_n=new Int32Array(j),K.HEAPU8=On=new Uint8Array(j),K.HEAPU16=new Uint16Array(j),K.HEAPU32=Gn=new Uint32Array(j),K.HEAPF32=Ln=new Float32Array(j),K.HEAPF64=new Float64Array(j)}function _(j){throw K.onAbort&&K.onAbort(j),j="Aborted("+j+")",Bi(j),zi=!0,j=new WebAssembly.RuntimeError(j+". Build with -sASSERTIONS for more info."),Kr(j),j}function B(j){try{if(j==Rn&&Un)return new Uint8Array(Un);if(Pi)return Pi(j);throw"both async and sync fetching of the wasm failed"}catch($){_($)}}function d(){if(!Un&&(ut||F)){if(typeof fetch=="function"&&!Rn.startsWith("file://"))return fetch(Rn,{credentials:"same-origin"}).then(function(j){if(!j.ok)throw"failed to load wasm binary file at '"+Rn+"'";return j.arrayBuffer()}).catch(function(){return B(Rn)});if(mn)return new Promise(function(j,$){mn(Rn,function(ae){j(new Uint8Array(ae))},$)})}return Promise.resolve().then(function(){return B(Rn)})}function V(j){for(;0<j.length;)j.shift()(K)}function I(j){this.excPtr=j,this.ptr=j-24,this.set_type=function($){Gn[this.ptr+4>>2]=$},this.get_type=function(){return Gn[this.ptr+4>>2]},this.set_destructor=function($){Gn[this.ptr+8>>2]=$},this.get_destructor=function(){return Gn[this.ptr+8>>2]},this.set_refcount=function($){_n[this.ptr>>2]=$},this.set_caught=function($){qn[this.ptr+12>>0]=$?1:0},this.get_caught=function(){return qn[this.ptr+12>>0]!=0},this.set_rethrown=function($){qn[this.ptr+13>>0]=$?1:0},this.get_rethrown=function(){return qn[this.ptr+13>>0]!=0},this.init=function($,ae){this.set_adjusted_ptr(0),this.set_type($),this.set_destructor(ae),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){_n[this.ptr>>2]+=1},this.release_ref=function(){var $=_n[this.ptr>>2];return _n[this.ptr>>2]=$-1,$===1},this.set_adjusted_ptr=function($){Gn[this.ptr+16>>2]=$},this.get_adjusted_ptr=function(){return Gn[this.ptr+16>>2]},this.get_exception_ptr=function(){if(zr(this.get_type()))return Gn[this.excPtr>>2];var $=this.get_adjusted_ptr();return $!==0?$:this.excPtr}}function L(j){function $(){if(!cr&&(cr=!0,K.calledRun=!0,!zi)){if(si=!0,V(Ni),Pn(K),K.onRuntimeInitialized&&K.onRuntimeInitialized(),K.postRun)for(typeof K.postRun=="function"&&(K.postRun=[K.postRun]);K.postRun.length;)Ci.unshift(K.postRun.shift());V(Ci)}}if(!(0<Jn)){if(K.preRun)for(typeof K.preRun=="function"&&(K.preRun=[K.preRun]);K.preRun.length;)Mi.unshift(K.preRun.shift());V(Mi),0<Jn||(K.setStatus?(K.setStatus("Running..."),setTimeout(function(){setTimeout(function(){K.setStatus("")},1),$()},1)):$())}}function W(){}function le(j){return(j||W).__cache__}function ne(j,$){var ae=le($),Ae=ae[j];return Ae||(Ae=Object.create(($||W).prototype),Ae.ptr=j,ae[j]=Ae)}function q(j){if(typeof j=="string"){for(var $=0,ae=0;ae<j.length;++ae){var Ae=j.charCodeAt(ae);127>=Ae?$++:2047>=Ae?$+=2:55296<=Ae&&57343>=Ae?($+=4,++ae):$+=3}if($=Array($+1),ae=0,Ae=$.length,0<Ae){Ae=ae+Ae-1;for(var Ie=0;Ie<j.length;++Ie){var Le=j.charCodeAt(Ie);if(55296<=Le&&57343>=Le){var Ut=j.charCodeAt(++Ie);Le=65536+((Le&1023)<<10)|Ut&1023}if(127>=Le){if(ae>=Ae)break;$[ae++]=Le}else{if(2047>=Le){if(ae+1>=Ae)break;$[ae++]=192|Le>>6}else{if(65535>=Le){if(ae+2>=Ae)break;$[ae++]=224|Le>>12}else{if(ae+3>=Ae)break;$[ae++]=240|Le>>18,$[ae++]=128|Le>>12&63}$[ae++]=128|Le>>6&63}$[ae++]=128|Le&63}}$[ae]=0}return j=Se.alloc($,qn),Se.copy($,qn,j),j}return j}function X(j){if(typeof j=="object"){var $=Se.alloc(j,qn);return Se.copy(j,qn,$),$}return j}function re(j){if(typeof j=="object"){var $=Se.alloc(j,ai);return Se.copy(j,ai,$),$}return j}function ce(j){if(typeof j=="object"){var $=Se.alloc(j,_n);return Se.copy(j,_n,$),$}return j}function _e(j){if(typeof j=="object"){var $=Se.alloc(j,Ln);return Se.copy(j,Ln,$),$}return j}function ye(){throw"cannot construct a VoidPtr, no constructor in IDL"}function Ue(){this.ptr=Sn(),le(Ue)[this.ptr]=this}function Ge(){this.ptr=ei(),le(Ge)[this.ptr]=this}function Ve(){this.ptr=Xi(),le(Ve)[this.ptr]=this}function ke(){this.ptr=so(),le(ke)[this.ptr]=this}function bt(){this.ptr=$i(),le(bt)[this.ptr]=this}function et(){this.ptr=mi(),le(et)[this.ptr]=this}function Pt(){this.ptr=zn(),le(Pt)[this.ptr]=this}function st(){this.ptr=ui(),le(st)[this.ptr]=this}function Ze(){this.ptr=at(),le(Ze)[this.ptr]=this}function ot(){this.ptr=jr(),le(ot)[this.ptr]=this}function jt(j){j&&typeof j=="object"&&(j=j.ptr),this.ptr=Ft(j),le(jt)[this.ptr]=this}i=i||{};var K=typeof i<"u"?i:{},Pn,Kr;K.ready=new Promise(function(j,$){Pn=j,Kr=$});var Xr=!1,xn=!1;K.onRuntimeInitialized=function(){Xr=!0,xn&&typeof K.onModuleLoaded=="function"&&K.onModuleLoaded(K)},K.onModuleParsed=function(){xn=!0,Xr&&typeof K.onModuleLoaded=="function"&&K.onModuleLoaded(K)},K.isVersionSupported=function(j){return typeof j!="string"?!1:(j=j.split("."),2>j.length||3<j.length?!1:j[0]==1&&0<=j[1]&&5>=j[1]?!0:!(j[0]!=0||10<j[1]))};var Br=Object.assign({},K),ut=typeof window=="object",F=typeof importScripts=="function",Zn=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",kn="";if(Zn){if(kn=F?Zr.dirname(kn)+"/":__dirname+"/",typeof pn=="function")var Ei=Zr,qi=Zr;var io=function(j,$){return j=qi.normalize(j),Ei.readFileSync(j,$?void 0:"utf8")},Pi=function(j){return j=io(j,!0),j.buffer||(j=new Uint8Array(j)),j},mn=function(j,$,ae){j=qi.normalize(j),Ei.readFile(j,function(Ae,Ie){Ae?ae(Ae):$(Ie.buffer)})};1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),K.inspect=function(){return"[Emscripten Module object]"}}else(ut||F)&&(F?kn=self.location.href:typeof document<"u"&&document.currentScript&&(kn=document.currentScript.src),o&&(kn=o),kn=kn.indexOf("blob:")!==0?kn.substr(0,kn.replace(/[?#].*/,"").lastIndexOf("/")+1):"",io=function(j){var $=new XMLHttpRequest;return $.open("GET",j,!1),$.send(null),$.responseText},F&&(Pi=function(j){var $=new XMLHttpRequest;return $.open("GET",j,!1),$.responseType="arraybuffer",$.send(null),new Uint8Array($.response)}),mn=function(j,$,ae){var Ae=new XMLHttpRequest;Ae.open("GET",j,!0),Ae.responseType="arraybuffer",Ae.onload=function(){Ae.status==200||Ae.status==0&&Ae.response?$(Ae.response):ae()},Ae.onerror=ae,Ae.send(null)});K.print||console.log.bind(console);var Bi=K.printErr||console.warn.bind(console);Object.assign(K,Br),Br=null;var Un;K.wasmBinary&&(Un=K.wasmBinary),typeof WebAssembly!="object"&&_("no native wasm support detected");var gi,zi=!1,Oi,qn,On,ai,_n,Gn,Ln,Mi=[],Ni=[],Ci=[],si=!1,Jn=0,pi=null,Rn="draco_encoder.wasm";Rn.startsWith("data:application/octet-stream;base64,")||(Rn=u(Rn));var oo={c:function(j){return mr(j+24)+24},b:function(j,$,ae){throw new I(j).init($,ae),j},a:function(){_("")},e:function(j,$,ae){On.copyWithin(j,$,$+ae)},d:function(j){var $=On.length;if(j>>>=0,2147483648<j)return!1;for(var ae=1;4>=ae;ae*=2){var Ae=$*(1+.2/ae);Ae=Math.min(Ae,j+100663296);var Ie=Math;Ae=Math.max(j,Ae),Ie=Ie.min.call(Ie,2147483648,Ae+(65536-Ae%65536)%65536);e:{try{gi.grow(Ie-Oi.byteLength+65535>>>16),p(gi.buffer);var Le=1;break e}catch{}Le=void 0}if(Le)return!0}return!1}};(function(){function j(Ie,Le){K.asm=Ie.exports,gi=K.asm.f,p(gi.buffer),Ni.unshift(K.asm.g),Jn--,K.monitorRunDependencies&&K.monitorRunDependencies(Jn),Jn==0&&pi&&(Ie=pi,pi=null,Ie())}function $(Ie){j(Ie.instance)}function ae(Ie){return d().then(function(Le){return WebAssembly.instantiate(Le,Ae)}).then(function(Le){return Le}).then(Ie,function(Le){Bi("failed to asynchronously prepare wasm: "+Le),_(Le)})}var Ae={a:oo};if(Jn++,K.monitorRunDependencies&&K.monitorRunDependencies(Jn),K.instantiateWasm)try{return K.instantiateWasm(Ae,j)}catch(Ie){Bi("Module.instantiateWasm callback failed with error: "+Ie),Kr(Ie)}return function(){return Un||typeof WebAssembly.instantiateStreaming!="function"||Rn.startsWith("data:application/octet-stream;base64,")||Rn.startsWith("file://")||Zn||typeof fetch!="function"?ae($):fetch(Rn,{credentials:"same-origin"}).then(function(Ie){return WebAssembly.instantiateStreaming(Ie,Ae).then($,function(Le){return Bi("wasm streaming compile failed: "+Le),Bi("falling back to ArrayBuffer instantiation"),ae($)})})}().catch(Kr),{}})(),K.___wasm_call_ctors=function(){return(K.___wasm_call_ctors=K.asm.g).apply(null,arguments)};var Li=K._emscripten_bind_VoidPtr___destroy___0=function(){return(Li=K._emscripten_bind_VoidPtr___destroy___0=K.asm.i).apply(null,arguments)},Sn=K._emscripten_bind_GeometryAttribute_GeometryAttribute_0=function(){return(Sn=K._emscripten_bind_GeometryAttribute_GeometryAttribute_0=K.asm.j).apply(null,arguments)},Wn=K._emscripten_bind_GeometryAttribute___destroy___0=function(){return(Wn=K._emscripten_bind_GeometryAttribute___destroy___0=K.asm.k).apply(null,arguments)},ei=K._emscripten_bind_PointAttribute_PointAttribute_0=function(){return(ei=K._emscripten_bind_PointAttribute_PointAttribute_0=K.asm.l).apply(null,arguments)},ti=K._emscripten_bind_PointAttribute_size_0=function(){return(ti=K._emscripten_bind_PointAttribute_size_0=K.asm.m).apply(null,arguments)},wn=K._emscripten_bind_PointAttribute_attribute_type_0=function(){return(wn=K._emscripten_bind_PointAttribute_attribute_type_0=K.asm.n).apply(null,arguments)},Ii=K._emscripten_bind_PointAttribute_data_type_0=function(){return(Ii=K._emscripten_bind_PointAttribute_data_type_0=K.asm.o).apply(null,arguments)},di=K._emscripten_bind_PointAttribute_num_components_0=function(){return(di=K._emscripten_bind_PointAttribute_num_components_0=K.asm.p).apply(null,arguments)},Vn=K._emscripten_bind_PointAttribute_normalized_0=function(){return(Vn=K._emscripten_bind_PointAttribute_normalized_0=K.asm.q).apply(null,arguments)},xi=K._emscripten_bind_PointAttribute_byte_stride_0=function(){return(xi=K._emscripten_bind_PointAttribute_byte_stride_0=K.asm.r).apply(null,arguments)},ao=K._emscripten_bind_PointAttribute_byte_offset_0=function(){return(ao=K._emscripten_bind_PointAttribute_byte_offset_0=K.asm.s).apply(null,arguments)},Ui=K._emscripten_bind_PointAttribute_unique_id_0=function(){return(Ui=K._emscripten_bind_PointAttribute_unique_id_0=K.asm.t).apply(null,arguments)},Yi=K._emscripten_bind_PointAttribute___destroy___0=function(){return(Yi=K._emscripten_bind_PointAttribute___destroy___0=K.asm.u).apply(null,arguments)},Xi=K._emscripten_bind_PointCloud_PointCloud_0=function(){return(Xi=K._emscripten_bind_PointCloud_PointCloud_0=K.asm.v).apply(null,arguments)},Gi=K._emscripten_bind_PointCloud_num_attributes_0=function(){return(Gi=K._emscripten_bind_PointCloud_num_attributes_0=K.asm.w).apply(null,arguments)},_i=K._emscripten_bind_PointCloud_num_points_0=function(){return(_i=K._emscripten_bind_PointCloud_num_points_0=K.asm.x).apply(null,arguments)},Hi=K._emscripten_bind_PointCloud___destroy___0=function(){return(Hi=K._emscripten_bind_PointCloud___destroy___0=K.asm.y).apply(null,arguments)},so=K._emscripten_bind_Mesh_Mesh_0=function(){return(so=K._emscripten_bind_Mesh_Mesh_0=K.asm.z).apply(null,arguments)},Ai=K._emscripten_bind_Mesh_num_faces_0=function(){return(Ai=K._emscripten_bind_Mesh_num_faces_0=K.asm.A).apply(null,arguments)},Ti=K._emscripten_bind_Mesh_num_attributes_0=function(){return(Ti=K._emscripten_bind_Mesh_num_attributes_0=K.asm.B).apply(null,arguments)},Et=K._emscripten_bind_Mesh_num_points_0=function(){return(Et=K._emscripten_bind_Mesh_num_points_0=K.asm.C).apply(null,arguments)},ji=K._emscripten_bind_Mesh_set_num_points_1=function(){return(ji=K._emscripten_bind_Mesh_set_num_points_1=K.asm.D).apply(null,arguments)},ri=K._emscripten_bind_Mesh___destroy___0=function(){return(ri=K._emscripten_bind_Mesh___destroy___0=K.asm.E).apply(null,arguments)},$i=K._emscripten_bind_Metadata_Metadata_0=function(){return($i=K._emscripten_bind_Metadata_Metadata_0=K.asm.F).apply(null,arguments)},ki=K._emscripten_bind_Metadata___destroy___0=function(){return(ki=K._emscripten_bind_Metadata___destroy___0=K.asm.G).apply(null,arguments)},mi=K._emscripten_bind_DracoInt8Array_DracoInt8Array_0=function(){return(mi=K._emscripten_bind_DracoInt8Array_DracoInt8Array_0=K.asm.H).apply(null,arguments)},Hn=K._emscripten_bind_DracoInt8Array_GetValue_1=function(){return(Hn=K._emscripten_bind_DracoInt8Array_GetValue_1=K.asm.I).apply(null,arguments)},Qi=K._emscripten_bind_DracoInt8Array_size_0=function(){return(Qi=K._emscripten_bind_DracoInt8Array_size_0=K.asm.J).apply(null,arguments)},Wi=K._emscripten_bind_DracoInt8Array___destroy___0=function(){return(Wi=K._emscripten_bind_DracoInt8Array___destroy___0=K.asm.K).apply(null,arguments)},zn=K._emscripten_bind_MetadataBuilder_MetadataBuilder_0=function(){return(zn=K._emscripten_bind_MetadataBuilder_MetadataBuilder_0=K.asm.L).apply(null,arguments)},Zi=K._emscripten_bind_MetadataBuilder_AddStringEntry_3=function(){return(Zi=K._emscripten_bind_MetadataBuilder_AddStringEntry_3=K.asm.M).apply(null,arguments)},eo=K._emscripten_bind_MetadataBuilder_AddIntEntry_3=function(){return(eo=K._emscripten_bind_MetadataBuilder_AddIntEntry_3=K.asm.N).apply(null,arguments)},to=K._emscripten_bind_MetadataBuilder_AddIntEntryArray_4=function(){return(to=K._emscripten_bind_MetadataBuilder_AddIntEntryArray_4=K.asm.O).apply(null,arguments)},wi=K._emscripten_bind_MetadataBuilder_AddDoubleEntry_3=function(){return(wi=K._emscripten_bind_MetadataBuilder_AddDoubleEntry_3=K.asm.P).apply(null,arguments)},yi=K._emscripten_bind_MetadataBuilder___destroy___0=function(){return(yi=K._emscripten_bind_MetadataBuilder___destroy___0=K.asm.Q).apply(null,arguments)},ui=K._emscripten_bind_PointCloudBuilder_PointCloudBuilder_0=function(){return(ui=K._emscripten_bind_PointCloudBuilder_PointCloudBuilder_0=K.asm.R).apply(null,arguments)},vi=K._emscripten_bind_PointCloudBuilder_AddFloatAttribute_5=function(){return(vi=K._emscripten_bind_PointCloudBuilder_AddFloatAttribute_5=K.asm.S).apply(null,arguments)},ci=K._emscripten_bind_PointCloudBuilder_AddInt8Attribute_5=function(){return(ci=K._emscripten_bind_PointCloudBuilder_AddInt8Attribute_5=K.asm.T).apply(null,arguments)},hi=K._emscripten_bind_PointCloudBuilder_AddUInt8Attribute_5=function(){return(hi=K._emscripten_bind_PointCloudBuilder_AddUInt8Attribute_5=K.asm.U).apply(null,arguments)},we=K._emscripten_bind_PointCloudBuilder_AddInt16Attribute_5=function(){return(we=K._emscripten_bind_PointCloudBuilder_AddInt16Attribute_5=K.asm.V).apply(null,arguments)},r=K._emscripten_bind_PointCloudBuilder_AddUInt16Attribute_5=function(){return(r=K._emscripten_bind_PointCloudBuilder_AddUInt16Attribute_5=K.asm.W).apply(null,arguments)},Fe=K._emscripten_bind_PointCloudBuilder_AddInt32Attribute_5=function(){return(Fe=K._emscripten_bind_PointCloudBuilder_AddInt32Attribute_5=K.asm.X).apply(null,arguments)},Ne=K._emscripten_bind_PointCloudBuilder_AddUInt32Attribute_5=function(){return(Ne=K._emscripten_bind_PointCloudBuilder_AddUInt32Attribute_5=K.asm.Y).apply(null,arguments)},Oe=K._emscripten_bind_PointCloudBuilder_AddMetadata_2=function(){return(Oe=K._emscripten_bind_PointCloudBuilder_AddMetadata_2=K.asm.Z).apply(null,arguments)},Ce=K._emscripten_bind_PointCloudBuilder_SetMetadataForAttribute_3=function(){return(Ce=K._emscripten_bind_PointCloudBuilder_SetMetadataForAttribute_3=K.asm._).apply(null,arguments)},Ct=K._emscripten_bind_PointCloudBuilder___destroy___0=function(){return(Ct=K._emscripten_bind_PointCloudBuilder___destroy___0=K.asm.$).apply(null,arguments)},at=K._emscripten_bind_MeshBuilder_MeshBuilder_0=function(){return(at=K._emscripten_bind_MeshBuilder_MeshBuilder_0=K.asm.aa).apply(null,arguments)},At=K._emscripten_bind_MeshBuilder_AddFacesToMesh_3=function(){return(At=K._emscripten_bind_MeshBuilder_AddFacesToMesh_3=K.asm.ba).apply(null,arguments)},It=K._emscripten_bind_MeshBuilder_AddFloatAttributeToMesh_5=function(){return(It=K._emscripten_bind_MeshBuilder_AddFloatAttributeToMesh_5=K.asm.ca).apply(null,arguments)},Lt=K._emscripten_bind_MeshBuilder_AddInt32AttributeToMesh_5=function(){return(Lt=K._emscripten_bind_MeshBuilder_AddInt32AttributeToMesh_5=K.asm.da).apply(null,arguments)},Kt=K._emscripten_bind_MeshBuilder_AddMetadataToMesh_2=function(){return(Kt=K._emscripten_bind_MeshBuilder_AddMetadataToMesh_2=K.asm.ea).apply(null,arguments)},Ht=K._emscripten_bind_MeshBuilder_AddFloatAttribute_5=function(){return(Ht=K._emscripten_bind_MeshBuilder_AddFloatAttribute_5=K.asm.fa).apply(null,arguments)},Ot=K._emscripten_bind_MeshBuilder_AddInt8Attribute_5=function(){return(Ot=K._emscripten_bind_MeshBuilder_AddInt8Attribute_5=K.asm.ga).apply(null,arguments)},ft=K._emscripten_bind_MeshBuilder_AddUInt8Attribute_5=function(){return(ft=K._emscripten_bind_MeshBuilder_AddUInt8Attribute_5=K.asm.ha).apply(null,arguments)},ct=K._emscripten_bind_MeshBuilder_AddInt16Attribute_5=function(){return(ct=K._emscripten_bind_MeshBuilder_AddInt16Attribute_5=K.asm.ia).apply(null,arguments)},yt=K._emscripten_bind_MeshBuilder_AddUInt16Attribute_5=function(){return(yt=K._emscripten_bind_MeshBuilder_AddUInt16Attribute_5=K.asm.ja).apply(null,arguments)},Ar=K._emscripten_bind_MeshBuilder_AddInt32Attribute_5=function(){return(Ar=K._emscripten_bind_MeshBuilder_AddInt32Attribute_5=K.asm.ka).apply(null,arguments)},Mr=K._emscripten_bind_MeshBuilder_AddUInt32Attribute_5=function(){return(Mr=K._emscripten_bind_MeshBuilder_AddUInt32Attribute_5=K.asm.la).apply(null,arguments)},Nt=K._emscripten_bind_MeshBuilder_AddMetadata_2=function(){return(Nt=K._emscripten_bind_MeshBuilder_AddMetadata_2=K.asm.ma).apply(null,arguments)},Jr=K._emscripten_bind_MeshBuilder_SetMetadataForAttribute_3=function(){return(Jr=K._emscripten_bind_MeshBuilder_SetMetadataForAttribute_3=K.asm.na).apply(null,arguments)},Fr=K._emscripten_bind_MeshBuilder___destroy___0=function(){return(Fr=K._emscripten_bind_MeshBuilder___destroy___0=K.asm.oa).apply(null,arguments)},jr=K._emscripten_bind_Encoder_Encoder_0=function(){return(jr=K._emscripten_bind_Encoder_Encoder_0=K.asm.pa).apply(null,arguments)},tn=K._emscripten_bind_Encoder_SetEncodingMethod_1=function(){return(tn=K._emscripten_bind_Encoder_SetEncodingMethod_1=K.asm.qa).apply(null,arguments)},$r=K._emscripten_bind_Encoder_SetAttributeQuantization_2=function(){return($r=K._emscripten_bind_Encoder_SetAttributeQuantization_2=K.asm.ra).apply(null,arguments)},vn=K._emscripten_bind_Encoder_SetAttributeExplicitQuantization_5=function(){return(vn=K._emscripten_bind_Encoder_SetAttributeExplicitQuantization_5=K.asm.sa).apply(null,arguments)},hn=K._emscripten_bind_Encoder_SetSpeedOptions_2=function(){return(hn=K._emscripten_bind_Encoder_SetSpeedOptions_2=K.asm.ta).apply(null,arguments)},bn=K._emscripten_bind_Encoder_SetTrackEncodedProperties_1=function(){return(bn=K._emscripten_bind_Encoder_SetTrackEncodedProperties_1=K.asm.ua).apply(null,arguments)},En=K._emscripten_bind_Encoder_EncodeMeshToDracoBuffer_2=function(){return(En=K._emscripten_bind_Encoder_EncodeMeshToDracoBuffer_2=K.asm.va).apply(null,arguments)},Bn=K._emscripten_bind_Encoder_EncodePointCloudToDracoBuffer_3=function(){return(Bn=K._emscripten_bind_Encoder_EncodePointCloudToDracoBuffer_3=K.asm.wa).apply(null,arguments)},an=K._emscripten_bind_Encoder_GetNumberOfEncodedPoints_0=function(){return(an=K._emscripten_bind_Encoder_GetNumberOfEncodedPoints_0=K.asm.xa).apply(null,arguments)},sn=K._emscripten_bind_Encoder_GetNumberOfEncodedFaces_0=function(){return(sn=K._emscripten_bind_Encoder_GetNumberOfEncodedFaces_0=K.asm.ya).apply(null,arguments)},un=K._emscripten_bind_Encoder___destroy___0=function(){return(un=K._emscripten_bind_Encoder___destroy___0=K.asm.za).apply(null,arguments)},Ft=K._emscripten_bind_ExpertEncoder_ExpertEncoder_1=function(){return(Ft=K._emscripten_bind_ExpertEncoder_ExpertEncoder_1=K.asm.Aa).apply(null,arguments)},Jt=K._emscripten_bind_ExpertEncoder_SetEncodingMethod_1=function(){return(Jt=K._emscripten_bind_ExpertEncoder_SetEncodingMethod_1=K.asm.Ba).apply(null,arguments)},qe=K._emscripten_bind_ExpertEncoder_SetAttributeQuantization_2=function(){return(qe=K._emscripten_bind_ExpertEncoder_SetAttributeQuantization_2=K.asm.Ca).apply(null,arguments)},Tt=K._emscripten_bind_ExpertEncoder_SetAttributeExplicitQuantization_5=function(){return(Tt=K._emscripten_bind_ExpertEncoder_SetAttributeExplicitQuantization_5=K.asm.Da).apply(null,arguments)},dt=K._emscripten_bind_ExpertEncoder_SetSpeedOptions_2=function(){return(dt=K._emscripten_bind_ExpertEncoder_SetSpeedOptions_2=K.asm.Ea).apply(null,arguments)},Be=K._emscripten_bind_ExpertEncoder_SetTrackEncodedProperties_1=function(){return(Be=K._emscripten_bind_ExpertEncoder_SetTrackEncodedProperties_1=K.asm.Fa).apply(null,arguments)},We=K._emscripten_bind_ExpertEncoder_EncodeToDracoBuffer_2=function(){return(We=K._emscripten_bind_ExpertEncoder_EncodeToDracoBuffer_2=K.asm.Ga).apply(null,arguments)},sr=K._emscripten_bind_ExpertEncoder_GetNumberOfEncodedPoints_0=function(){return(sr=K._emscripten_bind_ExpertEncoder_GetNumberOfEncodedPoints_0=K.asm.Ha).apply(null,arguments)},Je=K._emscripten_bind_ExpertEncoder_GetNumberOfEncodedFaces_0=function(){return(Je=K._emscripten_bind_ExpertEncoder_GetNumberOfEncodedFaces_0=K.asm.Ia).apply(null,arguments)},tt=K._emscripten_bind_ExpertEncoder___destroy___0=function(){return(tt=K._emscripten_bind_ExpertEncoder___destroy___0=K.asm.Ja).apply(null,arguments)},Bt=K._emscripten_enum_draco_GeometryAttribute_Type_INVALID=function(){return(Bt=K._emscripten_enum_draco_GeometryAttribute_Type_INVALID=K.asm.Ka).apply(null,arguments)},kr=K._emscripten_enum_draco_GeometryAttribute_Type_POSITION=function(){return(kr=K._emscripten_enum_draco_GeometryAttribute_Type_POSITION=K.asm.La).apply(null,arguments)},Wr=K._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=function(){return(Wr=K._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=K.asm.Ma).apply(null,arguments)},qt=K._emscripten_enum_draco_GeometryAttribute_Type_COLOR=function(){return(qt=K._emscripten_enum_draco_GeometryAttribute_Type_COLOR=K.asm.Na).apply(null,arguments)},Nr=K._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=function(){return(Nr=K._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=K.asm.Oa).apply(null,arguments)},rn=K._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=function(){return(rn=K._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=K.asm.Pa).apply(null,arguments)},cn=K._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=function(){return(cn=K._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=K.asm.Qa).apply(null,arguments)},gn=K._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=function(){return(gn=K._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=K.asm.Ra).apply(null,arguments)},Lr=K._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=function(){return(Lr=K._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=K.asm.Sa).apply(null,arguments)},qr=K._emscripten_enum_draco_MeshEncoderMethod_MESH_SEQUENTIAL_ENCODING=function(){return(qr=K._emscripten_enum_draco_MeshEncoderMethod_MESH_SEQUENTIAL_ENCODING=K.asm.Ta).apply(null,arguments)},kt=K._emscripten_enum_draco_MeshEncoderMethod_MESH_EDGEBREAKER_ENCODING=function(){return(kt=K._emscripten_enum_draco_MeshEncoderMethod_MESH_EDGEBREAKER_ENCODING=K.asm.Ua).apply(null,arguments)},mr=K._malloc=function(){return(mr=K._malloc=K.asm.Va).apply(null,arguments)};K._free=function(){return(K._free=K.asm.Wa).apply(null,arguments)};var zr=K.___cxa_is_pointer_type=function(){return(zr=K.___cxa_is_pointer_type=K.asm.Xa).apply(null,arguments)};K.___start_em_js=19116,K.___stop_em_js=19214;var cr;if(pi=function j(){cr||L(),cr||(pi=j)},K.preInit)for(typeof K.preInit=="function"&&(K.preInit=[K.preInit]);0<K.preInit.length;)K.preInit.pop()();L(),W.prototype=Object.create(W.prototype),W.prototype.constructor=W,W.prototype.__class__=W,W.__cache__={},K.WrapperObject=W,K.getCache=le,K.wrapPointer=ne,K.castObject=function(j,$){return ne(j.ptr,$)},K.NULL=ne(0),K.destroy=function(j){if(!j.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";j.__destroy__(),delete le(j.__class__)[j.ptr]},K.compare=function(j,$){return j.ptr===$.ptr},K.getPointer=function(j){return j.ptr},K.getClass=function(j){return j.__class__};var Se={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(Se.needed){for(var j=0;j<Se.temps.length;j++)K._free(Se.temps[j]);Se.temps.length=0,K._free(Se.buffer),Se.buffer=0,Se.size+=Se.needed,Se.needed=0}Se.buffer||(Se.size+=128,Se.buffer=K._malloc(Se.size),Se.buffer||_(void 0)),Se.pos=0},alloc:function(j,$){return Se.buffer||_(void 0),j=j.length*$.BYTES_PER_ELEMENT,j=j+7&-8,Se.pos+j>=Se.size?(0<j||_(void 0),Se.needed+=j,$=K._malloc(j),Se.temps.push($)):($=Se.buffer+Se.pos,Se.pos+=j),$},copy:function(j,$,ae){switch(ae>>>=0,$.BYTES_PER_ELEMENT){case 2:ae>>>=1;break;case 4:ae>>>=2;break;case 8:ae>>>=3}for(var Ae=0;Ae<j.length;Ae++)$[ae+Ae]=j[Ae]}};return ye.prototype=Object.create(W.prototype),ye.prototype.constructor=ye,ye.prototype.__class__=ye,ye.__cache__={},K.VoidPtr=ye,ye.prototype.__destroy__=ye.prototype.__destroy__=function(){Li(this.ptr)},Ue.prototype=Object.create(W.prototype),Ue.prototype.constructor=Ue,Ue.prototype.__class__=Ue,Ue.__cache__={},K.GeometryAttribute=Ue,Ue.prototype.__destroy__=Ue.prototype.__destroy__=function(){Wn(this.ptr)},Ge.prototype=Object.create(W.prototype),Ge.prototype.constructor=Ge,Ge.prototype.__class__=Ge,Ge.__cache__={},K.PointAttribute=Ge,Ge.prototype.size=Ge.prototype.size=function(){return ti(this.ptr)},Ge.prototype.attribute_type=Ge.prototype.attribute_type=function(){return wn(this.ptr)},Ge.prototype.data_type=Ge.prototype.data_type=function(){return Ii(this.ptr)},Ge.prototype.num_components=Ge.prototype.num_components=function(){return di(this.ptr)},Ge.prototype.normalized=Ge.prototype.normalized=function(){return!!Vn(this.ptr)},Ge.prototype.byte_stride=Ge.prototype.byte_stride=function(){return xi(this.ptr)},Ge.prototype.byte_offset=Ge.prototype.byte_offset=function(){return ao(this.ptr)},Ge.prototype.unique_id=Ge.prototype.unique_id=function(){return Ui(this.ptr)},Ge.prototype.__destroy__=Ge.prototype.__destroy__=function(){Yi(this.ptr)},Ve.prototype=Object.create(W.prototype),Ve.prototype.constructor=Ve,Ve.prototype.__class__=Ve,Ve.__cache__={},K.PointCloud=Ve,Ve.prototype.num_attributes=Ve.prototype.num_attributes=function(){return Gi(this.ptr)},Ve.prototype.num_points=Ve.prototype.num_points=function(){return _i(this.ptr)},Ve.prototype.__destroy__=Ve.prototype.__destroy__=function(){Hi(this.ptr)},ke.prototype=Object.create(W.prototype),ke.prototype.constructor=ke,ke.prototype.__class__=ke,ke.__cache__={},K.Mesh=ke,ke.prototype.num_faces=ke.prototype.num_faces=function(){return Ai(this.ptr)},ke.prototype.num_attributes=ke.prototype.num_attributes=function(){return Ti(this.ptr)},ke.prototype.num_points=ke.prototype.num_points=function(){return Et(this.ptr)},ke.prototype.set_num_points=ke.prototype.set_num_points=function(j){var $=this.ptr;j&&typeof j=="object"&&(j=j.ptr),ji($,j)},ke.prototype.__destroy__=ke.prototype.__destroy__=function(){ri(this.ptr)},bt.prototype=Object.create(W.prototype),bt.prototype.constructor=bt,bt.prototype.__class__=bt,bt.__cache__={},K.Metadata=bt,bt.prototype.__destroy__=bt.prototype.__destroy__=function(){ki(this.ptr)},et.prototype=Object.create(W.prototype),et.prototype.constructor=et,et.prototype.__class__=et,et.__cache__={},K.DracoInt8Array=et,et.prototype.GetValue=et.prototype.GetValue=function(j){var $=this.ptr;return j&&typeof j=="object"&&(j=j.ptr),Hn($,j)},et.prototype.size=et.prototype.size=function(){return Qi(this.ptr)},et.prototype.__destroy__=et.prototype.__destroy__=function(){Wi(this.ptr)},Pt.prototype=Object.create(W.prototype),Pt.prototype.constructor=Pt,Pt.prototype.__class__=Pt,Pt.__cache__={},K.MetadataBuilder=Pt,Pt.prototype.AddStringEntry=Pt.prototype.AddStringEntry=function(j,$,ae){var Ae=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$=$&&typeof $=="object"?$.ptr:q($),ae=ae&&typeof ae=="object"?ae.ptr:q(ae),!!Zi(Ae,j,$,ae)},Pt.prototype.AddIntEntry=Pt.prototype.AddIntEntry=function(j,$,ae){var Ae=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$=$&&typeof $=="object"?$.ptr:q($),ae&&typeof ae=="object"&&(ae=ae.ptr),!!eo(Ae,j,$,ae)},Pt.prototype.AddIntEntryArray=Pt.prototype.AddIntEntryArray=function(j,$,ae,Ae){var Ie=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$=$&&typeof $=="object"?$.ptr:q($),typeof ae=="object"&&(ae=ce(ae)),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),!!to(Ie,j,$,ae,Ae)},Pt.prototype.AddDoubleEntry=Pt.prototype.AddDoubleEntry=function(j,$,ae){var Ae=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$=$&&typeof $=="object"?$.ptr:q($),ae&&typeof ae=="object"&&(ae=ae.ptr),!!wi(Ae,j,$,ae)},Pt.prototype.__destroy__=Pt.prototype.__destroy__=function(){yi(this.ptr)},st.prototype=Object.create(W.prototype),st.prototype.constructor=st,st.prototype.__class__=st,st.__cache__={},K.PointCloudBuilder=st,st.prototype.AddFloatAttribute=st.prototype.AddFloatAttribute=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=_e(Ie)),vi(Le,j,$,ae,Ae,Ie)},st.prototype.AddInt8Attribute=st.prototype.AddInt8Attribute=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=X(Ie)),ci(Le,j,$,ae,Ae,Ie)},st.prototype.AddUInt8Attribute=st.prototype.AddUInt8Attribute=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=X(Ie)),hi(Le,j,$,ae,Ae,Ie)},st.prototype.AddInt16Attribute=st.prototype.AddInt16Attribute=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=re(Ie)),we(Le,j,$,ae,Ae,Ie)},st.prototype.AddUInt16Attribute=st.prototype.AddUInt16Attribute=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=re(Ie)),r(Le,j,$,ae,Ae,Ie)},st.prototype.AddInt32Attribute=st.prototype.AddInt32Attribute=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=ce(Ie)),Fe(Le,j,$,ae,Ae,Ie)},st.prototype.AddUInt32Attribute=st.prototype.AddUInt32Attribute=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=ce(Ie)),Ne(Le,j,$,ae,Ae,Ie)},st.prototype.AddMetadata=st.prototype.AddMetadata=function(j,$){var ae=this.ptr;return j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),!!Oe(ae,j,$)},st.prototype.SetMetadataForAttribute=st.prototype.SetMetadataForAttribute=function(j,$,ae){var Ae=this.ptr;return j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),!!Ce(Ae,j,$,ae)},st.prototype.__destroy__=st.prototype.__destroy__=function(){Ct(this.ptr)},Ze.prototype=Object.create(W.prototype),Ze.prototype.constructor=Ze,Ze.prototype.__class__=Ze,Ze.__cache__={},K.MeshBuilder=Ze,Ze.prototype.AddFacesToMesh=Ze.prototype.AddFacesToMesh=function(j,$,ae){var Ae=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),typeof ae=="object"&&(ae=ce(ae)),!!At(Ae,j,$,ae)},Ze.prototype.AddFloatAttributeToMesh=Ze.prototype.AddFloatAttributeToMesh=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=_e(Ie)),It(Le,j,$,ae,Ae,Ie)},Ze.prototype.AddInt32AttributeToMesh=Ze.prototype.AddInt32AttributeToMesh=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=ce(Ie)),Lt(Le,j,$,ae,Ae,Ie)},Ze.prototype.AddMetadataToMesh=Ze.prototype.AddMetadataToMesh=function(j,$){var ae=this.ptr;return j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),!!Kt(ae,j,$)},Ze.prototype.AddFloatAttribute=Ze.prototype.AddFloatAttribute=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=_e(Ie)),Ht(Le,j,$,ae,Ae,Ie)},Ze.prototype.AddInt8Attribute=Ze.prototype.AddInt8Attribute=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=X(Ie)),Ot(Le,j,$,ae,Ae,Ie)},Ze.prototype.AddUInt8Attribute=Ze.prototype.AddUInt8Attribute=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=X(Ie)),ft(Le,j,$,ae,Ae,Ie)},Ze.prototype.AddInt16Attribute=Ze.prototype.AddInt16Attribute=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=re(Ie)),ct(Le,j,$,ae,Ae,Ie)},Ze.prototype.AddUInt16Attribute=Ze.prototype.AddUInt16Attribute=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=re(Ie)),yt(Le,j,$,ae,Ae,Ie)},Ze.prototype.AddInt32Attribute=Ze.prototype.AddInt32Attribute=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=ce(Ie)),Ar(Le,j,$,ae,Ae,Ie)},Ze.prototype.AddUInt32Attribute=Ze.prototype.AddUInt32Attribute=function(j,$,ae,Ae,Ie){var Le=this.ptr;return Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Ae&&typeof Ae=="object"&&(Ae=Ae.ptr),typeof Ie=="object"&&(Ie=ce(Ie)),Mr(Le,j,$,ae,Ae,Ie)},Ze.prototype.AddMetadata=Ze.prototype.AddMetadata=function(j,$){var ae=this.ptr;return j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),!!Nt(ae,j,$)},Ze.prototype.SetMetadataForAttribute=Ze.prototype.SetMetadataForAttribute=function(j,$,ae){var Ae=this.ptr;return j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),!!Jr(Ae,j,$,ae)},Ze.prototype.__destroy__=Ze.prototype.__destroy__=function(){Fr(this.ptr)},ot.prototype=Object.create(W.prototype),ot.prototype.constructor=ot,ot.prototype.__class__=ot,ot.__cache__={},K.Encoder=ot,ot.prototype.SetEncodingMethod=ot.prototype.SetEncodingMethod=function(j){var $=this.ptr;j&&typeof j=="object"&&(j=j.ptr),tn($,j)},ot.prototype.SetAttributeQuantization=ot.prototype.SetAttributeQuantization=function(j,$){var ae=this.ptr;j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),$r(ae,j,$)},ot.prototype.SetAttributeExplicitQuantization=ot.prototype.SetAttributeExplicitQuantization=function(j,$,ae,Ae,Ie){var Le=this.ptr;Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),typeof Ae=="object"&&(Ae=_e(Ae)),Ie&&typeof Ie=="object"&&(Ie=Ie.ptr),vn(Le,j,$,ae,Ae,Ie)},ot.prototype.SetSpeedOptions=ot.prototype.SetSpeedOptions=function(j,$){var ae=this.ptr;j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),hn(ae,j,$)},ot.prototype.SetTrackEncodedProperties=ot.prototype.SetTrackEncodedProperties=function(j){var $=this.ptr;j&&typeof j=="object"&&(j=j.ptr),bn($,j)},ot.prototype.EncodeMeshToDracoBuffer=ot.prototype.EncodeMeshToDracoBuffer=function(j,$){var ae=this.ptr;return j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),En(ae,j,$)},ot.prototype.EncodePointCloudToDracoBuffer=ot.prototype.EncodePointCloudToDracoBuffer=function(j,$,ae){var Ae=this.ptr;return j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),Bn(Ae,j,$,ae)},ot.prototype.GetNumberOfEncodedPoints=ot.prototype.GetNumberOfEncodedPoints=function(){return an(this.ptr)},ot.prototype.GetNumberOfEncodedFaces=ot.prototype.GetNumberOfEncodedFaces=function(){return sn(this.ptr)},ot.prototype.__destroy__=ot.prototype.__destroy__=function(){un(this.ptr)},jt.prototype=Object.create(W.prototype),jt.prototype.constructor=jt,jt.prototype.__class__=jt,jt.__cache__={},K.ExpertEncoder=jt,jt.prototype.SetEncodingMethod=jt.prototype.SetEncodingMethod=function(j){var $=this.ptr;j&&typeof j=="object"&&(j=j.ptr),Jt($,j)},jt.prototype.SetAttributeQuantization=jt.prototype.SetAttributeQuantization=function(j,$){var ae=this.ptr;j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),qe(ae,j,$)},jt.prototype.SetAttributeExplicitQuantization=jt.prototype.SetAttributeExplicitQuantization=function(j,$,ae,Ae,Ie){var Le=this.ptr;Se.prepare(),j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),ae&&typeof ae=="object"&&(ae=ae.ptr),typeof Ae=="object"&&(Ae=_e(Ae)),Ie&&typeof Ie=="object"&&(Ie=Ie.ptr),Tt(Le,j,$,ae,Ae,Ie)},jt.prototype.SetSpeedOptions=jt.prototype.SetSpeedOptions=function(j,$){var ae=this.ptr;j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),dt(ae,j,$)},jt.prototype.SetTrackEncodedProperties=jt.prototype.SetTrackEncodedProperties=function(j){var $=this.ptr;j&&typeof j=="object"&&(j=j.ptr),Be($,j)},jt.prototype.EncodeToDracoBuffer=jt.prototype.EncodeToDracoBuffer=function(j,$){var ae=this.ptr;return j&&typeof j=="object"&&(j=j.ptr),$&&typeof $=="object"&&($=$.ptr),We(ae,j,$)},jt.prototype.GetNumberOfEncodedPoints=jt.prototype.GetNumberOfEncodedPoints=function(){return sr(this.ptr)},jt.prototype.GetNumberOfEncodedFaces=jt.prototype.GetNumberOfEncodedFaces=function(){return Je(this.ptr)},jt.prototype.__destroy__=jt.prototype.__destroy__=function(){tt(this.ptr)},function(){function j(){K.INVALID=Bt(),K.POSITION=kr(),K.NORMAL=Wr(),K.COLOR=qt(),K.TEX_COORD=Nr(),K.GENERIC=rn(),K.INVALID_GEOMETRY_TYPE=cn(),K.POINT_CLOUD=gn(),K.TRIANGULAR_MESH=Lr(),K.MESH_SEQUENTIAL_ENCODING=qr(),K.MESH_EDGEBREAKER_ENCODING=kt()}si?j():Ni.unshift(j)}(),typeof K.onModuleParsed=="function"&&K.onModuleParsed(),i.ready}}();n.exports=s})(tp);var Os={},ip={get exports(){return Os},set exports(n){Os=n}};(function(n,e){var t=t||{};t.scope={},t.arrayIteratorImpl=function(o){var i=0;return function(){return i<o.length?{done:!1,value:o[i++]}:{done:!0}}},t.arrayIterator=function(o){return{next:t.arrayIteratorImpl(o)}},t.makeIterator=function(o){var i=typeof Symbol<"u"&&Symbol.iterator&&o[Symbol.iterator];return i?i.call(o):t.arrayIterator(o)},t.ASSUME_ES5=!1,t.ASSUME_NO_NATIVE_MAP=!1,t.ASSUME_NO_NATIVE_SET=!1,t.SIMPLE_FROUND_POLYFILL=!1,t.ISOLATE_POLYFILLS=!1,t.FORCE_POLYFILL_PROMISE=!1,t.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,t.getGlobal=function(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof ln=="object"&&ln];for(var i=0;i<o.length;++i){var u=o[i];if(u&&u.Math==Math)return u}throw Error("Cannot find global object")},t.global=t.getGlobal(ln),t.defineProperty=t.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(o,i,u){return o==Array.prototype||o==Object.prototype||(o[i]=u.value),o},t.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",t.TRUST_ES6_POLYFILLS=!t.ISOLATE_POLYFILLS||t.IS_SYMBOL_NATIVE,t.polyfills={},t.propertyToPolyfillSymbol={},t.POLYFILL_PREFIX="$jscp$",t.polyfill=function(o,i,u,p){i&&(t.ISOLATE_POLYFILLS?t.polyfillIsolated(o,i,u,p):t.polyfillUnisolated(o,i,u,p))},t.polyfillUnisolated=function(o,i,u,p){for(u=t.global,o=o.split("."),p=0;p<o.length-1;p++){var _=o[p];if(!(_ in u))return;u=u[_]}o=o[o.length-1],p=u[o],i=i(p),i!=p&&i!=null&&t.defineProperty(u,o,{configurable:!0,writable:!0,value:i})},t.polyfillIsolated=function(o,i,u,p){var _=o.split(".");o=_.length===1,p=_[0],p=!o&&p in t.polyfills?t.polyfills:t.global;for(var B=0;B<_.length-1;B++){var d=_[B];if(!(d in p))return;p=p[d]}_=_[_.length-1],u=t.IS_SYMBOL_NATIVE&&u==="es6"?p[_]:null,i=i(u),i!=null&&(o?t.defineProperty(t.polyfills,_,{configurable:!0,writable:!0,value:i}):i!==u&&(t.propertyToPolyfillSymbol[_]===void 0&&(u=1e9*Math.random()>>>0,t.propertyToPolyfillSymbol[_]=t.IS_SYMBOL_NATIVE?t.global.Symbol(_):t.POLYFILL_PREFIX+u+"$"+_),t.defineProperty(p,t.propertyToPolyfillSymbol[_],{configurable:!0,writable:!0,value:i})))},t.polyfill("Promise",function(o){function i(){this.batch_=null}function u(d){return d instanceof _?d:new _(function(V,I){V(d)})}if(o&&(!(t.FORCE_POLYFILL_PROMISE||t.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION&&typeof t.global.PromiseRejectionEvent>"u")||!t.global.Promise||t.global.Promise.toString().indexOf("[native code]")===-1))return o;i.prototype.asyncExecute=function(d){if(this.batch_==null){this.batch_=[];var V=this;this.asyncExecuteFunction(function(){V.executeBatch_()})}this.batch_.push(d)};var p=t.global.setTimeout;i.prototype.asyncExecuteFunction=function(d){p(d,0)},i.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var d=this.batch_;this.batch_=[];for(var V=0;V<d.length;++V){var I=d[V];d[V]=null;try{I()}catch(L){this.asyncThrow_(L)}}}this.batch_=null},i.prototype.asyncThrow_=function(d){this.asyncExecuteFunction(function(){throw d})};var _=function(d){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[],this.isRejectionHandled_=!1;var V=this.createResolveAndReject_();try{d(V.resolve,V.reject)}catch(I){V.reject(I)}};_.prototype.createResolveAndReject_=function(){function d(L){return function(W){I||(I=!0,L.call(V,W))}}var V=this,I=!1;return{resolve:d(this.resolveTo_),reject:d(this.reject_)}},_.prototype.resolveTo_=function(d){if(d===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(d instanceof _)this.settleSameAsPromise_(d);else{e:switch(typeof d){case"object":var V=d!=null;break e;case"function":V=!0;break e;default:V=!1}V?this.resolveToNonPromiseObj_(d):this.fulfill_(d)}},_.prototype.resolveToNonPromiseObj_=function(d){var V=void 0;try{V=d.then}catch(I){this.reject_(I);return}typeof V=="function"?this.settleSameAsThenable_(V,d):this.fulfill_(d)},_.prototype.reject_=function(d){this.settle_(2,d)},_.prototype.fulfill_=function(d){this.settle_(1,d)},_.prototype.settle_=function(d,V){if(this.state_!=0)throw Error("Cannot settle("+d+", "+V+"): Promise already settled in state"+this.state_);this.state_=d,this.result_=V,this.state_===2&&this.scheduleUnhandledRejectionCheck_(),this.executeOnSettledCallbacks_()},_.prototype.scheduleUnhandledRejectionCheck_=function(){var d=this;p(function(){if(d.notifyUnhandledRejection_()){var V=t.global.console;typeof V<"u"&&V.error(d.result_)}},1)},_.prototype.notifyUnhandledRejection_=function(){if(this.isRejectionHandled_)return!1;var d=t.global.CustomEvent,V=t.global.Event,I=t.global.dispatchEvent;return typeof I>"u"?!0:(typeof d=="function"?d=new d("unhandledrejection",{cancelable:!0}):typeof V=="function"?d=new V("unhandledrejection",{cancelable:!0}):(d=t.global.document.createEvent("CustomEvent"),d.initCustomEvent("unhandledrejection",!1,!0,d)),d.promise=this,d.reason=this.result_,I(d))},_.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){for(var d=0;d<this.onSettledCallbacks_.length;++d)B.asyncExecute(this.onSettledCallbacks_[d]);this.onSettledCallbacks_=null}};var B=new i;return _.prototype.settleSameAsPromise_=function(d){var V=this.createResolveAndReject_();d.callWhenSettled_(V.resolve,V.reject)},_.prototype.settleSameAsThenable_=function(d,V){var I=this.createResolveAndReject_();try{d.call(V,I.resolve,I.reject)}catch(L){I.reject(L)}},_.prototype.then=function(d,V){function I(ne,q){return typeof ne=="function"?function(X){try{L(ne(X))}catch(re){W(re)}}:q}var L,W,le=new _(function(ne,q){L=ne,W=q});return this.callWhenSettled_(I(d,L),I(V,W)),le},_.prototype.catch=function(d){return this.then(void 0,d)},_.prototype.callWhenSettled_=function(d,V){function I(){switch(L.state_){case 1:d(L.result_);break;case 2:V(L.result_);break;default:throw Error("Unexpected state: "+L.state_)}}var L=this;this.onSettledCallbacks_==null?B.asyncExecute(I):this.onSettledCallbacks_.push(I),this.isRejectionHandled_=!0},_.resolve=u,_.reject=function(d){return new _(function(V,I){I(d)})},_.race=function(d){return new _(function(V,I){for(var L=t.makeIterator(d),W=L.next();!W.done;W=L.next())u(W.value).callWhenSettled_(V,I)})},_.all=function(d){var V=t.makeIterator(d),I=V.next();return I.done?u([]):new _(function(L,W){function le(X){return function(re){ne[X]=re,q--,q==0&&L(ne)}}var ne=[],q=0;do ne.push(void 0),q++,u(I.value).callWhenSettled_(le(ne.length-1),W),I=V.next();while(!I.done)})},_},"es6","es3"),t.owns=function(o,i){return Object.prototype.hasOwnProperty.call(o,i)},t.assign=t.TRUST_ES6_POLYFILLS&&typeof Object.assign=="function"?Object.assign:function(o,i){for(var u=1;u<arguments.length;u++){var p=arguments[u];if(p)for(var _ in p)t.owns(p,_)&&(o[_]=p[_])}return o},t.polyfill("Object.assign",function(o){return o||t.assign},"es6","es3"),t.checkStringArgs=function(o,i,u){if(o==null)throw new TypeError("The 'this' value for String.prototype."+u+" must not be null or undefined");if(i instanceof RegExp)throw new TypeError("First argument to String.prototype."+u+" must not be a regular expression");return o+""},t.polyfill("String.prototype.startsWith",function(o){return o||function(i,u){var p=t.checkStringArgs(this,i,"startsWith");i+="";var _=p.length,B=i.length;u=Math.max(0,Math.min(u|0,p.length));for(var d=0;d<B&&u<_;)if(p[u++]!=i[d++])return!1;return d>=B}},"es6","es3"),t.polyfill("Array.prototype.copyWithin",function(o){function i(u){return u=Number(u),u===1/0||u===-1/0?u:u|0}return o||function(u,p,_){var B=this.length;if(u=i(u),p=i(p),_=_===void 0?B:i(_),u=0>u?Math.max(B+u,0):Math.min(u,B),p=0>p?Math.max(B+p,0):Math.min(p,B),_=0>_?Math.max(B+_,0):Math.min(_,B),u<p)for(;p<_;)p in this?this[u++]=this[p++]:(delete this[u++],p++);else for(_=Math.min(_,B+p-u),u+=_-p;_>p;)--_ in this?this[--u]=this[_]:delete this[--u];return this}},"es6","es3"),t.typedArrayCopyWithin=function(o){return o||Array.prototype.copyWithin},t.polyfill("Int8Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Uint8Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Uint8ClampedArray.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Int16Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Uint16Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Int32Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Uint32Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Float32Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5"),t.polyfill("Float64Array.prototype.copyWithin",t.typedArrayCopyWithin,"es6","es5");var s=function(){var o=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(o=o||__filename),function(i){function u(R){return F.locateFile?F.locateFile(R,Un):Un+R}function p(R,U,ee){var ve=U+ee;for(ee=U;R[ee]&&!(ee>=ve);)++ee;if(16<ee-U&&R.buffer&&Ni)return Ni.decode(R.subarray(U,ee));for(ve="";U<ee;){var He=R[U++];if(He&128){var Ke=R[U++]&63;if((He&224)==192)ve+=String.fromCharCode((He&31)<<6|Ke);else{var ht=R[U++]&63;He=(He&240)==224?(He&15)<<12|Ke<<6|ht:(He&7)<<18|Ke<<12|ht<<6|R[U++]&63,65536>He?ve+=String.fromCharCode(He):(He-=65536,ve+=String.fromCharCode(55296|He>>10,56320|He&1023))}}else ve+=String.fromCharCode(He)}return ve}function _(R,U){return R?p(Jn,R,U):""}function B(R){Ci=R,F.HEAP8=si=new Int8Array(R),F.HEAP16=new Int16Array(R),F.HEAP32=pi=new Int32Array(R),F.HEAPU8=Jn=new Uint8Array(R),F.HEAPU16=new Uint16Array(R),F.HEAPU32=Rn=new Uint32Array(R),F.HEAPF32=new Float32Array(R),F.HEAPF64=new Float64Array(R)}function d(R){throw F.onAbort&&F.onAbort(R),R="Aborted("+R+")",_n(R),Mi=!0,R=new WebAssembly.RuntimeError(R+". Build with -sASSERTIONS for more info."),kn(R),R}function V(R){try{if(R==wn&&Gn)return new Uint8Array(Gn);if(qn)return qn(R);throw"both async and sync fetching of the wasm failed"}catch(U){d(U)}}function I(){if(!Gn&&(Pi||mn)){if(typeof fetch=="function"&&!wn.startsWith("file://"))return fetch(wn,{credentials:"same-origin"}).then(function(R){if(!R.ok)throw"failed to load wasm binary file at '"+wn+"'";return R.arrayBuffer()}).catch(function(){return V(wn)});if(On)return new Promise(function(R,U){On(wn,function(ee){R(new Uint8Array(ee))},U)})}return Promise.resolve().then(function(){return V(wn)})}function L(R){for(;0<R.length;)R.shift()(F)}function W(R){this.excPtr=R,this.ptr=R-24,this.set_type=function(U){Rn[this.ptr+4>>2]=U},this.get_type=function(){return Rn[this.ptr+4>>2]},this.set_destructor=function(U){Rn[this.ptr+8>>2]=U},this.get_destructor=function(){return Rn[this.ptr+8>>2]},this.set_refcount=function(U){pi[this.ptr>>2]=U},this.set_caught=function(U){si[this.ptr+12>>0]=U?1:0},this.get_caught=function(){return si[this.ptr+12>>0]!=0},this.set_rethrown=function(U){si[this.ptr+13>>0]=U?1:0},this.get_rethrown=function(){return si[this.ptr+13>>0]!=0},this.init=function(U,ee){this.set_adjusted_ptr(0),this.set_type(U),this.set_destructor(ee),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){pi[this.ptr>>2]+=1},this.release_ref=function(){var U=pi[this.ptr>>2];return pi[this.ptr>>2]=U-1,U===1},this.set_adjusted_ptr=function(U){Rn[this.ptr+16>>2]=U},this.get_adjusted_ptr=function(){return Rn[this.ptr+16>>2]},this.get_exception_ptr=function(){if(Q(this.get_type()))return Rn[this.excPtr>>2];var U=this.get_adjusted_ptr();return U!==0?U:this.excPtr}}function le(R){function U(){if(!pe&&(pe=!0,F.calledRun=!0,!Mi)){if(Wn=!0,L(Li),Zn(F),F.onRuntimeInitialized&&F.onRuntimeInitialized(),F.postRun)for(typeof F.postRun=="function"&&(F.postRun=[F.postRun]);F.postRun.length;)Sn.unshift(F.postRun.shift());L(Sn)}}if(!(0<ei)){if(F.preRun)for(typeof F.preRun=="function"&&(F.preRun=[F.preRun]);F.preRun.length;)oo.unshift(F.preRun.shift());L(oo),0<ei||(F.setStatus?(F.setStatus("Running..."),setTimeout(function(){setTimeout(function(){F.setStatus("")},1),U()},1)):U())}}function ne(){}function q(R){return(R||ne).__cache__}function X(R,U){var ee=q(U),ve=ee[R];return ve||(ve=Object.create((U||ne).prototype),ve.ptr=R,ee[R]=ve)}function re(R){if(typeof R=="string"){for(var U=0,ee=0;ee<R.length;++ee){var ve=R.charCodeAt(ee);127>=ve?U++:2047>=ve?U+=2:55296<=ve&&57343>=ve?(U+=4,++ee):U+=3}if(U=Array(U+1),ee=0,ve=U.length,0<ve){ve=ee+ve-1;for(var He=0;He<R.length;++He){var Ke=R.charCodeAt(He);if(55296<=Ke&&57343>=Ke){var ht=R.charCodeAt(++He);Ke=65536+((Ke&1023)<<10)|ht&1023}if(127>=Ke){if(ee>=ve)break;U[ee++]=Ke}else{if(2047>=Ke){if(ee+1>=ve)break;U[ee++]=192|Ke>>6}else{if(65535>=Ke){if(ee+2>=ve)break;U[ee++]=224|Ke>>12}else{if(ee+3>=ve)break;U[ee++]=240|Ke>>18,U[ee++]=128|Ke>>12&63}U[ee++]=128|Ke>>6&63}U[ee++]=128|Ke&63}}U[ee]=0}return R=me.alloc(U,si),me.copy(U,si,R),R}return R}function ce(R){if(typeof R=="object"){var U=me.alloc(R,si);return me.copy(R,si,U),U}return R}function _e(){throw"cannot construct a VoidPtr, no constructor in IDL"}function ye(){this.ptr=xi(),q(ye)[this.ptr]=this}function Ue(){this.ptr=Yi(),q(Ue)[this.ptr]=this}function Ge(){this.ptr=_i(),q(Ge)[this.ptr]=this}function Ve(){this.ptr=so(),q(Ve)[this.ptr]=this}function ke(){this.ptr=Wi(),q(ke)[this.ptr]=this}function bt(){this.ptr=yi(),q(bt)[this.ptr]=this}function et(){this.ptr=hi(),q(et)[this.ptr]=this}function Pt(){this.ptr=Ne(),q(Pt)[this.ptr]=this}function st(){this.ptr=At(),q(st)[this.ptr]=this}function Ze(){throw"cannot construct a Status, no constructor in IDL"}function ot(){this.ptr=ft(),q(ot)[this.ptr]=this}function jt(){this.ptr=Mr(),q(jt)[this.ptr]=this}function K(){this.ptr=jr(),q(K)[this.ptr]=this}function Pn(){this.ptr=hn(),q(Pn)[this.ptr]=this}function Kr(){this.ptr=an(),q(Kr)[this.ptr]=this}function Xr(){this.ptr=Jt(),q(Xr)[this.ptr]=this}function xn(){this.ptr=Be(),q(xn)[this.ptr]=this}function Br(){this.ptr=tt(),q(Br)[this.ptr]=this}function ut(){this.ptr=Lr(),q(ut)[this.ptr]=this}i=i||{};var F=typeof i<"u"?i:{},Zn,kn;F.ready=new Promise(function(R,U){Zn=R,kn=U});var Ei=!1,qi=!1;F.onRuntimeInitialized=function(){Ei=!0,qi&&typeof F.onModuleLoaded=="function"&&F.onModuleLoaded(F)},F.onModuleParsed=function(){qi=!0,Ei&&typeof F.onModuleLoaded=="function"&&F.onModuleLoaded(F)},F.isVersionSupported=function(R){return typeof R!="string"?!1:(R=R.split("."),2>R.length||3<R.length?!1:R[0]==1&&0<=R[1]&&5>=R[1]?!0:!(R[0]!=0||10<R[1]))};var io=Object.assign({},F),Pi=typeof window=="object",mn=typeof importScripts=="function",Bi=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",Un="";if(Bi){if(Un=mn?Zr.dirname(Un)+"/":__dirname+"/",typeof pn=="function")var gi=Zr,zi=Zr;var Oi=function(R,U){return R=zi.normalize(R),gi.readFileSync(R,U?void 0:"utf8")},qn=function(R){return R=Oi(R,!0),R.buffer||(R=new Uint8Array(R)),R},On=function(R,U,ee){R=zi.normalize(R),gi.readFile(R,function(ve,He){ve?ee(ve):U(He.buffer)})};1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),F.inspect=function(){return"[Emscripten Module object]"}}else(Pi||mn)&&(mn?Un=self.location.href:typeof document<"u"&&document.currentScript&&(Un=document.currentScript.src),o&&(Un=o),Un=Un.indexOf("blob:")!==0?Un.substr(0,Un.replace(/[?#].*/,"").lastIndexOf("/")+1):"",Oi=function(R){var U=new XMLHttpRequest;return U.open("GET",R,!1),U.send(null),U.responseText},mn&&(qn=function(R){var U=new XMLHttpRequest;return U.open("GET",R,!1),U.responseType="arraybuffer",U.send(null),new Uint8Array(U.response)}),On=function(R,U,ee){var ve=new XMLHttpRequest;ve.open("GET",R,!0),ve.responseType="arraybuffer",ve.onload=function(){ve.status==200||ve.status==0&&ve.response?U(ve.response):ee()},ve.onerror=ee,ve.send(null)});var ai=F.print||console.log.bind(console),_n=F.printErr||console.warn.bind(console);Object.assign(F,io),io=null;var Gn;F.wasmBinary&&(Gn=F.wasmBinary),typeof WebAssembly!="object"&&d("no native wasm support detected");var Ln,Mi=!1,Ni=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ci,si,Jn,pi,Rn,oo=[],Li=[],Sn=[],Wn=!1,ei=0,ti=null,wn="draco_decoder.wasm";wn.startsWith("data:application/octet-stream;base64,")||(wn=u(wn));var Ii=[null,[],[]],di={c:function(R){return P(R+24)+24},b:function(R,U,ee){throw new W(R).init(U,ee),R},a:function(){d("")},h:function(R,U,ee){Jn.copyWithin(R,U,U+ee)},f:function(R){var U=Jn.length;if(R>>>=0,2147483648<R)return!1;for(var ee=1;4>=ee;ee*=2){var ve=U*(1+.2/ee);ve=Math.min(ve,R+100663296);var He=Math;ve=Math.max(R,ve),He=He.min.call(He,2147483648,ve+(65536-ve%65536)%65536);e:{try{Ln.grow(He-Ci.byteLength+65535>>>16),B(Ln.buffer);var Ke=1;break e}catch{}Ke=void 0}if(Ke)return!0}return!1},g:function(R){return 52},e:function(R,U,ee,ve,He){return 70},d:function(R,U,ee,ve){for(var He=0,Ke=0;Ke<ee;Ke++){var ht=Rn[U>>2],Xe=Rn[U+4>>2];U+=8;for(var pt=0;pt<Xe;pt++){var Vt=Jn[ht+pt],br=Ii[R];Vt===0||Vt===10?((R===1?ai:_n)(p(br,0)),br.length=0):br.push(Vt)}He+=Xe}return Rn[ve>>2]=He,0}};(function(){function R(He,Ke){F.asm=He.exports,Ln=F.asm.i,B(Ln.buffer),Li.unshift(F.asm.j),ei--,F.monitorRunDependencies&&F.monitorRunDependencies(ei),ei==0&&ti&&(He=ti,ti=null,He())}function U(He){R(He.instance)}function ee(He){return I().then(function(Ke){return WebAssembly.instantiate(Ke,ve)}).then(function(Ke){return Ke}).then(He,function(Ke){_n("failed to asynchronously prepare wasm: "+Ke),d(Ke)})}var ve={a:di};if(ei++,F.monitorRunDependencies&&F.monitorRunDependencies(ei),F.instantiateWasm)try{return F.instantiateWasm(ve,R)}catch(He){_n("Module.instantiateWasm callback failed with error: "+He),kn(He)}return function(){return Gn||typeof WebAssembly.instantiateStreaming!="function"||wn.startsWith("data:application/octet-stream;base64,")||wn.startsWith("file://")||Bi||typeof fetch!="function"?ee(U):fetch(wn,{credentials:"same-origin"}).then(function(He){return WebAssembly.instantiateStreaming(He,ve).then(U,function(Ke){return _n("wasm streaming compile failed: "+Ke),_n("falling back to ArrayBuffer instantiation"),ee(U)})})}().catch(kn),{}})(),F.___wasm_call_ctors=function(){return(F.___wasm_call_ctors=F.asm.j).apply(null,arguments)};var Vn=F._emscripten_bind_VoidPtr___destroy___0=function(){return(Vn=F._emscripten_bind_VoidPtr___destroy___0=F.asm.l).apply(null,arguments)},xi=F._emscripten_bind_DecoderBuffer_DecoderBuffer_0=function(){return(xi=F._emscripten_bind_DecoderBuffer_DecoderBuffer_0=F.asm.m).apply(null,arguments)},ao=F._emscripten_bind_DecoderBuffer_Init_2=function(){return(ao=F._emscripten_bind_DecoderBuffer_Init_2=F.asm.n).apply(null,arguments)},Ui=F._emscripten_bind_DecoderBuffer___destroy___0=function(){return(Ui=F._emscripten_bind_DecoderBuffer___destroy___0=F.asm.o).apply(null,arguments)},Yi=F._emscripten_bind_AttributeTransformData_AttributeTransformData_0=function(){return(Yi=F._emscripten_bind_AttributeTransformData_AttributeTransformData_0=F.asm.p).apply(null,arguments)},Xi=F._emscripten_bind_AttributeTransformData_transform_type_0=function(){return(Xi=F._emscripten_bind_AttributeTransformData_transform_type_0=F.asm.q).apply(null,arguments)},Gi=F._emscripten_bind_AttributeTransformData___destroy___0=function(){return(Gi=F._emscripten_bind_AttributeTransformData___destroy___0=F.asm.r).apply(null,arguments)},_i=F._emscripten_bind_GeometryAttribute_GeometryAttribute_0=function(){return(_i=F._emscripten_bind_GeometryAttribute_GeometryAttribute_0=F.asm.s).apply(null,arguments)},Hi=F._emscripten_bind_GeometryAttribute___destroy___0=function(){return(Hi=F._emscripten_bind_GeometryAttribute___destroy___0=F.asm.t).apply(null,arguments)},so=F._emscripten_bind_PointAttribute_PointAttribute_0=function(){return(so=F._emscripten_bind_PointAttribute_PointAttribute_0=F.asm.u).apply(null,arguments)},Ai=F._emscripten_bind_PointAttribute_size_0=function(){return(Ai=F._emscripten_bind_PointAttribute_size_0=F.asm.v).apply(null,arguments)},Ti=F._emscripten_bind_PointAttribute_GetAttributeTransformData_0=function(){return(Ti=F._emscripten_bind_PointAttribute_GetAttributeTransformData_0=F.asm.w).apply(null,arguments)},Et=F._emscripten_bind_PointAttribute_attribute_type_0=function(){return(Et=F._emscripten_bind_PointAttribute_attribute_type_0=F.asm.x).apply(null,arguments)},ji=F._emscripten_bind_PointAttribute_data_type_0=function(){return(ji=F._emscripten_bind_PointAttribute_data_type_0=F.asm.y).apply(null,arguments)},ri=F._emscripten_bind_PointAttribute_num_components_0=function(){return(ri=F._emscripten_bind_PointAttribute_num_components_0=F.asm.z).apply(null,arguments)},$i=F._emscripten_bind_PointAttribute_normalized_0=function(){return($i=F._emscripten_bind_PointAttribute_normalized_0=F.asm.A).apply(null,arguments)},ki=F._emscripten_bind_PointAttribute_byte_stride_0=function(){return(ki=F._emscripten_bind_PointAttribute_byte_stride_0=F.asm.B).apply(null,arguments)},mi=F._emscripten_bind_PointAttribute_byte_offset_0=function(){return(mi=F._emscripten_bind_PointAttribute_byte_offset_0=F.asm.C).apply(null,arguments)},Hn=F._emscripten_bind_PointAttribute_unique_id_0=function(){return(Hn=F._emscripten_bind_PointAttribute_unique_id_0=F.asm.D).apply(null,arguments)},Qi=F._emscripten_bind_PointAttribute___destroy___0=function(){return(Qi=F._emscripten_bind_PointAttribute___destroy___0=F.asm.E).apply(null,arguments)},Wi=F._emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0=function(){return(Wi=F._emscripten_bind_AttributeQuantizationTransform_AttributeQuantizationTransform_0=F.asm.F).apply(null,arguments)},zn=F._emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1=function(){return(zn=F._emscripten_bind_AttributeQuantizationTransform_InitFromAttribute_1=F.asm.G).apply(null,arguments)},Zi=F._emscripten_bind_AttributeQuantizationTransform_quantization_bits_0=function(){return(Zi=F._emscripten_bind_AttributeQuantizationTransform_quantization_bits_0=F.asm.H).apply(null,arguments)},eo=F._emscripten_bind_AttributeQuantizationTransform_min_value_1=function(){return(eo=F._emscripten_bind_AttributeQuantizationTransform_min_value_1=F.asm.I).apply(null,arguments)},to=F._emscripten_bind_AttributeQuantizationTransform_range_0=function(){return(to=F._emscripten_bind_AttributeQuantizationTransform_range_0=F.asm.J).apply(null,arguments)},wi=F._emscripten_bind_AttributeQuantizationTransform___destroy___0=function(){return(wi=F._emscripten_bind_AttributeQuantizationTransform___destroy___0=F.asm.K).apply(null,arguments)},yi=F._emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0=function(){return(yi=F._emscripten_bind_AttributeOctahedronTransform_AttributeOctahedronTransform_0=F.asm.L).apply(null,arguments)},ui=F._emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1=function(){return(ui=F._emscripten_bind_AttributeOctahedronTransform_InitFromAttribute_1=F.asm.M).apply(null,arguments)},vi=F._emscripten_bind_AttributeOctahedronTransform_quantization_bits_0=function(){return(vi=F._emscripten_bind_AttributeOctahedronTransform_quantization_bits_0=F.asm.N).apply(null,arguments)},ci=F._emscripten_bind_AttributeOctahedronTransform___destroy___0=function(){return(ci=F._emscripten_bind_AttributeOctahedronTransform___destroy___0=F.asm.O).apply(null,arguments)},hi=F._emscripten_bind_PointCloud_PointCloud_0=function(){return(hi=F._emscripten_bind_PointCloud_PointCloud_0=F.asm.P).apply(null,arguments)},we=F._emscripten_bind_PointCloud_num_attributes_0=function(){return(we=F._emscripten_bind_PointCloud_num_attributes_0=F.asm.Q).apply(null,arguments)},r=F._emscripten_bind_PointCloud_num_points_0=function(){return(r=F._emscripten_bind_PointCloud_num_points_0=F.asm.R).apply(null,arguments)},Fe=F._emscripten_bind_PointCloud___destroy___0=function(){return(Fe=F._emscripten_bind_PointCloud___destroy___0=F.asm.S).apply(null,arguments)},Ne=F._emscripten_bind_Mesh_Mesh_0=function(){return(Ne=F._emscripten_bind_Mesh_Mesh_0=F.asm.T).apply(null,arguments)},Oe=F._emscripten_bind_Mesh_num_faces_0=function(){return(Oe=F._emscripten_bind_Mesh_num_faces_0=F.asm.U).apply(null,arguments)},Ce=F._emscripten_bind_Mesh_num_attributes_0=function(){return(Ce=F._emscripten_bind_Mesh_num_attributes_0=F.asm.V).apply(null,arguments)},Ct=F._emscripten_bind_Mesh_num_points_0=function(){return(Ct=F._emscripten_bind_Mesh_num_points_0=F.asm.W).apply(null,arguments)},at=F._emscripten_bind_Mesh___destroy___0=function(){return(at=F._emscripten_bind_Mesh___destroy___0=F.asm.X).apply(null,arguments)},At=F._emscripten_bind_Metadata_Metadata_0=function(){return(At=F._emscripten_bind_Metadata_Metadata_0=F.asm.Y).apply(null,arguments)},It=F._emscripten_bind_Metadata___destroy___0=function(){return(It=F._emscripten_bind_Metadata___destroy___0=F.asm.Z).apply(null,arguments)},Lt=F._emscripten_bind_Status_code_0=function(){return(Lt=F._emscripten_bind_Status_code_0=F.asm._).apply(null,arguments)},Kt=F._emscripten_bind_Status_ok_0=function(){return(Kt=F._emscripten_bind_Status_ok_0=F.asm.$).apply(null,arguments)},Ht=F._emscripten_bind_Status_error_msg_0=function(){return(Ht=F._emscripten_bind_Status_error_msg_0=F.asm.aa).apply(null,arguments)},Ot=F._emscripten_bind_Status___destroy___0=function(){return(Ot=F._emscripten_bind_Status___destroy___0=F.asm.ba).apply(null,arguments)},ft=F._emscripten_bind_DracoFloat32Array_DracoFloat32Array_0=function(){return(ft=F._emscripten_bind_DracoFloat32Array_DracoFloat32Array_0=F.asm.ca).apply(null,arguments)},ct=F._emscripten_bind_DracoFloat32Array_GetValue_1=function(){return(ct=F._emscripten_bind_DracoFloat32Array_GetValue_1=F.asm.da).apply(null,arguments)},yt=F._emscripten_bind_DracoFloat32Array_size_0=function(){return(yt=F._emscripten_bind_DracoFloat32Array_size_0=F.asm.ea).apply(null,arguments)},Ar=F._emscripten_bind_DracoFloat32Array___destroy___0=function(){return(Ar=F._emscripten_bind_DracoFloat32Array___destroy___0=F.asm.fa).apply(null,arguments)},Mr=F._emscripten_bind_DracoInt8Array_DracoInt8Array_0=function(){return(Mr=F._emscripten_bind_DracoInt8Array_DracoInt8Array_0=F.asm.ga).apply(null,arguments)},Nt=F._emscripten_bind_DracoInt8Array_GetValue_1=function(){return(Nt=F._emscripten_bind_DracoInt8Array_GetValue_1=F.asm.ha).apply(null,arguments)},Jr=F._emscripten_bind_DracoInt8Array_size_0=function(){return(Jr=F._emscripten_bind_DracoInt8Array_size_0=F.asm.ia).apply(null,arguments)},Fr=F._emscripten_bind_DracoInt8Array___destroy___0=function(){return(Fr=F._emscripten_bind_DracoInt8Array___destroy___0=F.asm.ja).apply(null,arguments)},jr=F._emscripten_bind_DracoUInt8Array_DracoUInt8Array_0=function(){return(jr=F._emscripten_bind_DracoUInt8Array_DracoUInt8Array_0=F.asm.ka).apply(null,arguments)},tn=F._emscripten_bind_DracoUInt8Array_GetValue_1=function(){return(tn=F._emscripten_bind_DracoUInt8Array_GetValue_1=F.asm.la).apply(null,arguments)},$r=F._emscripten_bind_DracoUInt8Array_size_0=function(){return($r=F._emscripten_bind_DracoUInt8Array_size_0=F.asm.ma).apply(null,arguments)},vn=F._emscripten_bind_DracoUInt8Array___destroy___0=function(){return(vn=F._emscripten_bind_DracoUInt8Array___destroy___0=F.asm.na).apply(null,arguments)},hn=F._emscripten_bind_DracoInt16Array_DracoInt16Array_0=function(){return(hn=F._emscripten_bind_DracoInt16Array_DracoInt16Array_0=F.asm.oa).apply(null,arguments)},bn=F._emscripten_bind_DracoInt16Array_GetValue_1=function(){return(bn=F._emscripten_bind_DracoInt16Array_GetValue_1=F.asm.pa).apply(null,arguments)},En=F._emscripten_bind_DracoInt16Array_size_0=function(){return(En=F._emscripten_bind_DracoInt16Array_size_0=F.asm.qa).apply(null,arguments)},Bn=F._emscripten_bind_DracoInt16Array___destroy___0=function(){return(Bn=F._emscripten_bind_DracoInt16Array___destroy___0=F.asm.ra).apply(null,arguments)},an=F._emscripten_bind_DracoUInt16Array_DracoUInt16Array_0=function(){return(an=F._emscripten_bind_DracoUInt16Array_DracoUInt16Array_0=F.asm.sa).apply(null,arguments)},sn=F._emscripten_bind_DracoUInt16Array_GetValue_1=function(){return(sn=F._emscripten_bind_DracoUInt16Array_GetValue_1=F.asm.ta).apply(null,arguments)},un=F._emscripten_bind_DracoUInt16Array_size_0=function(){return(un=F._emscripten_bind_DracoUInt16Array_size_0=F.asm.ua).apply(null,arguments)},Ft=F._emscripten_bind_DracoUInt16Array___destroy___0=function(){return(Ft=F._emscripten_bind_DracoUInt16Array___destroy___0=F.asm.va).apply(null,arguments)},Jt=F._emscripten_bind_DracoInt32Array_DracoInt32Array_0=function(){return(Jt=F._emscripten_bind_DracoInt32Array_DracoInt32Array_0=F.asm.wa).apply(null,arguments)},qe=F._emscripten_bind_DracoInt32Array_GetValue_1=function(){return(qe=F._emscripten_bind_DracoInt32Array_GetValue_1=F.asm.xa).apply(null,arguments)},Tt=F._emscripten_bind_DracoInt32Array_size_0=function(){return(Tt=F._emscripten_bind_DracoInt32Array_size_0=F.asm.ya).apply(null,arguments)},dt=F._emscripten_bind_DracoInt32Array___destroy___0=function(){return(dt=F._emscripten_bind_DracoInt32Array___destroy___0=F.asm.za).apply(null,arguments)},Be=F._emscripten_bind_DracoUInt32Array_DracoUInt32Array_0=function(){return(Be=F._emscripten_bind_DracoUInt32Array_DracoUInt32Array_0=F.asm.Aa).apply(null,arguments)},We=F._emscripten_bind_DracoUInt32Array_GetValue_1=function(){return(We=F._emscripten_bind_DracoUInt32Array_GetValue_1=F.asm.Ba).apply(null,arguments)},sr=F._emscripten_bind_DracoUInt32Array_size_0=function(){return(sr=F._emscripten_bind_DracoUInt32Array_size_0=F.asm.Ca).apply(null,arguments)},Je=F._emscripten_bind_DracoUInt32Array___destroy___0=function(){return(Je=F._emscripten_bind_DracoUInt32Array___destroy___0=F.asm.Da).apply(null,arguments)},tt=F._emscripten_bind_MetadataQuerier_MetadataQuerier_0=function(){return(tt=F._emscripten_bind_MetadataQuerier_MetadataQuerier_0=F.asm.Ea).apply(null,arguments)},Bt=F._emscripten_bind_MetadataQuerier_HasEntry_2=function(){return(Bt=F._emscripten_bind_MetadataQuerier_HasEntry_2=F.asm.Fa).apply(null,arguments)},kr=F._emscripten_bind_MetadataQuerier_GetIntEntry_2=function(){return(kr=F._emscripten_bind_MetadataQuerier_GetIntEntry_2=F.asm.Ga).apply(null,arguments)},Wr=F._emscripten_bind_MetadataQuerier_GetIntEntryArray_3=function(){return(Wr=F._emscripten_bind_MetadataQuerier_GetIntEntryArray_3=F.asm.Ha).apply(null,arguments)},qt=F._emscripten_bind_MetadataQuerier_GetDoubleEntry_2=function(){return(qt=F._emscripten_bind_MetadataQuerier_GetDoubleEntry_2=F.asm.Ia).apply(null,arguments)},Nr=F._emscripten_bind_MetadataQuerier_GetStringEntry_2=function(){return(Nr=F._emscripten_bind_MetadataQuerier_GetStringEntry_2=F.asm.Ja).apply(null,arguments)},rn=F._emscripten_bind_MetadataQuerier_NumEntries_1=function(){return(rn=F._emscripten_bind_MetadataQuerier_NumEntries_1=F.asm.Ka).apply(null,arguments)},cn=F._emscripten_bind_MetadataQuerier_GetEntryName_2=function(){return(cn=F._emscripten_bind_MetadataQuerier_GetEntryName_2=F.asm.La).apply(null,arguments)},gn=F._emscripten_bind_MetadataQuerier___destroy___0=function(){return(gn=F._emscripten_bind_MetadataQuerier___destroy___0=F.asm.Ma).apply(null,arguments)},Lr=F._emscripten_bind_Decoder_Decoder_0=function(){return(Lr=F._emscripten_bind_Decoder_Decoder_0=F.asm.Na).apply(null,arguments)},qr=F._emscripten_bind_Decoder_DecodeArrayToPointCloud_3=function(){return(qr=F._emscripten_bind_Decoder_DecodeArrayToPointCloud_3=F.asm.Oa).apply(null,arguments)},kt=F._emscripten_bind_Decoder_DecodeArrayToMesh_3=function(){return(kt=F._emscripten_bind_Decoder_DecodeArrayToMesh_3=F.asm.Pa).apply(null,arguments)},mr=F._emscripten_bind_Decoder_GetAttributeId_2=function(){return(mr=F._emscripten_bind_Decoder_GetAttributeId_2=F.asm.Qa).apply(null,arguments)},zr=F._emscripten_bind_Decoder_GetAttributeIdByName_2=function(){return(zr=F._emscripten_bind_Decoder_GetAttributeIdByName_2=F.asm.Ra).apply(null,arguments)},cr=F._emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3=function(){return(cr=F._emscripten_bind_Decoder_GetAttributeIdByMetadataEntry_3=F.asm.Sa).apply(null,arguments)},Se=F._emscripten_bind_Decoder_GetAttribute_2=function(){return(Se=F._emscripten_bind_Decoder_GetAttribute_2=F.asm.Ta).apply(null,arguments)},j=F._emscripten_bind_Decoder_GetAttributeByUniqueId_2=function(){return(j=F._emscripten_bind_Decoder_GetAttributeByUniqueId_2=F.asm.Ua).apply(null,arguments)},$=F._emscripten_bind_Decoder_GetMetadata_1=function(){return($=F._emscripten_bind_Decoder_GetMetadata_1=F.asm.Va).apply(null,arguments)},ae=F._emscripten_bind_Decoder_GetAttributeMetadata_2=function(){return(ae=F._emscripten_bind_Decoder_GetAttributeMetadata_2=F.asm.Wa).apply(null,arguments)},Ae=F._emscripten_bind_Decoder_GetFaceFromMesh_3=function(){return(Ae=F._emscripten_bind_Decoder_GetFaceFromMesh_3=F.asm.Xa).apply(null,arguments)},Ie=F._emscripten_bind_Decoder_GetTriangleStripsFromMesh_2=function(){return(Ie=F._emscripten_bind_Decoder_GetTriangleStripsFromMesh_2=F.asm.Ya).apply(null,arguments)},Le=F._emscripten_bind_Decoder_GetTrianglesUInt16Array_3=function(){return(Le=F._emscripten_bind_Decoder_GetTrianglesUInt16Array_3=F.asm.Za).apply(null,arguments)},Ut=F._emscripten_bind_Decoder_GetTrianglesUInt32Array_3=function(){return(Ut=F._emscripten_bind_Decoder_GetTrianglesUInt32Array_3=F.asm._a).apply(null,arguments)},yr=F._emscripten_bind_Decoder_GetAttributeFloat_3=function(){return(yr=F._emscripten_bind_Decoder_GetAttributeFloat_3=F.asm.$a).apply(null,arguments)},Qt=F._emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3=function(){return(Qt=F._emscripten_bind_Decoder_GetAttributeFloatForAllPoints_3=F.asm.ab).apply(null,arguments)},Qr=F._emscripten_bind_Decoder_GetAttributeIntForAllPoints_3=function(){return(Qr=F._emscripten_bind_Decoder_GetAttributeIntForAllPoints_3=F.asm.bb).apply(null,arguments)},hr=F._emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3=function(){return(hr=F._emscripten_bind_Decoder_GetAttributeInt8ForAllPoints_3=F.asm.cb).apply(null,arguments)},Rr=F._emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3=function(){return(Rr=F._emscripten_bind_Decoder_GetAttributeUInt8ForAllPoints_3=F.asm.db).apply(null,arguments)},Or=F._emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3=function(){return(Or=F._emscripten_bind_Decoder_GetAttributeInt16ForAllPoints_3=F.asm.eb).apply(null,arguments)},wr=F._emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3=function(){return(wr=F._emscripten_bind_Decoder_GetAttributeUInt16ForAllPoints_3=F.asm.fb).apply(null,arguments)},vr=F._emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3=function(){return(vr=F._emscripten_bind_Decoder_GetAttributeInt32ForAllPoints_3=F.asm.gb).apply(null,arguments)},gr=F._emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3=function(){return(gr=F._emscripten_bind_Decoder_GetAttributeUInt32ForAllPoints_3=F.asm.hb).apply(null,arguments)},_t=F._emscripten_bind_Decoder_GetAttributeDataArrayForAllPoints_5=function(){return(_t=F._emscripten_bind_Decoder_GetAttributeDataArrayForAllPoints_5=F.asm.ib).apply(null,arguments)},wt=F._emscripten_bind_Decoder_SkipAttributeTransform_1=function(){return(wt=F._emscripten_bind_Decoder_SkipAttributeTransform_1=F.asm.jb).apply(null,arguments)},zt=F._emscripten_bind_Decoder_GetEncodedGeometryType_Deprecated_1=function(){return(zt=F._emscripten_bind_Decoder_GetEncodedGeometryType_Deprecated_1=F.asm.kb).apply(null,arguments)},Rt=F._emscripten_bind_Decoder_DecodeBufferToPointCloud_2=function(){return(Rt=F._emscripten_bind_Decoder_DecodeBufferToPointCloud_2=F.asm.lb).apply(null,arguments)},rt=F._emscripten_bind_Decoder_DecodeBufferToMesh_2=function(){return(rt=F._emscripten_bind_Decoder_DecodeBufferToMesh_2=F.asm.mb).apply(null,arguments)},nr=F._emscripten_bind_Decoder___destroy___0=function(){return(nr=F._emscripten_bind_Decoder___destroy___0=F.asm.nb).apply(null,arguments)},Cr=F._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM=function(){return(Cr=F._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_INVALID_TRANSFORM=F.asm.ob).apply(null,arguments)},Gt=F._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM=function(){return(Gt=F._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_NO_TRANSFORM=F.asm.pb).apply(null,arguments)},ir=F._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM=function(){return(ir=F._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_QUANTIZATION_TRANSFORM=F.asm.qb).apply(null,arguments)},lr=F._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM=function(){return(lr=F._emscripten_enum_draco_AttributeTransformType_ATTRIBUTE_OCTAHEDRON_TRANSFORM=F.asm.rb).apply(null,arguments)},Qe=F._emscripten_enum_draco_GeometryAttribute_Type_INVALID=function(){return(Qe=F._emscripten_enum_draco_GeometryAttribute_Type_INVALID=F.asm.sb).apply(null,arguments)},Zt=F._emscripten_enum_draco_GeometryAttribute_Type_POSITION=function(){return(Zt=F._emscripten_enum_draco_GeometryAttribute_Type_POSITION=F.asm.tb).apply(null,arguments)},St=F._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=function(){return(St=F._emscripten_enum_draco_GeometryAttribute_Type_NORMAL=F.asm.ub).apply(null,arguments)},Wt=F._emscripten_enum_draco_GeometryAttribute_Type_COLOR=function(){return(Wt=F._emscripten_enum_draco_GeometryAttribute_Type_COLOR=F.asm.vb).apply(null,arguments)},Yt=F._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=function(){return(Yt=F._emscripten_enum_draco_GeometryAttribute_Type_TEX_COORD=F.asm.wb).apply(null,arguments)},pr=F._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=function(){return(pr=F._emscripten_enum_draco_GeometryAttribute_Type_GENERIC=F.asm.xb).apply(null,arguments)},Sr=F._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=function(){return(Sr=F._emscripten_enum_draco_EncodedGeometryType_INVALID_GEOMETRY_TYPE=F.asm.yb).apply(null,arguments)},Dt=F._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=function(){return(Dt=F._emscripten_enum_draco_EncodedGeometryType_POINT_CLOUD=F.asm.zb).apply(null,arguments)},or=F._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=function(){return(or=F._emscripten_enum_draco_EncodedGeometryType_TRIANGULAR_MESH=F.asm.Ab).apply(null,arguments)},Xt=F._emscripten_enum_draco_DataType_DT_INVALID=function(){return(Xt=F._emscripten_enum_draco_DataType_DT_INVALID=F.asm.Bb).apply(null,arguments)},nt=F._emscripten_enum_draco_DataType_DT_INT8=function(){return(nt=F._emscripten_enum_draco_DataType_DT_INT8=F.asm.Cb).apply(null,arguments)},dr=F._emscripten_enum_draco_DataType_DT_UINT8=function(){return(dr=F._emscripten_enum_draco_DataType_DT_UINT8=F.asm.Db).apply(null,arguments)},xr=F._emscripten_enum_draco_DataType_DT_INT16=function(){return(xr=F._emscripten_enum_draco_DataType_DT_INT16=F.asm.Eb).apply(null,arguments)},Mt=F._emscripten_enum_draco_DataType_DT_UINT16=function(){return(Mt=F._emscripten_enum_draco_DataType_DT_UINT16=F.asm.Fb).apply(null,arguments)},Dr=F._emscripten_enum_draco_DataType_DT_INT32=function(){return(Dr=F._emscripten_enum_draco_DataType_DT_INT32=F.asm.Gb).apply(null,arguments)},er=F._emscripten_enum_draco_DataType_DT_UINT32=function(){return(er=F._emscripten_enum_draco_DataType_DT_UINT32=F.asm.Hb).apply(null,arguments)},Ur=F._emscripten_enum_draco_DataType_DT_INT64=function(){return(Ur=F._emscripten_enum_draco_DataType_DT_INT64=F.asm.Ib).apply(null,arguments)},fn=F._emscripten_enum_draco_DataType_DT_UINT64=function(){return(fn=F._emscripten_enum_draco_DataType_DT_UINT64=F.asm.Jb).apply(null,arguments)},Gr=F._emscripten_enum_draco_DataType_DT_FLOAT32=function(){return(Gr=F._emscripten_enum_draco_DataType_DT_FLOAT32=F.asm.Kb).apply(null,arguments)},Pr=F._emscripten_enum_draco_DataType_DT_FLOAT64=function(){return(Pr=F._emscripten_enum_draco_DataType_DT_FLOAT64=F.asm.Lb).apply(null,arguments)},nn=F._emscripten_enum_draco_DataType_DT_BOOL=function(){return(nn=F._emscripten_enum_draco_DataType_DT_BOOL=F.asm.Mb).apply(null,arguments)},Dn=F._emscripten_enum_draco_DataType_DT_TYPES_COUNT=function(){return(Dn=F._emscripten_enum_draco_DataType_DT_TYPES_COUNT=F.asm.Nb).apply(null,arguments)},on=F._emscripten_enum_draco_StatusCode_OK=function(){return(on=F._emscripten_enum_draco_StatusCode_OK=F.asm.Ob).apply(null,arguments)},Cn=F._emscripten_enum_draco_StatusCode_DRACO_ERROR=function(){return(Cn=F._emscripten_enum_draco_StatusCode_DRACO_ERROR=F.asm.Pb).apply(null,arguments)},An=F._emscripten_enum_draco_StatusCode_IO_ERROR=function(){return(An=F._emscripten_enum_draco_StatusCode_IO_ERROR=F.asm.Qb).apply(null,arguments)},In=F._emscripten_enum_draco_StatusCode_INVALID_PARAMETER=function(){return(In=F._emscripten_enum_draco_StatusCode_INVALID_PARAMETER=F.asm.Rb).apply(null,arguments)},yn=F._emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION=function(){return(yn=F._emscripten_enum_draco_StatusCode_UNSUPPORTED_VERSION=F.asm.Sb).apply(null,arguments)},h=F._emscripten_enum_draco_StatusCode_UNKNOWN_VERSION=function(){return(h=F._emscripten_enum_draco_StatusCode_UNKNOWN_VERSION=F.asm.Tb).apply(null,arguments)},P=F._malloc=function(){return(P=F._malloc=F.asm.Ub).apply(null,arguments)};F._free=function(){return(F._free=F.asm.Vb).apply(null,arguments)};var Q=F.___cxa_is_pointer_type=function(){return(Q=F.___cxa_is_pointer_type=F.asm.Wb).apply(null,arguments)};F.___start_em_js=15856,F.___stop_em_js=15954;var pe;if(ti=function R(){pe||le(),pe||(ti=R)},F.preInit)for(typeof F.preInit=="function"&&(F.preInit=[F.preInit]);0<F.preInit.length;)F.preInit.pop()();le(),ne.prototype=Object.create(ne.prototype),ne.prototype.constructor=ne,ne.prototype.__class__=ne,ne.__cache__={},F.WrapperObject=ne,F.getCache=q,F.wrapPointer=X,F.castObject=function(R,U){return X(R.ptr,U)},F.NULL=X(0),F.destroy=function(R){if(!R.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";R.__destroy__(),delete q(R.__class__)[R.ptr]},F.compare=function(R,U){return R.ptr===U.ptr},F.getPointer=function(R){return R.ptr},F.getClass=function(R){return R.__class__};var me={buffer:0,size:0,pos:0,temps:[],needed:0,prepare:function(){if(me.needed){for(var R=0;R<me.temps.length;R++)F._free(me.temps[R]);me.temps.length=0,F._free(me.buffer),me.buffer=0,me.size+=me.needed,me.needed=0}me.buffer||(me.size+=128,me.buffer=F._malloc(me.size),me.buffer||d(void 0)),me.pos=0},alloc:function(R,U){return me.buffer||d(void 0),R=R.length*U.BYTES_PER_ELEMENT,R=R+7&-8,me.pos+R>=me.size?(0<R||d(void 0),me.needed+=R,U=F._malloc(R),me.temps.push(U)):(U=me.buffer+me.pos,me.pos+=R),U},copy:function(R,U,ee){switch(ee>>>=0,U.BYTES_PER_ELEMENT){case 2:ee>>>=1;break;case 4:ee>>>=2;break;case 8:ee>>>=3}for(var ve=0;ve<R.length;ve++)U[ee+ve]=R[ve]}};return _e.prototype=Object.create(ne.prototype),_e.prototype.constructor=_e,_e.prototype.__class__=_e,_e.__cache__={},F.VoidPtr=_e,_e.prototype.__destroy__=_e.prototype.__destroy__=function(){Vn(this.ptr)},ye.prototype=Object.create(ne.prototype),ye.prototype.constructor=ye,ye.prototype.__class__=ye,ye.__cache__={},F.DecoderBuffer=ye,ye.prototype.Init=ye.prototype.Init=function(R,U){var ee=this.ptr;me.prepare(),typeof R=="object"&&(R=ce(R)),U&&typeof U=="object"&&(U=U.ptr),ao(ee,R,U)},ye.prototype.__destroy__=ye.prototype.__destroy__=function(){Ui(this.ptr)},Ue.prototype=Object.create(ne.prototype),Ue.prototype.constructor=Ue,Ue.prototype.__class__=Ue,Ue.__cache__={},F.AttributeTransformData=Ue,Ue.prototype.transform_type=Ue.prototype.transform_type=function(){return Xi(this.ptr)},Ue.prototype.__destroy__=Ue.prototype.__destroy__=function(){Gi(this.ptr)},Ge.prototype=Object.create(ne.prototype),Ge.prototype.constructor=Ge,Ge.prototype.__class__=Ge,Ge.__cache__={},F.GeometryAttribute=Ge,Ge.prototype.__destroy__=Ge.prototype.__destroy__=function(){Hi(this.ptr)},Ve.prototype=Object.create(ne.prototype),Ve.prototype.constructor=Ve,Ve.prototype.__class__=Ve,Ve.__cache__={},F.PointAttribute=Ve,Ve.prototype.size=Ve.prototype.size=function(){return Ai(this.ptr)},Ve.prototype.GetAttributeTransformData=Ve.prototype.GetAttributeTransformData=function(){return X(Ti(this.ptr),Ue)},Ve.prototype.attribute_type=Ve.prototype.attribute_type=function(){return Et(this.ptr)},Ve.prototype.data_type=Ve.prototype.data_type=function(){return ji(this.ptr)},Ve.prototype.num_components=Ve.prototype.num_components=function(){return ri(this.ptr)},Ve.prototype.normalized=Ve.prototype.normalized=function(){return!!$i(this.ptr)},Ve.prototype.byte_stride=Ve.prototype.byte_stride=function(){return ki(this.ptr)},Ve.prototype.byte_offset=Ve.prototype.byte_offset=function(){return mi(this.ptr)},Ve.prototype.unique_id=Ve.prototype.unique_id=function(){return Hn(this.ptr)},Ve.prototype.__destroy__=Ve.prototype.__destroy__=function(){Qi(this.ptr)},ke.prototype=Object.create(ne.prototype),ke.prototype.constructor=ke,ke.prototype.__class__=ke,ke.__cache__={},F.AttributeQuantizationTransform=ke,ke.prototype.InitFromAttribute=ke.prototype.InitFromAttribute=function(R){var U=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),!!zn(U,R)},ke.prototype.quantization_bits=ke.prototype.quantization_bits=function(){return Zi(this.ptr)},ke.prototype.min_value=ke.prototype.min_value=function(R){var U=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),eo(U,R)},ke.prototype.range=ke.prototype.range=function(){return to(this.ptr)},ke.prototype.__destroy__=ke.prototype.__destroy__=function(){wi(this.ptr)},bt.prototype=Object.create(ne.prototype),bt.prototype.constructor=bt,bt.prototype.__class__=bt,bt.__cache__={},F.AttributeOctahedronTransform=bt,bt.prototype.InitFromAttribute=bt.prototype.InitFromAttribute=function(R){var U=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),!!ui(U,R)},bt.prototype.quantization_bits=bt.prototype.quantization_bits=function(){return vi(this.ptr)},bt.prototype.__destroy__=bt.prototype.__destroy__=function(){ci(this.ptr)},et.prototype=Object.create(ne.prototype),et.prototype.constructor=et,et.prototype.__class__=et,et.__cache__={},F.PointCloud=et,et.prototype.num_attributes=et.prototype.num_attributes=function(){return we(this.ptr)},et.prototype.num_points=et.prototype.num_points=function(){return r(this.ptr)},et.prototype.__destroy__=et.prototype.__destroy__=function(){Fe(this.ptr)},Pt.prototype=Object.create(ne.prototype),Pt.prototype.constructor=Pt,Pt.prototype.__class__=Pt,Pt.__cache__={},F.Mesh=Pt,Pt.prototype.num_faces=Pt.prototype.num_faces=function(){return Oe(this.ptr)},Pt.prototype.num_attributes=Pt.prototype.num_attributes=function(){return Ce(this.ptr)},Pt.prototype.num_points=Pt.prototype.num_points=function(){return Ct(this.ptr)},Pt.prototype.__destroy__=Pt.prototype.__destroy__=function(){at(this.ptr)},st.prototype=Object.create(ne.prototype),st.prototype.constructor=st,st.prototype.__class__=st,st.__cache__={},F.Metadata=st,st.prototype.__destroy__=st.prototype.__destroy__=function(){It(this.ptr)},Ze.prototype=Object.create(ne.prototype),Ze.prototype.constructor=Ze,Ze.prototype.__class__=Ze,Ze.__cache__={},F.Status=Ze,Ze.prototype.code=Ze.prototype.code=function(){return Lt(this.ptr)},Ze.prototype.ok=Ze.prototype.ok=function(){return!!Kt(this.ptr)},Ze.prototype.error_msg=Ze.prototype.error_msg=function(){return _(Ht(this.ptr))},Ze.prototype.__destroy__=Ze.prototype.__destroy__=function(){Ot(this.ptr)},ot.prototype=Object.create(ne.prototype),ot.prototype.constructor=ot,ot.prototype.__class__=ot,ot.__cache__={},F.DracoFloat32Array=ot,ot.prototype.GetValue=ot.prototype.GetValue=function(R){var U=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),ct(U,R)},ot.prototype.size=ot.prototype.size=function(){return yt(this.ptr)},ot.prototype.__destroy__=ot.prototype.__destroy__=function(){Ar(this.ptr)},jt.prototype=Object.create(ne.prototype),jt.prototype.constructor=jt,jt.prototype.__class__=jt,jt.__cache__={},F.DracoInt8Array=jt,jt.prototype.GetValue=jt.prototype.GetValue=function(R){var U=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),Nt(U,R)},jt.prototype.size=jt.prototype.size=function(){return Jr(this.ptr)},jt.prototype.__destroy__=jt.prototype.__destroy__=function(){Fr(this.ptr)},K.prototype=Object.create(ne.prototype),K.prototype.constructor=K,K.prototype.__class__=K,K.__cache__={},F.DracoUInt8Array=K,K.prototype.GetValue=K.prototype.GetValue=function(R){var U=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),tn(U,R)},K.prototype.size=K.prototype.size=function(){return $r(this.ptr)},K.prototype.__destroy__=K.prototype.__destroy__=function(){vn(this.ptr)},Pn.prototype=Object.create(ne.prototype),Pn.prototype.constructor=Pn,Pn.prototype.__class__=Pn,Pn.__cache__={},F.DracoInt16Array=Pn,Pn.prototype.GetValue=Pn.prototype.GetValue=function(R){var U=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),bn(U,R)},Pn.prototype.size=Pn.prototype.size=function(){return En(this.ptr)},Pn.prototype.__destroy__=Pn.prototype.__destroy__=function(){Bn(this.ptr)},Kr.prototype=Object.create(ne.prototype),Kr.prototype.constructor=Kr,Kr.prototype.__class__=Kr,Kr.__cache__={},F.DracoUInt16Array=Kr,Kr.prototype.GetValue=Kr.prototype.GetValue=function(R){var U=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),sn(U,R)},Kr.prototype.size=Kr.prototype.size=function(){return un(this.ptr)},Kr.prototype.__destroy__=Kr.prototype.__destroy__=function(){Ft(this.ptr)},Xr.prototype=Object.create(ne.prototype),Xr.prototype.constructor=Xr,Xr.prototype.__class__=Xr,Xr.__cache__={},F.DracoInt32Array=Xr,Xr.prototype.GetValue=Xr.prototype.GetValue=function(R){var U=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),qe(U,R)},Xr.prototype.size=Xr.prototype.size=function(){return Tt(this.ptr)},Xr.prototype.__destroy__=Xr.prototype.__destroy__=function(){dt(this.ptr)},xn.prototype=Object.create(ne.prototype),xn.prototype.constructor=xn,xn.prototype.__class__=xn,xn.__cache__={},F.DracoUInt32Array=xn,xn.prototype.GetValue=xn.prototype.GetValue=function(R){var U=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),We(U,R)},xn.prototype.size=xn.prototype.size=function(){return sr(this.ptr)},xn.prototype.__destroy__=xn.prototype.__destroy__=function(){Je(this.ptr)},Br.prototype=Object.create(ne.prototype),Br.prototype.constructor=Br,Br.prototype.__class__=Br,Br.__cache__={},F.MetadataQuerier=Br,Br.prototype.HasEntry=Br.prototype.HasEntry=function(R,U){var ee=this.ptr;return me.prepare(),R&&typeof R=="object"&&(R=R.ptr),U=U&&typeof U=="object"?U.ptr:re(U),!!Bt(ee,R,U)},Br.prototype.GetIntEntry=Br.prototype.GetIntEntry=function(R,U){var ee=this.ptr;return me.prepare(),R&&typeof R=="object"&&(R=R.ptr),U=U&&typeof U=="object"?U.ptr:re(U),kr(ee,R,U)},Br.prototype.GetIntEntryArray=Br.prototype.GetIntEntryArray=function(R,U,ee){var ve=this.ptr;me.prepare(),R&&typeof R=="object"&&(R=R.ptr),U=U&&typeof U=="object"?U.ptr:re(U),ee&&typeof ee=="object"&&(ee=ee.ptr),Wr(ve,R,U,ee)},Br.prototype.GetDoubleEntry=Br.prototype.GetDoubleEntry=function(R,U){var ee=this.ptr;return me.prepare(),R&&typeof R=="object"&&(R=R.ptr),U=U&&typeof U=="object"?U.ptr:re(U),qt(ee,R,U)},Br.prototype.GetStringEntry=Br.prototype.GetStringEntry=function(R,U){var ee=this.ptr;return me.prepare(),R&&typeof R=="object"&&(R=R.ptr),U=U&&typeof U=="object"?U.ptr:re(U),_(Nr(ee,R,U))},Br.prototype.NumEntries=Br.prototype.NumEntries=function(R){var U=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),rn(U,R)},Br.prototype.GetEntryName=Br.prototype.GetEntryName=function(R,U){var ee=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),_(cn(ee,R,U))},Br.prototype.__destroy__=Br.prototype.__destroy__=function(){gn(this.ptr)},ut.prototype=Object.create(ne.prototype),ut.prototype.constructor=ut,ut.prototype.__class__=ut,ut.__cache__={},F.Decoder=ut,ut.prototype.DecodeArrayToPointCloud=ut.prototype.DecodeArrayToPointCloud=function(R,U,ee){var ve=this.ptr;return me.prepare(),typeof R=="object"&&(R=ce(R)),U&&typeof U=="object"&&(U=U.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),X(qr(ve,R,U,ee),Ze)},ut.prototype.DecodeArrayToMesh=ut.prototype.DecodeArrayToMesh=function(R,U,ee){var ve=this.ptr;return me.prepare(),typeof R=="object"&&(R=ce(R)),U&&typeof U=="object"&&(U=U.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),X(kt(ve,R,U,ee),Ze)},ut.prototype.GetAttributeId=ut.prototype.GetAttributeId=function(R,U){var ee=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),mr(ee,R,U)},ut.prototype.GetAttributeIdByName=ut.prototype.GetAttributeIdByName=function(R,U){var ee=this.ptr;return me.prepare(),R&&typeof R=="object"&&(R=R.ptr),U=U&&typeof U=="object"?U.ptr:re(U),zr(ee,R,U)},ut.prototype.GetAttributeIdByMetadataEntry=ut.prototype.GetAttributeIdByMetadataEntry=function(R,U,ee){var ve=this.ptr;return me.prepare(),R&&typeof R=="object"&&(R=R.ptr),U=U&&typeof U=="object"?U.ptr:re(U),ee=ee&&typeof ee=="object"?ee.ptr:re(ee),cr(ve,R,U,ee)},ut.prototype.GetAttribute=ut.prototype.GetAttribute=function(R,U){var ee=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),X(Se(ee,R,U),Ve)},ut.prototype.GetAttributeByUniqueId=ut.prototype.GetAttributeByUniqueId=function(R,U){var ee=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),X(j(ee,R,U),Ve)},ut.prototype.GetMetadata=ut.prototype.GetMetadata=function(R){var U=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),X($(U,R),st)},ut.prototype.GetAttributeMetadata=ut.prototype.GetAttributeMetadata=function(R,U){var ee=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),X(ae(ee,R,U),st)},ut.prototype.GetFaceFromMesh=ut.prototype.GetFaceFromMesh=function(R,U,ee){var ve=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),!!Ae(ve,R,U,ee)},ut.prototype.GetTriangleStripsFromMesh=ut.prototype.GetTriangleStripsFromMesh=function(R,U){var ee=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),Ie(ee,R,U)},ut.prototype.GetTrianglesUInt16Array=ut.prototype.GetTrianglesUInt16Array=function(R,U,ee){var ve=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),!!Le(ve,R,U,ee)},ut.prototype.GetTrianglesUInt32Array=ut.prototype.GetTrianglesUInt32Array=function(R,U,ee){var ve=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),!!Ut(ve,R,U,ee)},ut.prototype.GetAttributeFloat=ut.prototype.GetAttributeFloat=function(R,U,ee){var ve=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),!!yr(ve,R,U,ee)},ut.prototype.GetAttributeFloatForAllPoints=ut.prototype.GetAttributeFloatForAllPoints=function(R,U,ee){var ve=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),!!Qt(ve,R,U,ee)},ut.prototype.GetAttributeIntForAllPoints=ut.prototype.GetAttributeIntForAllPoints=function(R,U,ee){var ve=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),!!Qr(ve,R,U,ee)},ut.prototype.GetAttributeInt8ForAllPoints=ut.prototype.GetAttributeInt8ForAllPoints=function(R,U,ee){var ve=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),!!hr(ve,R,U,ee)},ut.prototype.GetAttributeUInt8ForAllPoints=ut.prototype.GetAttributeUInt8ForAllPoints=function(R,U,ee){var ve=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),!!Rr(ve,R,U,ee)},ut.prototype.GetAttributeInt16ForAllPoints=ut.prototype.GetAttributeInt16ForAllPoints=function(R,U,ee){var ve=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),!!Or(ve,R,U,ee)},ut.prototype.GetAttributeUInt16ForAllPoints=ut.prototype.GetAttributeUInt16ForAllPoints=function(R,U,ee){var ve=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),!!wr(ve,R,U,ee)},ut.prototype.GetAttributeInt32ForAllPoints=ut.prototype.GetAttributeInt32ForAllPoints=function(R,U,ee){var ve=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),!!vr(ve,R,U,ee)},ut.prototype.GetAttributeUInt32ForAllPoints=ut.prototype.GetAttributeUInt32ForAllPoints=function(R,U,ee){var ve=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),!!gr(ve,R,U,ee)},ut.prototype.GetAttributeDataArrayForAllPoints=ut.prototype.GetAttributeDataArrayForAllPoints=function(R,U,ee,ve,He){var Ke=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),ee&&typeof ee=="object"&&(ee=ee.ptr),ve&&typeof ve=="object"&&(ve=ve.ptr),He&&typeof He=="object"&&(He=He.ptr),!!_t(Ke,R,U,ee,ve,He)},ut.prototype.SkipAttributeTransform=ut.prototype.SkipAttributeTransform=function(R){var U=this.ptr;R&&typeof R=="object"&&(R=R.ptr),wt(U,R)},ut.prototype.GetEncodedGeometryType_Deprecated=ut.prototype.GetEncodedGeometryType_Deprecated=function(R){var U=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),zt(U,R)},ut.prototype.DecodeBufferToPointCloud=ut.prototype.DecodeBufferToPointCloud=function(R,U){var ee=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),X(Rt(ee,R,U),Ze)},ut.prototype.DecodeBufferToMesh=ut.prototype.DecodeBufferToMesh=function(R,U){var ee=this.ptr;return R&&typeof R=="object"&&(R=R.ptr),U&&typeof U=="object"&&(U=U.ptr),X(rt(ee,R,U),Ze)},ut.prototype.__destroy__=ut.prototype.__destroy__=function(){nr(this.ptr)},function(){function R(){F.ATTRIBUTE_INVALID_TRANSFORM=Cr(),F.ATTRIBUTE_NO_TRANSFORM=Gt(),F.ATTRIBUTE_QUANTIZATION_TRANSFORM=ir(),F.ATTRIBUTE_OCTAHEDRON_TRANSFORM=lr(),F.INVALID=Qe(),F.POSITION=Zt(),F.NORMAL=St(),F.COLOR=Wt(),F.TEX_COORD=Yt(),F.GENERIC=pr(),F.INVALID_GEOMETRY_TYPE=Sr(),F.POINT_CLOUD=Dt(),F.TRIANGULAR_MESH=or(),F.DT_INVALID=Xt(),F.DT_INT8=nt(),F.DT_UINT8=dr(),F.DT_INT16=xr(),F.DT_UINT16=Mt(),F.DT_INT32=Dr(),F.DT_UINT32=er(),F.DT_INT64=Ur(),F.DT_UINT64=fn(),F.DT_FLOAT32=Gr(),F.DT_FLOAT64=Pr(),F.DT_BOOL=nn(),F.DT_TYPES_COUNT=Dn(),F.OK=on(),F.DRACO_ERROR=Cn(),F.IO_ERROR=An(),F.INVALID_PARAMETER=In(),F.UNSUPPORTED_VERSION=yn(),F.UNKNOWN_VERSION=h()}Wn?R():Li.unshift(R)}(),typeof F.onModuleParsed=="function"&&F.onModuleParsed(),F.Decoder.prototype.GetEncodedGeometryType=function(R){if(R.__class__&&R.__class__===F.DecoderBuffer)return F.Decoder.prototype.GetEncodedGeometryType_Deprecated(R);if(8>R.byteLength)return F.INVALID_GEOMETRY_TYPE;switch(R[7]){case 0:return F.POINT_CLOUD;case 1:return F.TRIANGULAR_MESH;default:return F.INVALID_GEOMETRY_TYPE}},i.ready}}();n.exports=s})(ip);var op=Ps,ap=Os,af={createEncoderModule:op,createDecoderModule:ap};const Bu=sa(ll);var sp=ln&&ln.__awaiter||function(n,e,t,s){function o(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function p(d){try{B(s.next(d))}catch(V){u(V)}}function _(d){try{B(s.throw(d))}catch(V){u(V)}}function B(d){d.done?i(d.value):o(d.value).then(p,_)}B((s=s.apply(n,e||[])).next())})},up=ln&&ln.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,o,i,u;return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(B){return function(d){return _([B,d])}}function _(B){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,B[0]&&(t=0)),t;)try{if(s=1,o&&(i=B[0]&2?o.return:B[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,B[1])).done)return i;switch(o=0,i&&(B=[B[0]&2,i.value]),B[0]){case 0:case 1:i=B;break;case 4:return t.label++,{value:B[1],done:!1};case 5:t.label++,o=B[1],B=[0];continue;case 7:B=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(B[0]===6||B[0]===2)){t=0;continue}if(B[0]===3&&(!i||B[1]>i[0]&&B[1]<i[3])){t.label=B[1];break}if(B[0]===6&&t.label<i[1]){t.label=i[1],i=B;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(B);break}i[2]&&t.ops.pop(),t.trys.pop();continue}B=e.call(n,t)}catch(d){B=[6,d],o=0}finally{s=i=0}if(B[0]&5)throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}},cp=ln&&ln.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(fs,"__esModule",{value:!0});fs.nodeIO=void 0;var rc=cp(af),fp=Bu,pa=Eu;function lp(){return sp(this,void 0,void 0,function(){var n,e,t,s,o;return up(this,function(i){switch(i.label){case 0:return e=(n=new fp.NodeIO().registerExtensions([pa.DracoMeshCompression,pa.MaterialsSpecular,pa.MaterialsEmissiveStrength,pa.TextureWebP,pa.TextureTransform])).registerDependencies,o={},t="draco3d.decoder",[4,rc.default.createDecoderModule()];case 1:return o[t]=i.sent(),s="draco3d.encoder",[4,rc.default.createEncoderModule()];case 2:return[2,e.apply(n,[(o[s]=i.sent(),o)])]}})})}fs.nodeIO=lp;var Pa={},pp=function(){var n="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FHRAOCUFHOXBKKAVC+QDF8kJJJJBK/uLEVUCUAICDTGVAICffffI0eGOCBYD1+KJJBhJJJJBBHRALALYD9gGWCDTFARbDBALAWCEFbD9gABARbDBAOCBYD1+KJJBhJJJJBBHRALALYD9gGOCDTFARbDBALAOCEFbD9gABARbDLCUADCDTADCffffI0eCBYD1+KJJBhJJJJBBHRALALYD9gGOCDTFARbDBALAOCEFbD9gABARbDWABYDBCBAVZ+TJJJB8aADCI9uHWDNADtMBABYDBHOAEHLADHRINAOALYDBCDTFGVAVYDBCEFbDBALCLFHLARCUFGRMBKKDNAItMBABYDBHLABYDLHRCBHVAIHOINARAVbDBARCLFHRALYDBAVFHVALCLFHLAOCUFGOMBKKDNADCI6MBAWCEAWCE0eHdABYDLHRABYDWHVCBHLINAECWFYDBHOAECLFYDBHDARAEYDBCDTFGWAWYDBGWCEFbDBAVAWCDTFALbDBARADCDTFGDADYDBGDCEFbDBAVADCDTFALbDBARAOCDTFGOAOYDBGOCEFbDBAVAOCDTFALbDBAECXFHEAdALCEFGL9HMBKKDNAItMBABYDLHEABYDBHLINAEAEYDBALYDB9rbDBALCLFHLAECLFHEAICUFGIMBKKKqBABAEADAIC+01JJBZ+MJJJBKqBABAEADAIC+c+JJJBZ+MJJJBK9dEEUABCfEAICDTZ+TJJJBHLCBHIDNADtMBINDNALAEYDBCDTFGBYDBCU9HMBABAIbDBAICEFHIKAECLFHEADCUFGDMBKKAIK9TEIUCBCBYD+M+KJJBGEABCIFC98gFGBbD+M+KJJBDNDNABzBCZTGD9NMBCUHIABAD9rCffIFCZ4NBCUsMEKAEHIKAIK/lEEEUDNDNAEABvCIgtMBABHIXEKDNDNADCZ9PMBABHIXEKABHIINAIAEYDBbDBAICLFAECLFYDBbDBAICWFAECWFYDBbDBAICXFAECXFYDBbDBAICZFHIAECZFHEADC9wFGDCS0MBKKADCL6MBINAIAEYDBbDBAECLFHEAICLFHIADC98FGDCI0MBKKDNADtMBINAIAErBB86BBAICEFHIAECEFHEADCUFGDMBKKABK/AEEDUDNDNABCIgtMBABHIXEKAECfEgC+B+C+EW2HLDNDNADCZ9PMBABHIXEKABHIINAIALbDBAICXFALbDBAICWFALbDBAICLFALbDBAICZFHIADC9wFGDCS0MBKKADCL6MBINAIALbDBAICLFHIADC98FGDCI0MBKKDNADtMBINAIAE86BBAICEFHIADCUFGDMBKKABK9TEIUCBCBYD+M+KJJBGEABCIFC98gFGBbD+M+KJJBDNDNABzBCZTGD9NMBCUHIABAD9rCffIFCZ4NBCUsMEKAEHIKAIK9+EIUzBHEDNDNCBYD+M+KJJBGDAECZTGI9NMBCUHEADAI9rCffIFCZ4NBCUsMEKADHEKCBABAE9rCIFC98gCBYD+M+KJJBFGDbD+M+KJJBDNADzBCZTGE9NMBADAE9rCffIFCZ4NB8aKKXBABAEZ+YJJJBK+BEEIUDNAB+8GDCl4GICfEgGLCfEsMBDNALMBDNABjBBBB9cMBAECBbDBABSKABjBBJ9fnAEZ+XJJJBHBAEAEYDBCNFbDBABSKAEAICfEgC+CUFbDBADCfff+D94gCJJJ/4Iv++HBKABK+gEBDNDNAECJE9IMBABjBBBUnHBDNAECfE9PMBAEC+BUFHEXDKABjBBBUnHBAECPDAECPD6eC+C9+FHEXEKAEC+BU9KMBABjBBJXnHBDNAEC+b9+9NMBAEC/mBFHEXEKABjBBJXnHBAEC+299AEC+2990eC/MEFHEKABAEClTCJJJ/8IF++nKK+eDDBCJWK+EDB4+H9W9n94+p+Gw+J9o+YE9pBBBBBBEBBBDBBBEBBBDBBBBBBBDBBBBBBBEBBBBBBB+L29Hz/69+9Kz/n/76z/RG97z/Z/O9Xz8j/b85z/+/U9Yz/B/K9hz+2/z9dz9E+L9Mz59a8kz+R/t3z+a+Zyz79ohz/J4++8++y+d9v8+BBBB9S+49+z8r+Hbz9m9m/m8+l/Z/O8+/8+pg89Q/X+j878r+Hq8++m+b/E87BBBBBBJzBBJzBBJz+e/v/n8++y+dSz9I/h/68+XD/r8+/H0838+/w+nOzBBBB+wv9o8+UF888+9I/h/68+9C9g/l89/N/M9M89/d8kO8+BBBBF+8Tz9M836zs+2azl/Zpzz818ez9E+LXz/u98f8+819e/68+BC+EQKXEBBBDBBBAwBB",e=new Uint8Array([32,0,65,2,1,106,34,33,3,128,11,4,13,64,6,253,10,7,15,116,127,5,8,12,40,16,19,54,20,9,27,255,113,17,42,67,24,23,146,148,18,14,22,45,70,69,56,114,101,21,25,63,75,136,108,28,118,29,73,115]);if(typeof WebAssembly!="object")return{supported:!1};var t,s=WebAssembly.instantiate(o(n),{}).then(function(I){t=I.instance,t.exports.__wasm_call_ctors(),t.exports.meshopt_encodeVertexVersion(0),t.exports.meshopt_encodeIndexVersion(1)});function o(I){for(var L=new Uint8Array(I.length),W=0;W<I.length;++W){var le=I.charCodeAt(W);L[W]=le>96?le-71:le>64?le-65:le>47?le+4:le>46?63:62}for(var ne=0,W=0;W<I.length;++W)L[ne++]=L[W]<60?e[L[W]]:(L[W]-60)*64+L[++W];return L.buffer.slice(0,ne)}function i(I){if(!I)throw new Error("Assertion failed")}function u(I){return new Uint8Array(I.buffer,I.byteOffset,I.byteLength)}function p(I,L,W){var le=t.exports.sbrk,ne=le(I.length*4),q=le(L*4),X=new Uint8Array(t.exports.memory.buffer),re=u(I);X.set(re,ne),W&&W(ne,ne,I.length,L);var ce=t.exports.meshopt_optimizeVertexFetchRemap(q,ne,I.length,L);X=new Uint8Array(t.exports.memory.buffer);var _e=new Uint32Array(L);new Uint8Array(_e.buffer).set(X.subarray(q,q+L*4)),re.set(X.subarray(ne,ne+I.length*4)),le(ne-le(0));for(var ye=0;ye<I.length;++ye)I[ye]=_e[I[ye]];return[_e,ce]}function _(I,L,W,le,ne){var q=t.exports.sbrk,X=q(L),re=q(le*ne),ce=new Uint8Array(t.exports.memory.buffer);ce.set(u(W),re);var _e=I(X,L,re,le,ne),ye=new Uint8Array(_e);return ye.set(ce.subarray(X,X+_e)),q(X-q(0)),ye}function B(I){for(var L=0,W=0;W<I.length;++W){var le=I[W];L=L<le?le:L}return L}function d(I,L){if(i(L==2||L==4),L==4)return new Uint32Array(I.buffer,I.byteOffset,I.byteLength/4);var W=new Uint16Array(I.buffer,I.byteOffset,I.byteLength/2);return new Uint32Array(W)}function V(I,L,W,le,ne,q){var X=t.exports.sbrk,re=X(W*le),ce=X(W*q),_e=new Uint8Array(t.exports.memory.buffer);_e.set(u(L),ce),I(re,W,le,ne,ce);var ye=new Uint8Array(W*le);return ye.set(_e.subarray(re,re+W*le)),X(re-X(0)),ye}return{ready:s,supported:!0,reorderMesh:function(I,L,W){var le=L?W?t.exports.meshopt_optimizeVertexCacheStrip:t.exports.meshopt_optimizeVertexCache:void 0;return p(I,B(I)+1,le)},encodeVertexBuffer:function(I,L,W){i(W>0&&W<=256),i(W%4==0);var le=t.exports.meshopt_encodeVertexBufferBound(L,W);return _(t.exports.meshopt_encodeVertexBuffer,le,I,L,W)},encodeIndexBuffer:function(I,L,W){i(W==2||W==4),i(L%3==0);var le=d(I,W),ne=t.exports.meshopt_encodeIndexBufferBound(L,B(le)+1);return _(t.exports.meshopt_encodeIndexBuffer,ne,le,L,4)},encodeIndexSequence:function(I,L,W){i(W==2||W==4);var le=d(I,W),ne=t.exports.meshopt_encodeIndexSequenceBound(L,B(le)+1);return _(t.exports.meshopt_encodeIndexSequence,ne,le,L,4)},encodeGltfBuffer:function(I,L,W,le){var ne={ATTRIBUTES:this.encodeVertexBuffer,TRIANGLES:this.encodeIndexBuffer,INDICES:this.encodeIndexSequence};return i(ne[le]),ne[le](I,L,W)},encodeFilterOct:function(I,L,W,le){return i(W==4||W==8),i(le>=1&&le<=16),V(t.exports.meshopt_encodeFilterOct,I,L,W,le,16)},encodeFilterQuat:function(I,L,W,le){return i(W==8),i(le>=4&&le<=16),V(t.exports.meshopt_encodeFilterQuat,I,L,W,le,16)},encodeFilterExp:function(I,L,W,le){return i(W>0&&W%4==0),i(le>=1&&le<=24),V(t.exports.meshopt_encodeFilterExp,I,L,W,le,W)}}}(),dp=function(){var n="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",e="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",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),s=new Uint8Array([32,0,65,2,1,106,34,33,3,128,11,4,13,64,6,253,10,7,15,116,127,5,8,12,40,16,19,54,20,9,27,255,113,17,42,67,24,23,146,148,18,14,22,45,70,69,56,114,101,21,25,63,75,136,108,28,118,29,73,115]);if(typeof WebAssembly!="object")return{supported:!1};var o=n;WebAssembly.validate(t)&&(o=e);var i,u=WebAssembly.instantiate(p(o),{}).then(function(V){i=V.instance,i.exports.__wasm_call_ctors()});function p(V){for(var I=new Uint8Array(V.length),L=0;L<V.length;++L){var W=V.charCodeAt(L);I[L]=W>96?W-71:W>64?W-65:W>47?W+4:W>46?63:62}for(var le=0,L=0;L<V.length;++L)I[le++]=I[L]<60?s[I[L]]:(I[L]-60)*64+I[++L];return I.buffer.slice(0,le)}function _(V,I,L,W,le,ne){var q=i.exports.sbrk,X=L+3&-4,re=q(X*W),ce=q(le.length),_e=new Uint8Array(i.exports.memory.buffer);_e.set(le,ce);var ye=V(re,L,W,ce,le.length);if(ye==0&&ne&&ne(re,X,W),I.set(_e.subarray(re,re+L*W)),q(re-q(0)),ye!=0)throw new Error("Malformed buffer data: "+ye)}var B={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},d={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return{ready:u,supported:!0,decodeVertexBuffer:function(V,I,L,W,le){_(i.exports.meshopt_decodeVertexBuffer,V,I,L,W,i.exports[B[le]])},decodeIndexBuffer:function(V,I,L,W){_(i.exports.meshopt_decodeIndexBuffer,V,I,L,W)},decodeIndexSequence:function(V,I,L,W){_(i.exports.meshopt_decodeIndexSequence,V,I,L,W)},decodeGltfBuffer:function(V,I,L,W,le,ne){_(i.exports[d[le]],V,I,L,W,i.exports[B[ne]])}}}(),_p=function(){var n="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iDZGK+TjBBBB+XGQALiDLALiDcGX+TGMAMAQ9deGQALiDWALiDkGM+TGpApAQ9deHpDNABtMBADtMBjBBBBjBBJzAp+VApjBBBB9beHQINABAQABiDBAK+TnuDBABCLFGIAQAIiDBAX+TnuDBABCWFGIAQAIiDBAM+TnuDBABCXFHBADCUFGDMBKKApK+qDIDUI99DUCBHI8jJJJJBCA9rGLCZFCWFCBYD11JJBbDBALCB8pDJ1JJB83IZALCWFCBYDn1JJBbDBALCB8pD+M1JJB83IBDNDNAEMBjBBJfHVjBBJfHOjBBJfHRXEKADCD4CDTHWINCBHDINALCZFADFGdABADFiDBGOAdiDBGRARAO9eeuDBALADFGdAOAdiDBGRARAO9deuDBADCLFGDCX9HMBKABAWFHBAICEFGIAE9HMBKALiDWALiDk+THRALiDLALiDc+THOALiDBALiDZ+THVKAVjBBBB+XGVAOAOAV9deGOARARAO9deK9dEEUABCfEAICDTZ1JJJBHLCBHIDNADtMBINDNALAEYDBCDTFGBYDBCU9HMBABAIbDBAICEFHIKAECLFHEADCUFGDMBKKAIK9TEIUCBCBYD/01JJBGEABCIFC98gFGBbD/01JJBDNDNABzBCZTGD9NMBCUHIABAD9rCffIFCZ4NBCUsMEKAEHIKAIK/lEEEUDNDNAEABvCIgtMBABHIXEKDNDNADCZ9PMBABHIXEKABHIINAIAEYDBbDBAICLFAECLFYDBbDBAICWFAECWFYDBbDBAICXFAECXFYDBbDBAICZFHIAECZFHEADC9wFGDCS0MBKKADCL6MBINAIAEYDBbDBAECLFHEAICLFHIADC98FGDCI0MBKKDNADtMBINAIAErBB86BBAICEFHIAECEFHEADCUFGDMBKKABK/AEEDUDNDNABCIgtMBABHIXEKAECfEgC+B+C+EW2HLDNDNADCZ9PMBABHIXEKABHIINAIALbDBAICXFALbDBAICWFALbDBAICLFALbDBAICZFHIADC9wFGDCS0MBKKADCL6MBINAIALbDBAICLFHIADC98FGDCI0MBKKDNADtMBINAIAE86BBAICEFHIADCUFGDMBKKABK9TEIUCBCBYD/01JJBGEABCIFC98gFGBbD/01JJBDNDNABzBCZTGD9NMBCUHIABAD9rCffIFCZ4NBCUsMEKAEHIKAIK9+EIUzBHEDNDNCBYD/01JJBGDAECZTGI9NMBCUHEADAI9rCffIFCZ4NBCUsMEKADHEKCBABAE9rCIFC98gCBYD/01JJBFGDbD/01JJBDNADzBCZTGE9NMBADAE9rCffIFCZ4NB8aKK6EIUCBHIDNADtMBDNINABrBBGLAErBBGV9HMEAECEFHEABCEFHBADCUFGDMBXDKKALAV9rHIKAIKK+CEDBCJWK9pffUUffUUffUUffUfffUfffUfBBBBBBBBEEEBEEBEBBEEEBEBBBBBEBEBBBBBEBBBDBBBBBBBBBBBBBBBEEEEEBEBBBBBEBBBBBEEBBBBBBC/sWKXEBBBDBBBJ9kBB",e=new Uint8Array([32,0,65,2,1,106,34,33,3,128,11,4,13,64,6,253,10,7,15,116,127,5,8,12,40,16,19,54,20,9,27,255,113,17,42,67,24,23,146,148,18,14,22,45,70,69,56,114,101,21,25,63,75,136,108,28,118,29,73,115]);if(typeof WebAssembly!="object")return{supported:!1};var t,s=WebAssembly.instantiate(o(n),{}).then(function(I){t=I.instance,t.exports.__wasm_call_ctors()});function o(I){for(var L=new Uint8Array(I.length),W=0;W<I.length;++W){var le=I.charCodeAt(W);L[W]=le>96?le-71:le>64?le-65:le>47?le+4:le>46?63:62}for(var ne=0,W=0;W<I.length;++W)L[ne++]=L[W]<60?e[L[W]]:(L[W]-60)*64+L[++W];return L.buffer.slice(0,ne)}function i(I){if(!I)throw new Error("Assertion failed")}function u(I){return new Uint8Array(I.buffer,I.byteOffset,I.byteLength)}function p(I,L){var W=t.exports.sbrk,le=W(I.length*4),ne=W(L*4),q=new Uint8Array(t.exports.memory.buffer),X=u(I);q.set(X,le);var re=t.exports.meshopt_optimizeVertexFetchRemap(ne,le,I.length,L);q=new Uint8Array(t.exports.memory.buffer);var ce=new Uint32Array(L);new Uint8Array(ce.buffer).set(q.subarray(ne,ne+L*4)),X.set(q.subarray(le,le+I.length*4)),W(le-W(0));for(var _e=0;_e<I.length;++_e)I[_e]=ce[I[_e]];return[ce,re]}function _(I){for(var L=0,W=0;W<I.length;++W){var le=I[W];L=L<le?le:L}return L}function B(I,L,W,le,ne,q,X,re,ce){var _e=t.exports.sbrk,ye=_e(4),Ue=_e(W*4),Ge=_e(ne*q),Ve=_e(W*4),ke=new Uint8Array(t.exports.memory.buffer);ke.set(u(le),Ge),ke.set(u(L),Ve);var bt=I(Ue,Ve,W,Ge,ne,q,X,re,ce,ye);ke=new Uint8Array(t.exports.memory.buffer);var et=new Uint32Array(bt);u(et).set(ke.subarray(Ue,Ue+bt*4));var Pt=new Float32Array(1);return u(Pt).set(ke.subarray(ye,ye+4)),_e(ye-_e(0)),[et,Pt[0]]}function d(I,L,W,le){var ne=t.exports.sbrk,q=ne(W*le),X=new Uint8Array(t.exports.memory.buffer);X.set(u(L),q);var re=I(q,W,le);return ne(q-ne(0)),re}var V={LockBorder:1};return{ready:s,supported:!0,compactMesh:function(I){i(I instanceof Uint32Array||I instanceof Int32Array||I instanceof Uint16Array||I instanceof Int16Array),i(I.length%3==0);var L=I.BYTES_PER_ELEMENT==4?I:new Uint32Array(I);return p(L,_(I)+1)},simplify:function(I,L,W,le,ne,q){i(I instanceof Uint32Array||I instanceof Int32Array||I instanceof Uint16Array||I instanceof Int16Array),i(I.length%3==0),i(L instanceof Float32Array),i(L.length%W==0),i(W>=3),i(le%3==0);for(var X=0,re=0;re<(q?q.length:0);++re)X|=V[q[re]];var ce=I.BYTES_PER_ELEMENT==4?I:new Uint32Array(I),_e=B(t.exports.meshopt_simplify,ce,I.length,L,L.length,W*4,le,ne,X);return _e[0]=I instanceof Uint32Array?_e[0]:new I.constructor(_e[0]),_e},getScale:function(I,L){return i(I instanceof Float32Array),i(I.length%L==0),d(t.exports.meshopt_simplifyScale,I,I.length,L*4)}}}();const hp=Object.freeze(Object.defineProperty({__proto__:null,MeshoptDecoder:dp,MeshoptEncoder:pp,MeshoptSimplifier:_p},Symbol.toStringTag,{value:"Module"})),gp=sa(hp);function Ap(n){for(var e=new Array(n),t=0;t<n;++t)e[t]=t;return e}var mp=Ap;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var yp=function(n){return n!=null&&(sf(n)||vp(n)||!!n._isBuffer)};function sf(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function vp(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&sf(n.slice(0,0))}var bp=mp,Ep=yp,Bp=typeof Float64Array<"u";function Cp(n,e){return n[0]-e[0]}function Tp(){var n=this.stride,e=new Array(n.length),t;for(t=0;t<e.length;++t)e[t]=[Math.abs(n[t]),t];e.sort(Cp);var s=new Array(e.length);for(t=0;t<s.length;++t)s[t]=e[t][1];return s}function wp(n,e){var t=["View",e,"d",n].join("");e<0&&(t="View_Nil"+n);var s=n==="generic";if(e===-1){var o="function "+t+"(a){this.data=a;};var proto="+t+".prototype;proto.dtype='"+n+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+t+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+t+"(a){return new "+t+"(a);}",le=new Function(o);return le()}else if(e===0){var o="function "+t+"(a,d) {this.data = a;this.offset = d};var proto="+t+".prototype;proto.dtype='"+n+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+t+"_copy() {return new "+t+"(this.data,this.offset)};proto.pick=function "+t+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+t+"_get(){return "+(s?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+t+"_set(v){return "+(s?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+t+"(a,b,c,d){return new "+t+"(a,d)}",le=new Function("TrivialArray",o);return le(Qa[n][0])}var o=["'use strict'"],i=bp(e),u=i.map(function(ne){return"i"+ne}),p="this.offset+"+i.map(function(ne){return"this.stride["+ne+"]*i"+ne}).join("+"),_=i.map(function(ne){return"b"+ne}).join(","),B=i.map(function(ne){return"c"+ne}).join(",");o.push("function "+t+"(a,"+_+","+B+",d){this.data=a","this.shape=["+_+"]","this.stride=["+B+"]","this.offset=d|0}","var proto="+t+".prototype","proto.dtype='"+n+"'","proto.dimension="+e),o.push("Object.defineProperty(proto,'size',{get:function "+t+"_size(){return "+i.map(function(ne){return"this.shape["+ne+"]"}).join("*"),"}})"),e===1?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),e<4?(o.push("function "+t+"_order(){"),e===2?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):e===3&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+t+"_set("+u.join(",")+",v){"),s?o.push("return this.data.set("+p+",v)}"):o.push("return this.data["+p+"]=v}"),o.push("proto.get=function "+t+"_get("+u.join(",")+"){"),s?o.push("return this.data.get("+p+")}"):o.push("return this.data["+p+"]}"),o.push("proto.index=function "+t+"_index(",u.join(),"){return "+p+"}"),o.push("proto.hi=function "+t+"_hi("+u.join(",")+"){return new "+t+"(this.data,"+i.map(function(ne){return["(typeof i",ne,"!=='number'||i",ne,"<0)?this.shape[",ne,"]:i",ne,"|0"].join("")}).join(",")+","+i.map(function(ne){return"this.stride["+ne+"]"}).join(",")+",this.offset)}");var d=i.map(function(ne){return"a"+ne+"=this.shape["+ne+"]"}),V=i.map(function(ne){return"c"+ne+"=this.stride["+ne+"]"});o.push("proto.lo=function "+t+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+V.join(","));for(var I=0;I<e;++I)o.push("if(typeof i"+I+"==='number'&&i"+I+">=0){d=i"+I+"|0;b+=c"+I+"*d;a"+I+"-=d}");o.push("return new "+t+"(this.data,"+i.map(function(ne){return"a"+ne}).join(",")+","+i.map(function(ne){return"c"+ne}).join(",")+",b)}"),o.push("proto.step=function "+t+"_step("+u.join(",")+"){var "+i.map(function(ne){return"a"+ne+"=this.shape["+ne+"]"}).join(",")+","+i.map(function(ne){return"b"+ne+"=this.stride["+ne+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var I=0;I<e;++I)o.push("if(typeof i"+I+"==='number'){d=i"+I+"|0;if(d<0){c+=b"+I+"*(a"+I+"-1);a"+I+"=ceil(-a"+I+"/d)}else{a"+I+"=ceil(a"+I+"/d)}b"+I+"*=d}");o.push("return new "+t+"(this.data,"+i.map(function(ne){return"a"+ne}).join(",")+","+i.map(function(ne){return"b"+ne}).join(",")+",c)}");for(var L=new Array(e),W=new Array(e),I=0;I<e;++I)L[I]="a[i"+I+"]",W[I]="b[i"+I+"]";o.push("proto.transpose=function "+t+"_transpose("+u+"){"+u.map(function(ne,q){return ne+"=("+ne+"===undefined?"+q+":"+ne+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+t+"(this.data,"+L.join(",")+","+W.join(",")+",this.offset)}"),o.push("proto.pick=function "+t+"_pick("+u+"){var a=[],b=[],c=this.offset");for(var I=0;I<e;++I)o.push("if(typeof i"+I+"==='number'&&i"+I+">=0){c=(c+this.stride["+I+"]*i"+I+")|0}else{a.push(this.shape["+I+"]);b.push(this.stride["+I+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+t+"(data,shape,stride,offset){return new "+t+"(data,"+i.map(function(ne){return"shape["+ne+"]"}).join(",")+","+i.map(function(ne){return"stride["+ne+"]"}).join(",")+",offset)}");var le=new Function("CTOR_LIST","ORDER",o.join(`
`));return le(Qa[n],Tp)}function Dp(n){if(Ep(n))return"buffer";if(Bp)switch(Object.prototype.toString.call(n)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(n)?"array":"generic"}var Qa={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function Ip(n,e,t,s){if(n===void 0){var B=Qa.array[0];return B([])}else typeof n=="number"&&(n=[n]);e===void 0&&(e=[n.length]);var o=e.length;if(t===void 0){t=new Array(o);for(var i=o-1,u=1;i>=0;--i)t[i]=u,u*=e[i]}if(s===void 0){s=0;for(var i=0;i<o;++i)t[i]<0&&(s-=(e[i]-1)*t[i])}for(var p=Dp(n),_=Qa[p];_.length<=o+1;)_.push(wp(p,_.length-1));var B=_[o+1];return B(n,e,t,s)}var fo=Ip,Fo={};function Fp(n,e){for(var t=1,s=n.length,o=n[0],i=n[0],u=1;u<s;++u)if(i=o,o=n[u],e(o,i)){if(u===t){t++;continue}n[t++]=o}return n.length=t,n}function Rp(n){for(var e=1,t=n.length,s=n[0],o=n[0],i=1;i<t;++i,o=s)if(o=s,s=n[i],s!==o){if(i===e){e++;continue}n[e++]=s}return n.length=e,n}function Sp(n,e,t){return n.length===0?n:e?(t||n.sort(e),Fp(n,e)):(t||n.sort(),Rp(n))}var Pp=Sp,Op=Pp;function uf(n,e,t){var s=n.length,o=e.arrayArgs.length,i=e.indexArgs.length>0,u=[],p=[],_=0,B=0,d,V;for(d=0;d<s;++d)p.push(["i",d,"=0"].join(""));for(V=0;V<o;++V)for(d=0;d<s;++d)B=_,_=n[d],d===0?p.push(["d",V,"s",d,"=t",V,"p",_].join("")):p.push(["d",V,"s",d,"=(t",V,"p",_,"-s",B,"*t",V,"p",B,")"].join(""));for(p.length>0&&u.push("var "+p.join(",")),d=s-1;d>=0;--d)_=n[d],u.push(["for(i",d,"=0;i",d,"<s",_,";++i",d,"){"].join(""));for(u.push(t),d=0;d<s;++d){for(B=_,_=n[d],V=0;V<o;++V)u.push(["p",V,"+=d",V,"s",d].join(""));i&&(d>0&&u.push(["index[",B,"]-=s",B].join("")),u.push(["++index[",_,"]"].join(""))),u.push("}")}return u.join(`
`)}function Mp(n,e,t,s){for(var o=e.length,i=t.arrayArgs.length,u=t.blockSize,p=t.indexArgs.length>0,_=[],B=0;B<i;++B)_.push(["var offset",B,"=p",B].join(""));for(var B=n;B<o;++B)_.push(["for(var j"+B+"=SS[",e[B],"]|0;j",B,">0;){"].join("")),_.push(["if(j",B,"<",u,"){"].join("")),_.push(["s",e[B],"=j",B].join("")),_.push(["j",B,"=0"].join("")),_.push(["}else{s",e[B],"=",u].join("")),_.push(["j",B,"-=",u,"}"].join("")),p&&_.push(["index[",e[B],"]=j",B].join(""));for(var B=0;B<i;++B){for(var d=["offset"+B],V=n;V<o;++V)d.push(["j",V,"*t",B,"p",e[V]].join(""));_.push(["p",B,"=(",d.join("+"),")"].join(""))}_.push(uf(e,t,s));for(var B=n;B<o;++B)_.push("}");return _.join(`
`)}function Np(n){for(var e=0,t=n[0].length;e<t;){for(var s=1;s<n.length;++s)if(n[s][e]!==n[0][e])return e;++e}return e}function Es(n,e,t){for(var s=n.body,o=[],i=[],u=0;u<n.args.length;++u){var p=n.args[u];if(!(p.count<=0)){var _=new RegExp(p.name,"g"),B="",d=e.arrayArgs.indexOf(u);switch(e.argTypes[u]){case"offset":var V=e.offsetArgIndex.indexOf(u),I=e.offsetArgs[V];d=I.array,B="+q"+V;case"array":B="p"+d+B;var L="l"+u,W="a"+d;if(e.arrayBlockIndices[d]===0)p.count===1?t[d]==="generic"?p.lvalue?(o.push(["var ",L,"=",W,".get(",B,")"].join("")),s=s.replace(_,L),i.push([W,".set(",B,",",L,")"].join(""))):s=s.replace(_,[W,".get(",B,")"].join("")):s=s.replace(_,[W,"[",B,"]"].join("")):t[d]==="generic"?(o.push(["var ",L,"=",W,".get(",B,")"].join("")),s=s.replace(_,L),p.lvalue&&i.push([W,".set(",B,",",L,")"].join(""))):(o.push(["var ",L,"=",W,"[",B,"]"].join("")),s=s.replace(_,L),p.lvalue&&i.push([W,"[",B,"]=",L].join("")));else{for(var le=[p.name],ne=[B],q=0;q<Math.abs(e.arrayBlockIndices[d]);q++)le.push("\\s*\\[([^\\]]+)\\]"),ne.push("$"+(q+1)+"*t"+d+"b"+q);if(_=new RegExp(le.join(""),"g"),B=ne.join("+"),t[d]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");s=s.replace(_,[W,"[",B,"]"].join(""))}break;case"scalar":s=s.replace(_,"Y"+e.scalarArgs.indexOf(u));break;case"index":s=s.replace(_,"index");break;case"shape":s=s.replace(_,"shape");break}}}return[o.join(`
`),s,i.join(`
`)].join(`
`).trim()}function Lp(n){for(var e=new Array(n.length),t=!0,s=0;s<n.length;++s){var o=n[s],i=o.match(/\d+/);i?i=i[0]:i="",o.charAt(0)===0?e[s]="u"+o.charAt(1)+i:e[s]=o.charAt(0)+i,s>0&&(t=t&&e[s]===e[s-1])}return t?e[0]:e.join("")}function xp(n,e){for(var t=e[1].length-Math.abs(n.arrayBlockIndices[0])|0,s=new Array(n.arrayArgs.length),o=new Array(n.arrayArgs.length),i=0;i<n.arrayArgs.length;++i)o[i]=e[2*i],s[i]=e[2*i+1];for(var u=[],p=[],_=[],B=[],d=[],i=0;i<n.arrayArgs.length;++i){n.arrayBlockIndices[i]<0?(_.push(0),B.push(t),u.push(t),p.push(t+n.arrayBlockIndices[i])):(_.push(n.arrayBlockIndices[i]),B.push(n.arrayBlockIndices[i]+t),u.push(0),p.push(n.arrayBlockIndices[i]));for(var V=[],I=0;I<s[i].length;I++)_[i]<=s[i][I]&&s[i][I]<B[i]&&V.push(s[i][I]-_[i]);d.push(V)}for(var L=["SS"],W=["'use strict'"],le=[],I=0;I<t;++I)le.push(["s",I,"=SS[",I,"]"].join(""));for(var i=0;i<n.arrayArgs.length;++i){L.push("a"+i),L.push("t"+i),L.push("p"+i);for(var I=0;I<t;++I)le.push(["t",i,"p",I,"=t",i,"[",_[i]+I,"]"].join(""));for(var I=0;I<Math.abs(n.arrayBlockIndices[i]);++I)le.push(["t",i,"b",I,"=t",i,"[",u[i]+I,"]"].join(""))}for(var i=0;i<n.scalarArgs.length;++i)L.push("Y"+i);if(n.shapeArgs.length>0&&le.push("shape=SS.slice(0)"),n.indexArgs.length>0){for(var ne=new Array(t),i=0;i<t;++i)ne[i]="0";le.push(["index=[",ne.join(","),"]"].join(""))}for(var i=0;i<n.offsetArgs.length;++i){for(var q=n.offsetArgs[i],X=[],I=0;I<q.offset.length;++I)q.offset[I]!==0&&(q.offset[I]===1?X.push(["t",q.array,"p",I].join("")):X.push([q.offset[I],"*t",q.array,"p",I].join("")));X.length===0?le.push("q"+i+"=0"):le.push(["q",i,"=",X.join("+")].join(""))}var re=Op([].concat(n.pre.thisVars).concat(n.body.thisVars).concat(n.post.thisVars));le=le.concat(re),le.length>0&&W.push("var "+le.join(","));for(var i=0;i<n.arrayArgs.length;++i)W.push("p"+i+"|=0");n.pre.body.length>3&&W.push(Es(n.pre,n,o));var ce=Es(n.body,n,o),_e=Np(d);_e<t?W.push(Mp(_e,d[0],n,ce)):W.push(uf(d[0],n,ce)),n.post.body.length>3&&W.push(Es(n.post,n,o)),n.debug&&console.log("-----Generated cwise routine for ",e,`:
`+W.join(`
`)+`
----------`);var ye=[n.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",_e,Lp(o)].join(""),Ue=new Function(["function ",ye,"(",L.join(","),"){",W.join(`
`),"} return ",ye].join(""));return Ue()}var Up=xp,Gp=Up;function Hp(n){var e=["'use strict'","var CACHED={}"],t=[],s=n.funcName+"_cwise_thunk";e.push(["return function ",s,"(",n.shimArgs.join(","),"){"].join(""));for(var o=[],i=[],u=[["array",n.arrayArgs[0],".shape.slice(",Math.max(0,n.arrayBlockIndices[0]),n.arrayBlockIndices[0]<0?","+n.arrayBlockIndices[0]+")":")"].join("")],p=[],_=[],B=0;B<n.arrayArgs.length;++B){var d=n.arrayArgs[B];t.push(["t",d,"=array",d,".dtype,","r",d,"=array",d,".order"].join("")),o.push("t"+d),o.push("r"+d),i.push("t"+d),i.push("r"+d+".join()"),u.push("array"+d+".data"),u.push("array"+d+".stride"),u.push("array"+d+".offset|0"),B>0&&(p.push("array"+n.arrayArgs[0]+".shape.length===array"+d+".shape.length+"+(Math.abs(n.arrayBlockIndices[0])-Math.abs(n.arrayBlockIndices[B]))),_.push("array"+n.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,n.arrayBlockIndices[0])+"]===array"+d+".shape[shapeIndex+"+Math.max(0,n.arrayBlockIndices[B])+"]"))}n.arrayArgs.length>1&&(e.push("if (!("+p.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+n.arrayArgs[0]+".shape.length-"+Math.abs(n.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),e.push("if (!("+_.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var B=0;B<n.scalarArgs.length;++B)u.push("scalar"+n.scalarArgs[B]);t.push(["type=[",i.join(","),"].join()"].join("")),t.push("proc=CACHED[type]"),e.push("var "+t.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",u.join(","),")}"].join("")),n.debug&&console.log(`-----Generated thunk:
`+e.join(`
`)+`
----------`);var V=new Function("compile",e.join(`
`));return V(Gp.bind(void 0,n))}var jp=Hp,kp=jp;function Wp(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function Vp(n){var e=new Wp;e.pre=n.pre,e.body=n.body,e.post=n.post;var t=n.args.slice(0);e.argTypes=t;for(var s=0;s<t.length;++s){var o=t[s];if(o==="array"||typeof o=="object"&&o.blockIndices){if(e.argTypes[s]="array",e.arrayArgs.push(s),e.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),e.shimArgs.push("array"+s),s<e.pre.args.length&&e.pre.args[s].count>0)throw new Error("cwise: pre() block may not reference array args");if(s<e.post.args.length&&e.post.args[s].count>0)throw new Error("cwise: post() block may not reference array args")}else if(o==="scalar")e.scalarArgs.push(s),e.shimArgs.push("scalar"+s);else if(o==="index"){if(e.indexArgs.push(s),s<e.pre.args.length&&e.pre.args[s].count>0)throw new Error("cwise: pre() block may not reference array index");if(s<e.body.args.length&&e.body.args[s].lvalue)throw new Error("cwise: body() block may not write to array index");if(s<e.post.args.length&&e.post.args[s].count>0)throw new Error("cwise: post() block may not reference array index")}else if(o==="shape"){if(e.shapeArgs.push(s),s<e.pre.args.length&&e.pre.args[s].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(s<e.body.args.length&&e.body.args[s].lvalue)throw new Error("cwise: body() block may not write to array shape");if(s<e.post.args.length&&e.post.args[s].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof o=="object"&&o.offset)e.argTypes[s]="offset",e.offsetArgs.push({array:o.array,offset:o.offset}),e.offsetArgIndex.push(s);else throw new Error("cwise: Unknown argument type "+t[s])}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>t.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>t.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>t.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!n.printCode||!!n.debug,e.funcName=n.funcName||"cwise",e.blockSize=n.blockSize||64,kp(e)}var Kp=Vp;(function(n){var e=Kp,t={body:"",args:[],thisVars:[],localVars:[]};function s(I){if(!I)return t;for(var L=0;L<I.args.length;++L){var W=I.args[L];L===0?I.args[L]={name:W,lvalue:!0,rvalue:!!I.rvalue,count:I.count||1}:I.args[L]={name:W,lvalue:!1,rvalue:!0,count:1}}return I.thisVars||(I.thisVars=[]),I.localVars||(I.localVars=[]),I}function o(I){return e({args:I.args,pre:s(I.pre),body:s(I.body),post:s(I.proc),funcName:I.funcName})}function i(I){for(var L=[],W=0;W<I.args.length;++W)L.push("a"+W);var le=new Function("P",["return function ",I.funcName,"_ndarrayops(",L.join(","),") {P(",L.join(","),");return a0}"].join(""));return le(o(I))}var u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var I in u){var L=u[I];n[I]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+L+"c"},funcName:I}),n[I+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a"+L+"=b"},rvalue:!0,funcName:I+"eq"}),n[I+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+L+"s"},funcName:I+"s"}),n[I+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a"+L+"=s"},rvalue:!0,funcName:I+"seq"})}})();var p={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var I in p){var L=p[I];n[I]=i({args:["array","array"],body:{args:["a","b"],body:"a="+L+"b"},funcName:I}),n[I+"eq"]=i({args:["array"],body:{args:["a"],body:"a="+L+"a"},rvalue:!0,count:2,funcName:I+"eq"})}})();var _={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var I in _){var L=_[I];n[I]=i({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+L+"c"},funcName:I}),n[I+"s"]=i({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+L+"s"},funcName:I+"s"}),n[I+"eq"]=i({args:["array","array"],body:{args:["a","b"],body:"a=a"+L+"b"},rvalue:!0,count:2,funcName:I+"eq"}),n[I+"seq"]=i({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+L+"s"},rvalue:!0,count:2,funcName:I+"seq"})}})();var B=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var I=0;I<B.length;++I){var L=B[I];n[L]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+L,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:L}),n[L+"eq"]=i({args:["array"],pre:{args:[],body:"this_f=Math."+L,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:L+"eq"})}})();var d=["max","min","atan2","pow"];(function(){for(var I=0;I<d.length;++I){var L=d[I];n[L]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+L,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:L}),n[L+"s"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+L,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:L+"s"}),n[L+"eq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+L,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:L+"eq"}),n[L+"seq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+L,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:L+"seq"})}})();var V=["atan2","pow"];(function(){for(var I=0;I<V.length;++I){var L=V[I];n[L+"op"]=i({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+L,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:L+"op"}),n[L+"ops"]=i({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+L,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:L+"ops"}),n[L+"opeq"]=i({args:["array","array"],pre:{args:[],body:"this_f=Math."+L,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:L+"opeq"}),n[L+"opseq"]=i({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+L,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:L+"opseq"})}})(),n.any=e({args:["array"],pre:t,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),n.all=e({args:["array"],pre:t,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),n.sum=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),n.prod=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),n.norm2squared=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),n.norm2=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),n.norminf=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),n.norm1=e({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),n.sup=e({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.inf=e({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),n.argmin=e({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.argmax=e({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),n.random=i({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),n.assign=i({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),n.assigns=i({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),n.equals=e({args:["array","array"],pre:t,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})})(Fo);function Jp(n,e,t={}){const s=document.createElement("canvas");s.width=n.shape[0],s.height=n.shape[1];const o=s.getContext("2d"),i=o.getImageData(0,0,s.width,s.height);try{cf(n,i.data)}catch(p){return Cu.from(Promise.reject(p))}o.putImageData(i,0,0);const u=t.quality?t.quality/100:void 0;switch(e){case"canvas":return s;case"jpg":case"jpeg":return nc(s,"image/jpeg",u);case"png":return nc(s,"image/png");default:throw new Error("[ndarray-pixels] Unsupported file type: "+e)}}function nc(n,e,t){const s=new Promise((o,i)=>{n.toBlob(async u=>{u?o(new Uint8Array(await u.arrayBuffer())):i(new Error("[ndarray-pixels] Failed to canvas.toBlob()."))},e,t)});return Cu.from(s)}function cf(n,e,t=-1){if(n.shape.length===4)return cf(n.pick(t),e,0);if(n.shape.length===3)if(n.shape[2]===3)Fo.assign(fo(e,[n.shape[0],n.shape[1],3],[4,4*n.shape[0],1]),n),Fo.assigns(fo(e,[n.shape[0]*n.shape[1]],[4],3),255);else if(n.shape[2]===4)Fo.assign(fo(e,[n.shape[0],n.shape[1],4],[4,4*n.shape[0],1]),n);else{if(n.shape[2]!==1)throw new Error("[ndarray-pixels] Incompatible array shape.");Fo.assign(fo(e,[n.shape[0],n.shape[1],3],[4,4*n.shape[0],1]),fo(n.data,[n.shape[0],n.shape[1],3],[n.stride[0],n.stride[1],0],n.offset)),Fo.assigns(fo(e,[n.shape[0]*n.shape[1]],[4],3),255)}else{if(n.shape.length!==2)throw new Error("[ndarray-pixels] Incompatible array shape.");Fo.assign(fo(e,[n.shape[0],n.shape[1],3],[4,4*n.shape[0],1]),fo(n.data,[n.shape[0],n.shape[1],3],[n.stride[0],n.stride[1],0],n.offset)),Fo.assigns(fo(e,[n.shape[0]*n.shape[1]],[4],3),255)}return e}let Cu=class{constructor(e){this._promise=void 0,this._promise=e}on(e,t){return e==="data"?this._promise.then(t):e==="error"?this._promise.catch(t):e==="end"&&this._promise.finally(t),this}static from(e){return new Cu(e)}};async function ff(n,e){return n instanceof Uint8Array&&typeof Buffer<"u"&&(n=Buffer.from(n)),new Promise((t,s)=>{(function(o,i,u){if(u=u||i,o instanceof Uint8Array){if(typeof i!="string")throw new Error("[ndarray-pixels] Type must be given for Uint8Array image data");const _=new Blob([o],{type:i});o=URL.createObjectURL(_)}const p=new Image;p.crossOrigin="anonymous",p.onload=function(){URL.revokeObjectURL(o);const _=document.createElement("canvas");_.width=p.width,_.height=p.height;const B=_.getContext("2d");B.drawImage(p,0,0);const d=B.getImageData(0,0,p.width,p.height);u(null,fo(new Uint8Array(d.data),[p.width,p.height,4],[4,4*p.width,1],0))},p.onerror=_=>{URL.revokeObjectURL(o),u(_)},p.src=o})(n,e,(o,i)=>{i&&!o?t(i):s(o)})})}async function lf(n,e){return new Promise((t,s)=>{const o=[],i=e.replace("image/","");Jp(n,i).on("data",u=>o.push(u)).on("end",()=>t(function(u){let p=0;for(const d of u)p+=d.byteLength;const _=new Uint8Array(p);let B=0;for(const d of u)_.set(d,B),B+=d.byteLength;return _}(o))).on("error",u=>s(u))})}function pf(){var n=new bo(9);return bo!=Float32Array&&(n[1]=0,n[2]=0,n[3]=0,n[5]=0,n[6]=0,n[7]=0),n[0]=1,n[4]=1,n[8]=1,n}function qp(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[4],n[4]=e[5],n[5]=e[6],n[6]=e[8],n[7]=e[9],n[8]=e[10],n}function zp(n,e){if(n===e){var t=e[1],s=e[2],o=e[5];n[1]=e[3],n[2]=e[6],n[3]=t,n[5]=e[7],n[6]=s,n[7]=o}else n[0]=e[0],n[1]=e[3],n[2]=e[6],n[3]=e[1],n[4]=e[4],n[5]=e[7],n[6]=e[2],n[7]=e[5],n[8]=e[8];return n}function Yp(n,e){var t=e[0],s=e[1],o=e[2],i=e[3],u=e[4],p=e[5],_=e[6],B=e[7],d=e[8],V=d*u-p*B,I=-d*i+p*_,L=B*i-u*_,W=t*V+s*I+o*L;return W?(W=1/W,n[0]=V*W,n[1]=(-d*s+o*B)*W,n[2]=(p*s-o*u)*W,n[3]=I*W,n[4]=(d*t-o*_)*W,n[5]=(-p*t+o*i)*W,n[6]=L*W,n[7]=(-B*t+s*_)*W,n[8]=(u*t-s*i)*W,n):null}function df(){var n=new bo(4);return bo!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0,n[3]=0),n}function Xp(n,e){var t=e[0],s=e[1],o=e[2],i=e[3],u=t*t+s*s+o*o+i*i;return u>0&&(u=1/Math.sqrt(u)),n[0]=t*u,n[1]=s*u,n[2]=o*u,n[3]=i*u,n}function $p(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]+n[3]*e[3]}(function(){var n=df();return function(e,t,s,o,i,u){var p,_;for(t||(t=4),s||(s=0),o?_=Math.min(o*t+s,e.length):_=e.length,p=s;p<_;p+=t)n[0]=e[p],n[1]=e[p+1],n[2]=e[p+2],n[3]=e[p+3],i(n,n,u),e[p]=n[0],e[p+1]=n[1],e[p+2]=n[2],e[p+3]=n[3];return e}})();function ic(){var n=new bo(4);return bo!=Float32Array&&(n[0]=0,n[1]=0,n[2]=0),n[3]=1,n}function Qp(n,e,t){t=t*.5;var s=Math.sin(t);return n[0]=s*e[0],n[1]=s*e[1],n[2]=s*e[2],n[3]=Math.cos(t),n}function oc(n,e){var t=ed(n,e);return Math.acos(2*t*t-1)}function qa(n,e,t,s){var o=e[0],i=e[1],u=e[2],p=e[3],_=t[0],B=t[1],d=t[2],V=t[3],I,L,W,le,ne;return L=o*_+i*B+u*d+p*V,L<0&&(L=-L,_=-_,B=-B,d=-d,V=-V),1-L>Wf?(I=Math.acos(L),W=Math.sin(I),le=Math.sin((1-s)*I)/W,ne=Math.sin(s*I)/W):(le=1-s,ne=s),n[0]=le*o+ne*_,n[1]=le*i+ne*B,n[2]=le*u+ne*d,n[3]=le*p+ne*V,n}function Zp(n,e){var t=e[0]+e[4]+e[8],s;if(t>0)s=Math.sqrt(t+1),n[3]=.5*s,s=.5/s,n[0]=(e[5]-e[7])*s,n[1]=(e[6]-e[2])*s,n[2]=(e[1]-e[3])*s;else{var o=0;e[4]>e[0]&&(o=1),e[8]>e[o*3+o]&&(o=2);var i=(o+1)%3,u=(o+2)%3;s=Math.sqrt(e[o*3+o]-e[i*3+i]-e[u*3+u]+1),n[o]=.5*s,s=.5/s,n[3]=(e[i*3+u]-e[u*3+i])*s,n[i]=(e[i*3+o]+e[o*3+i])*s,n[u]=(e[u*3+o]+e[o*3+u])*s}return n}var ed=$p,_f=Xp;(function(){var n=Fa(),e=Nu(1,0,0),t=Nu(0,1,0);return function(s,o,i){var u=Vf(o,i);return u<-.999999?(ms(n,e,o),Jf(n)<1e-6&&ms(n,t,o),es(n,n),Qp(s,n,Math.PI),s):u>.999999?(s[0]=0,s[1]=0,s[2]=0,s[3]=1,s):(ms(n,o,i),s[0]=n[0],s[1]=n[1],s[2]=n[2],s[3]=1+u,_f(s,s))}})();(function(){var n=ic(),e=ic();return function(t,s,o,i,u,p){return qa(n,s,u,p),qa(e,o,i,p),qa(t,n,e,2*p*(1-p)),t}})();(function(){var n=pf();return function(e,t,s,o){return n[0]=s[0],n[3]=s[1],n[6]=s[2],n[1]=o[0],n[4]=o[1],n[7]=o[2],n[2]=-t[0],n[5]=-t[1],n[8]=-t[2],_f(e,Zp(e,n))}})();const td=(n,e)=>{if(n<=-e||n>=e)return 0;const t=n*Math.PI;return Math.sin(t)/t*Math.sin(t/e)/(t/e)},ac=n=>Math.round(16383*n),sc=(n,e,t,s,o)=>{const i=o?2:3,u=1/t,p=Math.min(1,t),_=i/p,B=Math.floor(2*(_+1)),d=new Int16Array((B+2)*e);let V=0;for(let I=0;I<e;I++){const L=(I+.5)*u+s,W=Math.max(0,Math.floor(L-_)),le=Math.min(n-1,Math.ceil(L+_)),ne=le-W+1,q=new Float32Array(ne),X=new Int16Array(ne);let re=0,ce=0;for(let Ve=W;Ve<=le;Ve++){const ke=td((Ve+.5-L)*p,i);re+=ke,q[ce]=ke,ce++}let _e=0;for(let Ve=0;Ve<q.length;Ve++){const ke=q[Ve]/re;_e+=ke,X[Ve]=ac(ke)}X[e>>1]+=ac(1-_e);let ye=0;for(;ye<X.length&&X[ye]===0;)ye++;let Ue=X.length-1;for(;Ue>0&&X[Ue]===0;)Ue--;const Ge=Ue-ye+1;d[V++]=W+ye,d[V++]=Ge,d.set(X.subarray(ye,Ue+1),V),V+=Ge}return d},Ha=n=>n<0?0:n>255?255:n,uc=(n,e,t)=>{const[s,o]=n.shape,[i]=e.shape;for(let u=0;u<o;u++){const p=u;let _=0;for(let B=0;B<i;B++){let d=t[_++],V=0,I=0,L=0,W=0;for(let le=t[_++];le>0;le--){const ne=t[_++];V+=ne*n.get(d,u,0),I+=ne*n.get(d,u,1),L+=ne*n.get(d,u,2),W+=ne*n.get(d,u,3),d++}e.set(B,p,0,Ha(V+8192>>14)),e.set(B,p,1,Ha(I+8192>>14)),e.set(B,p,2,Ha(L+8192>>14)),e.set(B,p,3,Ha(W+8192>>14))}}};var aa;function hf(n,e,t){const[s,o]=n.shape,[i,u]=e.shape,p=u/o,_=sc(s,i,i/s,0,t===aa.LANCZOS_2),B=sc(o,u,p,0,t===aa.LANCZOS_2),d=fo(new Uint8Array(i*o*4),[o,i,4]),V=d.transpose(1,0),I=e.transpose(1,0);uc(n,V,_),uc(d,I,B)}function rd(n,e){hf(n,e,aa.LANCZOS_3)}function nd(n,e){hf(n,e,aa.LANCZOS_2)}(function(n){n[n.LANCZOS_3=3]="LANCZOS_3",n[n.LANCZOS_2=2]="LANCZOS_2"})(aa||(aa={}));function Nn(){return(Nn=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n}).apply(this,arguments)}function li(n,e){return Object.defineProperty(e,"name",{value:n}),e}function Tu(n,e,t){return!!n&&n.stack.lastIndexOf(e)<n.stack.lastIndexOf(t)}async function cc(n,e,t){if(!n)return null;const s=n.getImage();if(!s)return null;const o=await ff(s,n.getMimeType());for(let u=0;u<o.shape[0];++u)for(let p=0;p<o.shape[1];++p)t(o,u,p);const i=await lf(o,"image/png");return e.setImage(i).setMimeType("image/png")}class fc{constructor(){this._map=new Map}get size(){return this._map.size}has(e){return this._map.has(e)}add(e,t){let s=this._map.get(e);return s||(s=new Set,this._map.set(e,s)),s.add(t),this}get(e){return this._map.get(e)||new Set}keys(){return this._map.keys()}}function lc(n,e=2){if(n===0)return"0 Bytes";const t=e<0?0:e,s=Math.floor(Math.log(n)/Math.log(1e3));return parseFloat((n/Math.pow(1e3,s)).toFixed(t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][s]}function pc(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function wu(n,e){return`${pc(n)}  ${pc(e)} (${function(t,s,o=2){return(t>s?"":"+")+(Math.abs(t-s)/t*100).toFixed(o)+"%"}(n,e)})`}function Du(n){const e=[];for(const t of n.listAttributes())e.push(t);for(const t of n.listTargets())for(const s of t.listAttributes())e.push(s);return Array.from(new Set(e))}function id(n,e,t){n.swap(e,t);for(const s of n.listTargets())s.swap(e,t)}function gf(n,e,t){const s=n.getElementSize(),o=n.getCount(),i=n.getArray(),u=i.slice(0,t*s);for(let p=0;p<o;p++)for(let _=0;_<s;_++)u[e[p]*s+_]=i[p*s+_];n.setArray(u)}function ta(n,e=n){const t=e<=65534?new Uint16Array(n):new Uint32Array(n);for(let s=0;s<t.length;s++)t[s]=s;return t}const dc={pivot:"center"};function od(n=dc){const e=Nn({},dc,n);return li("center",t=>{const s=t.getLogger(),o=t.getRoot(),i=o.listAnimations().length>0||o.listSkins().length>0;t.getRoot().listScenes().forEach((u,p)=>{let _;if(s.debug(`center: Scene ${p+1} / ${o.listScenes().length}.`),typeof e.pivot=="string"){const d=Ra(u);_=[(d.max[0]-d.min[0])/2+d.min[0],(d.max[1]-d.min[1])/2+d.min[1],(d.max[2]-d.min[2])/2+d.min[2]],e.pivot==="above"&&(_[1]=d.max[1]),e.pivot==="below"&&(_[1]=d.min[1])}else _=e.pivot;s.debug(`center: Pivot "${_.join(", ")}".`);const B=[-1*_[0],-1*_[1],-1*_[2]];if(i){s.debug("center: Model contains animation or skin. Adding a wrapper node.");const d=t.createNode("Pivot").setTranslation(B);u.listChildren().forEach(V=>d.addChild(V)),u.addChild(d)}else s.debug("center: Skipping wrapper, offsetting all root nodes."),u.listChildren().forEach(d=>{const V=d.getTranslation();d.setTranslation([V[0]+B[0],V[1]+B[1],V[2]+B[2]])})}),s.debug("center: Complete.")})}const ja="colorspace";function ad(n){return li(ja,e=>{const t=e.getLogger();if(n.inputEncoding==="linear")return void t.info(`${ja}: Vertex colors already linear. Skipping conversion.`);if(n.inputEncoding!=="sRGB")return void t.error(`${ja}: Unknown input encoding "${n.inputEncoding}"  should be "sRGB" or "linear". Skipping conversion.`);const s=new Set;function o(u){return u<.04045?.0773993808*u:Math.pow(.9478672986*u+.0521327014,2.4)}function i(u){const p=[0,0,0];let _;for(let B=0;_=u.getAttribute(`COLOR_${B}`);B++)if(!s.has(_)){for(let d=0;d<_.getCount();d++)_.getElement(d,p),p[0]=o(p[0]),p[1]=o(p[1]),p[2]=o(p[2]),_.setElement(d,p);s.add(_)}}e.getRoot().listMeshes().forEach(u=>u.listPrimitives().forEach(i)),t.debug(`${ja}: Complete.`)})}const Bs={propertyTypes:[Me.ACCESSOR,Me.MESH,Me.TEXTURE,Me.MATERIAL]},Oa=function(n=Bs){const e=Nn({},Bs,n),t=new Set(e.propertyTypes);for(const s of e.propertyTypes)if(!Bs.propertyTypes.includes(s))throw new Error(`dedup: Unsupported deduplication on type "${s}".`);return li("dedup",s=>{const o=s.getLogger();t.has(Me.ACCESSOR)&&function(i,u){const p=new Set,_=new Set,B=new Set,d=new Set,V=u.getRoot().listMeshes();V.forEach(q=>{q.listPrimitives().forEach(X=>{X.listAttributes().forEach(ce=>_.add(ce));const re=X.getIndices();re&&p.add(re)})});for(const q of u.getRoot().listAnimations())for(const X of q.listSamplers()){const re=X.getInput(),ce=X.getOutput();re&&B.add(re),ce&&d.add(ce)}function I(q){const X=new Map;for(let re=0;re<q.length;re++){const ce=q[re],_e=en.toView(ce.getArray());if(!X.has(ce))for(let ye=0;ye<q.length;ye++){const Ue=q[ye];ce!==Ue&&(X.has(Ue)||ce.getType()===Ue.getType()&&ce.getComponentType()===Ue.getComponentType()&&ce.getCount()===Ue.getCount()&&ce.getNormalized()===Ue.getNormalized()&&en.equals(_e,en.toView(Ue.getArray()))&&X.set(Ue,ce))}}return X}const L=I(Array.from(p));i.debug(`dedup: Found ${L.size} duplicates among ${p.size} indices.`);const W=I(Array.from(_));i.debug(`dedup: Found ${W.size} duplicates among ${_.size} attributes.`);const le=I(Array.from(B)),ne=I(Array.from(d));i.debug(`dedup: Found ${le.size+ne.size} duplicates among ${B.size+d.size} animation accessors.`),V.forEach(q=>{q.listPrimitives().forEach(X=>{X.listAttributes().forEach(ce=>{W.has(ce)&&X.swap(ce,W.get(ce))});const re=X.getIndices();re&&L.has(re)&&X.swap(re,L.get(re))})}),Array.from(L.keys()).forEach(q=>q.dispose()),Array.from(W.keys()).forEach(q=>q.dispose());for(const q of u.getRoot().listAnimations())for(const X of q.listSamplers()){const re=X.getInput(),ce=X.getOutput();re&&le.has(re)&&X.swap(re,le.get(re)),ce&&ne.has(ce)&&X.swap(ce,ne.get(ce))}Array.from(le.keys()).forEach(q=>q.dispose()),Array.from(ne.keys()).forEach(q=>q.dispose())}(o,s),t.has(Me.TEXTURE)&&function(i,u){const p=u.getRoot(),_=p.listTextures(),B=new Map;for(let d=0;d<_.length;d++){const V=_[d],I=V.getImage();if(!B.has(V))for(let L=0;L<_.length;L++){const W=_[L],le=W.getImage();if(V===W||B.has(W)||V.getMimeType()!==W.getMimeType())continue;const ne=V.getSize(),q=W.getSize();ne&&q&&ne[0]===q[0]&&ne[1]===q[1]&&I&&le&&en.equals(I,le)&&B.set(W,V)}}i.debug(`dedup: Found ${B.size} duplicates among ${p.listTextures().length} textures.`),Array.from(B.entries()).forEach(([d,V])=>{d.listParents().forEach(I=>{I instanceof Xo||I.swap(d,V)}),d.dispose()})}(o,s),t.has(Me.MATERIAL)&&function(i,u){const p=u.getRoot(),_=p.listMaterials(),B=new Map,d=new Set(["name"]);for(let V=0;V<_.length;V++){const I=_[V];if(!B.has(I))for(let L=0;L<_.length;L++){const W=_[L];I!==W&&(B.has(W)||I.equals(W,d)&&B.set(W,I))}}i.debug(`dedup: Found ${B.size} duplicates among ${p.listMaterials().length} materials.`),Array.from(B.entries()).forEach(([V,I])=>{V.listParents().forEach(L=>{L instanceof Xo||L.swap(V,I)}),V.dispose()})}(o,s),t.has(Me.MESH)&&function(i,u){const p=u.getRoot(),_=new Map;p.listAccessors().forEach((V,I)=>_.set(V,I)),p.listMaterials().forEach((V,I)=>_.set(V,I));const B=p.listMeshes().length,d=new Map;for(const V of p.listMeshes()){const I=[];for(const W of V.listPrimitives())I.push(Af(W,_));const L=I.join(";");if(d.has(L)){const W=d.get(L);V.listParents().forEach(le=>{le.propertyType!==Me.ROOT&&le.swap(V,W)}),V.dispose()}else d.set(L,V)}i.debug(`dedup: Found ${B-d.size} duplicates among ${B} meshes.`)}(o,s),o.debug("dedup: Complete.")})};function Af(n,e){const t=[];for(const s of n.listSemantics()){const o=n.getAttribute(s);t.push(s+":"+e.get(o))}if(n instanceof Xn){const s=n.getIndices();s&&t.push("indices:"+e.get(s));const o=n.getMaterial();o&&t.push("material:"+e.get(o)),t.push("mode:"+n.getMode());for(const i of n.listTargets())t.push("target:"+Af(i,e))}return t.join(",")}const _c={pattern:/^((?!JOINTS_).)*$/};function sd(n=_c){const e=Nn({},_c,n);return li("dequantize",t=>{const s=t.getLogger();for(const o of t.getRoot().listMeshes())for(const i of o.listPrimitives())ud(i,e);t.createExtension(Sa).dispose(),s.debug("dequantize: Complete.")})}function ud(n,e){for(const t of n.listSemantics())hc(t,n.getAttribute(t),e);for(const t of n.listTargets())for(const s of t.listSemantics())hc(s,t.getAttribute(s),e)}function hc(n,e,t){if(!e.getArray()||!t.pattern.test(n)||e.getComponentSize()>=4)return;const s=e.getArray(),o=new Float32Array(s.length);for(let i=0,u=e.getCount(),p=[];i<u;i++)p=e.getElement(i,p),e.setArray(o).setElement(i,p).setArray(s);e.setArray(o).setNormalized(!1)}const mf={method:"edgebreaker",encodeSpeed:5,decodeSpeed:5,quantizePosition:14,quantizeNormal:10,quantizeColor:8,quantizeTexcoord:12,quantizeGeneric:12,quantizationVolume:"mesh"},cd=n=>{const e=Nn({},mf,n);return t=>{t.createExtension(Jo).setRequired(!0).setEncoderOptions({method:e.method==="edgebreaker"?Jo.EncoderMethod.EDGEBREAKER:Jo.EncoderMethod.SEQUENTIAL,encodeSpeed:e.encodeSpeed,decodeSpeed:e.decodeSpeed,quantizationBits:{POSITION:e.quantizePosition,NORMAL:e.quantizeNormal,COLOR:e.quantizeColor,TEX_COORD:e.quantizeTexcoord,GENERIC:e.quantizeGeneric},quantizationVolume:e.quantizationVolume})}};function fd(n){return{scenes:ld(n),meshes:pd(n),materials:dd(n),textures:_d(n),animations:hd(n)}}function ld(n){return{properties:n.getRoot().listScenes().map(e=>{const t=e.listChildren()[0],s=Ra(e);return{name:e.getName(),rootName:t?t.getName():"",bboxMin:gc(s.min),bboxMax:gc(s.max)}})}}function pd(n){return{properties:n.getRoot().listMeshes().map(e=>{const t=e.listParents().filter(d=>d.propertyType!==Me.ROOT).length;let s=0,o=0;const i=new Set,u=new Set,p=new Set;e.listPrimitives().forEach(d=>{for(const I of d.listSemantics()){const L=d.getAttribute(I);i.add(I+":"+Ac(L)),p.add(L)}for(const I of d.listTargets())I.listAttributes().forEach(L=>p.add(L));const V=d.getIndices();V&&(u.add(Ac(V)),p.add(V)),o+=d.listAttributes()[0].getCount(),s+=function(I){const L=I.getIndices(),W=I.getAttribute("POSITION");switch(I.getMode()){case Xn.Mode.POINTS:return W.getCount();case Xn.Mode.LINES:return L?L.getCount()/2:W.getCount()/2;case Xn.Mode.LINE_LOOP:return W.getCount();case Xn.Mode.LINE_STRIP:return W.getCount()-1;case Xn.Mode.TRIANGLES:return L?L.getCount()/3:W.getCount()/3;case Xn.Mode.TRIANGLE_STRIP:case Xn.Mode.TRIANGLE_FAN:return W.getCount()-2;default:throw new Error("Unexpected mode: "+I.getMode())}}(d)});let _=0;Array.from(p).forEach(d=>_+=d.getArray().byteLength);const B=e.listPrimitives().map(d=>gd[d.getMode()]);return{name:e.getName(),mode:Array.from(new Set(B)),primitives:e.listPrimitives().length,glPrimitives:s,vertices:o,indices:Array.from(u).sort(),attributes:Array.from(i).sort(),instances:t,size:_}})}}function dd(n){return{properties:n.getRoot().listMaterials().map(e=>{const t=e.listParents().filter(i=>i.propertyType!==Me.ROOT).length,s=new Set(e.listExtensions()),o=n.getGraph().listEdges().filter(i=>{const u=i.getChild(),p=i.getParent();return u instanceof Yo&&p===e||!!(u instanceof Yo&&p instanceof $n&&s.has(p))}).map(i=>i.getName());return{name:e.getName(),instances:t,textures:o,alphaMode:e.getAlphaMode(),doubleSided:e.getDoubleSided()}})}}function _d(n){return{properties:n.getRoot().listTextures().map(e=>{const t=e.listParents().filter(u=>u.propertyType!==Me.ROOT).length,s=n.getGraph().listParentEdges(e).filter(u=>u.getParent().propertyType!==Me.ROOT).map(u=>u.getName()),o=po.getSize(e.getImage(),e.getMimeType());let i="";if(e.getMimeType()==="image/ktx2"){const u=Ka(e.getImage()).dataFormatDescriptor[0];u.colorModel===$c?i="ETC1S":u.colorModel===Qc&&(i="UASTC")}return{name:e.getName(),uri:e.getURI(),slots:Array.from(new Set(s)),instances:t,mimeType:e.getMimeType(),compression:i,resolution:o?o.join("x"):"",size:e.getImage().byteLength,gpuSize:po.getMemSize(e.getImage(),e.getMimeType())}})}}function hd(n){return{properties:n.getRoot().listAnimations().map(e=>{let t=1/0,s=-1/0;e.listSamplers().forEach(p=>{const _=p.getInput();_&&(t=Math.min(t,_.getMin([])[0]),s=Math.max(s,_.getMax([])[0]))});let o=0,i=0;const u=new Set;return e.listSamplers().forEach(p=>{const _=p.getInput(),B=p.getOutput();_&&(i+=_.getCount(),u.add(_),B&&u.add(B))}),Array.from(u).forEach(p=>{o+=p.getArray().byteLength}),{name:e.getName(),channels:e.listChannels().length,samplers:e.listSamplers().length,duration:Math.round(1e3*(s-t))/1e3,keyframes:i,size:o}})}}const gd=["POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN"],Ad={Float32Array:"f32",Uint32Array:"u32",Uint16Array:"u16",Uint8Array:"u8",Int32Array:"i32",Int16Array:"i16",Int8Array:"i8"};function gc(n){for(let e=0;e<n.length;e++)n[e].toFixed&&(n[e]=Number(n[e].toFixed(5)));return n}function Ac(n){const e=n.getArray();return(Ad[e.constructor.name]||"?")+(n.getNormalized()?"_norm":"")}const mc={};function md(n=mc){return Nn({},mc,n),li("instance",e=>{const t=e.getLogger(),s=e.getRoot(),o=e.createExtension(is);if(s.listAnimations().length)return t.warn("instance: Instancing is not currently supported for animated models."),void t.debug("instance: Complete.");let i=0,u=0;for(const p of s.listScenes()){const _=new Map;p.traverse(d=>{const V=d.getMesh();V&&_.set(V,(_.get(V)||new Set).add(d))});const B=[];for(const d of Array.from(_.keys())){const V=Array.from(_.get(d));if(V.length<2||V.some(ce=>ce.getSkin()))continue;const I=vd(e,o,d,V.length),L=I.getAttribute("TRANSLATION"),W=I.getAttribute("ROTATION"),le=I.getAttribute("SCALE"),ne=e.createNode().setMesh(d).setExtension("EXT_mesh_gpu_instancing",I);p.addChild(ne);let q=!1,X=!1,re=!1;for(let ce=0;ce<V.length;ce++){let _e,ye,Ue;const Ge=V[ce];L.setElement(ce,_e=Ge.getWorldTranslation()),W.setElement(ce,ye=Ge.getWorldRotation()),le.setElement(ce,Ue=Ge.getWorldScale()),dn.eq(_e,[0,0,0])||(q=!0),dn.eq(ye,[0,0,0,1])||(X=!0),dn.eq(Ue,[1,1,1])||(re=!0),Ge.setMesh(null),B.push(Ge)}q||L.dispose(),X||W.dispose(),re||le.dispose(),yd(B,t),i++,u+=V.length}}t.info(i>0?`instance: Created ${i} batches, with ${u} total instances.`:"instance: No meshes with multiple parent nodes were found."),o.listProperties().length===0&&o.dispose(),t.debug("instance: Complete.")})}function yd(n,e){let t,s=0;for(;t=n.pop();){if(t.listChildren().length||t.getCamera()||t.getMesh()||t.getSkin()||t.listExtensions().length)continue;const o=t.getParent();o instanceof ua&&n.push(o),t.dispose(),s++}e.debug(`instance: Removed ${s} unused nodes.`)}function vd(n,e,t,s){const o=t.listPrimitives()[0].getAttribute("POSITION").getBuffer(),i=n.createAccessor().setType("VEC3").setArray(new Float32Array(3*s)).setBuffer(o),u=n.createAccessor().setType("VEC4").setArray(new Float32Array(4*s)).setBuffer(o),p=n.createAccessor().setType("VEC3").setArray(new Float32Array(3*s)).setBuffer(o);return e.createInstancedMesh().setAttribute("TRANSLATION",i).setAttribute("ROTATION",u).setAttribute("SCALE",p)}const yc={propertyTypes:[Me.NODE,Me.SKIN,Me.MESH,Me.CAMERA,Me.PRIMITIVE,Me.PRIMITIVE_TARGET,Me.ANIMATION,Me.MATERIAL,Me.TEXTURE,Me.ACCESSOR,Me.BUFFER],keepLeaves:!1,keepAttributes:!0},ls=function(n=yc){const e=Nn({},yc,n),t=new Set(e.propertyTypes);return li("prune",s=>{const o=s.getLogger(),i=s.getRoot(),u=s.getGraph(),p={};if(t.has(Me.NODE)&&!e.keepLeaves&&i.listScenes().forEach(function I(L){if(L.listChildren().forEach(I),L instanceof rs)return;const W=u.listParentEdges(L).some(le=>{const ne=le.getParent().propertyType;return ne!==Me.ROOT&&ne!==Me.SCENE&&ne!==Me.NODE});u.listChildren(L).length!==0||W||(L.dispose(),V(L))}),t.has(Me.NODE)&&i.listNodes().forEach(_),t.has(Me.SKIN)&&i.listSkins().forEach(_),t.has(Me.MESH)&&i.listMeshes().forEach(_),t.has(Me.CAMERA)&&i.listCameras().forEach(_),t.has(Me.PRIMITIVE)&&B(u,Me.PRIMITIVE),t.has(Me.PRIMITIVE_TARGET)&&B(u,Me.PRIMITIVE_TARGET),!e.keepAttributes&&t.has(Me.ACCESSOR))for(const I of i.listMeshes())for(const L of I.listPrimitives()){const W=yf(s,L.getMaterial()),le=bd(L,W);d(L,le),L.listTargets().forEach(ne=>d(ne,le))}if(t.has(Me.ANIMATION))for(const I of i.listAnimations()){for(const L of I.listChannels())L.getTargetNode()||(L.dispose(),V(L));if(I.listChannels().length)I.listSamplers().forEach(_);else{const L=I.listSamplers();_(I),L.forEach(_)}}if(t.has(Me.MATERIAL)&&i.listMaterials().forEach(_),t.has(Me.TEXTURE)&&i.listTextures().forEach(_),t.has(Me.ACCESSOR)&&i.listAccessors().forEach(_),t.has(Me.BUFFER)&&i.listBuffers().forEach(_),Object.keys(p).length){const I=Object.keys(p).map(L=>`${L} (${p[L]})`).join(", ");o.info(`prune: Removed types... ${I}`)}else o.info("prune: No unused properties found.");function _(I){I.listParents().filter(L=>!(L instanceof Xo||L instanceof So)).length||(I.dispose(),V(I))}function B(I,L){I.listEdges().map(W=>W.getParent()).filter(W=>W.propertyType===L).forEach(_)}function d(I,L){for(const W of L)I.setAttribute(W,null)}function V(I){p[I.propertyType]=p[I.propertyType]||0,p[I.propertyType]++}o.debug("prune: Complete.")})};function bd(n,e){const t=[];for(const s of n.listSemantics())s!=="TANGENT"||e.has(s)?(s.startsWith("TEXCOORD_")&&!e.has(s)||s.startsWith("COLOR_")&&s!=="COLOR_0")&&t.push(s):t.push(s);return t}function yf(n,e,t=new Set){if(!e)return t;const s=n.getGraph().listChildEdges(e),o=new Set;for(const i of s)i.getChild()instanceof Yo&&o.add(i.getName());for(const i of s){const u=i.getName(),p=i.getChild();p instanceof jn&&o.has(u.replace(/Info$/,""))&&t.add(`TEXCOORD_${p.getTexCoord()}`),p instanceof Yo&&u.match(/normalTexture/i)&&t.add("TANGENT"),p instanceof $n&&yf(n,p,t)}return t}const Ed={target:"size"};function vf(n){const e=Nn({},Ed,n),t=e.encoder;if(!t)throw new Error('reorder: encoder dependency required  install "meshoptimizer".');return li("reorder",async s=>{const o=s.getLogger();await t.ready;const i=bf(s);for(const u of i.indicesToAttributes.keys()){const p=u.clone();let _=p.getArray().slice();_ instanceof Uint32Array||(_=new Uint32Array(_));const[B,d]=t.reorderMesh(_,i.indicesToMode.get(u)===Xn.Mode.TRIANGLES,e.target==="size");p.setArray(d<=65534?new Uint16Array(_):_);for(const V of i.indicesToAttributes.get(u)){const I=V.clone();gf(I,B,d);for(const L of i.attributesToPrimitives.get(V))if(L.getIndices()===u&&L.swap(u,p),L.getIndices()===p){L.swap(V,I);for(const W of L.listTargets())W.swap(V,I)}}}await s.transform(ls({propertyTypes:[Me.ACCESSOR]})),i.indicesToAttributes.size?o.debug("reorder: Complete."):o.warn("reorder: No qualifying primitives found; may need to weld first.")})}function bf(n){const e=new fc,t=new Map,s=new fc;for(const o of n.getRoot().listMeshes())for(const i of o.listPrimitives()){const u=i.getIndices();if(u){t.set(u,i.getMode());for(const p of Du(i))e.add(u,p),s.add(p,i)}}return{indicesToAttributes:e,indicesToMode:t,attributesToPrimitives:s}}function Ef(n,e=1/0){if(Number.isFinite(e)&&e%4||e<=0)throw new Error("Limit must be positive multiple of four.");const t=n.getAttribute("POSITION").getCount(),s=n.listSemantics().filter(B=>B.startsWith("WEIGHTS_")).length,o=new Uint16Array(4*s),i=new Float32Array(4*s),u=new Float32Array(4*s),p=new Uint32Array(4*s),_=new Uint32Array(4*s);for(let B=0;B<t;B++){ka(n,B,"WEIGHTS",i),ka(n,B,"JOINTS",p);for(let d=0;d<4*s;d++)o[d]=d;o.sort((d,V)=>i[d]>i[V]?-1:1);for(let d=0;d<o.length;d++)u[d]=i[o[d]],_[d]=p[o[d]];Wa(n,B,"WEIGHTS",u),Wa(n,B,"JOINTS",_)}for(let B=s;4*B>e;B--){const d=n.getAttribute("WEIGHTS_"+(B-1)),V=n.getAttribute("JOINTS_"+(B-1));n.setAttribute("WEIGHTS_"+(B-1),null),n.setAttribute("JOINTS_"+(B-1),null),d.listParents().length===1&&d.dispose(),V.listParents().length===1&&V.dispose()}(function(B){if(!function(ce){const _e=ce.listSemantics().filter(Ge=>Ge.startsWith("WEIGHTS_")).map(Ge=>ce.getAttribute(Ge)),ye=_e.map(Ge=>Ge.getNormalized()),Ue=_e.map(Ge=>Ge.getComponentType());return new Set(ye).size===1&&new Set(Ue).size===1}(B))return;const d=B.getAttribute("POSITION").getCount(),V=B.listSemantics().filter(ce=>ce.startsWith("WEIGHTS_")).length,I=B.getAttribute("WEIGHTS_0"),L=I.getArray(),W=I.getComponentType(),le=I.getNormalized(),ne=le?W:void 0,q=le?dn.denormalize(1,W):Number.EPSILON,X=new Uint32Array(4*V).fill(0),re=L.slice(0,4*V).fill(0);for(let ce=0;ce<d;ce++){ka(B,ce,"JOINTS",X),ka(B,ce,"WEIGHTS",re,ne);let _e=vc(re,ne);if(_e!==0){if(Math.abs(1-_e)>q)for(let ye=0;ye<re.length;ye++)if(le){const Ue=dn.normalize(re[ye]/_e,W);re[ye]=dn.denormalize(Ue,W)}else re[ye]/=_e;if(_e=vc(re,ne),le&&_e!==1){for(let ye=re.length-1;ye>=0;ye--)if(re[ye]>0){re[ye]+=dn.normalize(1-_e,W);break}}for(let ye=re.length-1;ye>=0;ye--)re[ye]===0&&(X[ye]=0);Wa(B,ce,"JOINTS",X),Wa(B,ce,"WEIGHTS",re,ne)}}})(n)}function ka(n,e,t,s,o){let i;const u=[0,0,0,0];for(let p=0;i=n.getAttribute(`${t}_${p}`);p++){i.getElement(e,u);for(let _=0;_<4;_++)s[4*p+_]=o?dn.normalize(u[_],o):u[_]}return s}function Wa(n,e,t,s,o){let i;const u=[0,0,0,0];for(let p=0;i=n.getAttribute(`${t}_${p}`);p++){for(let _=0;_<4;_++)u[_]=o?dn.denormalize(s[4*p+_],o):s[4*p+_];i.setElement(e,u)}}function vc(n,e){let t=0;for(let s=0;s<n.length;s++)t+=e?dn.denormalize(n[s],e):n[s];return t}const Bd=[Int8Array,Int16Array,Int32Array],{TRANSLATION:Cd,ROTATION:Td,SCALE:wd,WEIGHTS:Dd}=So.TargetPath,Id=[Cd,Td,wd],Ms={pattern:/.*/,quantizationVolume:"mesh",quantizePosition:14,quantizeNormal:10,quantizeTexcoord:12,quantizeColor:8,quantizeWeight:8,quantizeGeneric:12,normalizeWeights:!0},Bf=(n=Ms)=>{const e=Nn({},Ms,n);return li("quantize",async t=>{const s=t.getLogger(),o=t.getRoot();let i;t.createExtension(Sa).setRequired(!0),e.quantizationVolume==="scene"&&(i=Ec(function(u){const p=u[0];for(const _ of u)Is(p.min,p.min,_.min),Fs(p.max,p.max,_.max);return p}(o.listMeshes().map(Bc))));for(const u of t.getRoot().listMeshes()){e.quantizationVolume==="mesh"&&(i=Ec(Bc(u))),i&&e.pattern.test("POSITION")&&(Fd(t,u,i),Sd(u,1/i.scale));for(const p of u.listPrimitives()){bc(t,p,i,e);for(const _ of p.listTargets())bc(t,_,i,e)}}await t.transform(ls({propertyTypes:[Me.ACCESSOR,Me.SKIN,Me.MATERIAL]}),Oa({propertyTypes:[Me.ACCESSOR,Me.MATERIAL]})),s.debug("quantize: Complete.")})};function bc(n,e,t,s){const o=n.getLogger();for(const i of e.listSemantics()){if(!s.pattern.test(i))continue;const u=e.getAttribute(i),{bits:p,ctor:_}=Od(i,u,o,s);if(!_)continue;if(p<8||p>16)throw new Error("quantize: Requires bits = 816.");if(u.getComponentSize()<=p/8)continue;const B=u.clone();if(i==="POSITION"){const d=t.scale,V=[];e instanceof Xn?qf(V,Iu(t)):Yf(V,[1/d,1/d,1/d]);for(let I=0,L=[0,0,0],W=B.getCount();I<W;I++)B.getElement(I,L),B.setElement(I,Hs(L,L,V))}Pd(B,_,p),e.swap(u,B)}if(s.normalizeWeights&&e.getAttribute("WEIGHTS_0")&&Ef(e,1/0),e instanceof Xn&&e.getIndices()&&e.listAttributes().length&&e.listAttributes()[0].getCount()<65535){const i=e.getIndices();i.setArray(new Uint16Array(i.getArray()))}}function Ec(n){const{min:e,max:t}=n,s=Math.max((t[0]-e[0])/2,(t[1]-e[1])/2,(t[2]-e[2])/2);return{offset:[e[0]+(t[0]-e[0])/2,e[1]+(t[1]-e[1])/2,e[2]+(t[2]-e[2])/2],scale:s}}function Fd(n,e,t){const s=Iu(t);for(const o of e.listParents()){if(!(o instanceof ua))continue;const i=o.listParents().filter(d=>d instanceof So),u=i.some(d=>Id.includes(d.getTargetPath())),p=o.listChildren().length>0;if(o.getSkin()){o.setSkin(Rd(o.getSkin(),t));continue}let _;p||u?(_=n.createNode("").setMesh(e),o.addChild(_).setMesh(null),i.filter(d=>d.getTargetPath()===Dd).forEach(d=>d.setTargetNode(_))):_=o;const B=_.getMatrix();js(B,B,s),_.setMatrix(B)}}function Rd(n,e){n=n.clone();const t=Iu(e),s=n.getInverseBindMatrices().clone(),o=[];for(let i=0,u=s.getCount();i<u;i++)s.getElement(i,o),js(o,o,t),s.setElement(i,o);return n.setInverseBindMatrices(s)}function Sd(n,e){for(const t of n.listPrimitives()){let s=t.getMaterial();if(!s)continue;let o=s.getExtension("KHR_materials_volume");!o||o.getThicknessFactor()<=0||(o=o.clone().setThicknessFactor(o.getThicknessFactor()*e),s=s.clone().setExtension("KHR_materials_volume",o),t.setMaterial(s))}}function Pd(n,e,t){const s=new e(n.getArray().length),o=Bd.includes(e)?1:0,i=t-o,u=8*e.BYTES_PER_ELEMENT-o,p=Math.pow(2,i)-1,_=u-i,B=2*i-u;for(let d=0,V=0,I=[];d<n.getCount();d++){n.getElement(d,I);for(let L=0;L<I.length;L++){let W=Math.round(Math.abs(I[L])*p);W=W<<_|W>>B,s[V++]=W*Math.sign(I[L])}}n.setArray(s).setNormalized(!0)}function Od(n,e,t,s){const o=e.getMinNormalized([]),i=e.getMaxNormalized([]);let u,p;if(n==="POSITION")u=s.quantizePosition,p=u<=8?Int8Array:Int16Array;else if(n==="NORMAL"||n==="TANGENT")u=s.quantizeNormal,p=u<=8?Int8Array:Int16Array;else if(n.startsWith("COLOR_"))u=s.quantizeColor,p=u<=8?Uint8Array:Uint16Array;else if(n.startsWith("TEXCOORD_")){if(o.some(_=>_<0)||i.some(_=>_>1))return t.warn(`quantize: Skipping ${n}; out of [0,1] range.`),{bits:-1};u=s.quantizeTexcoord,p=u<=8?Uint8Array:Uint16Array}else{if(n.startsWith("JOINTS_"))return u=Math.max(...e.getMax([]))<=255?8:16,p=u<=8?Uint8Array:Uint16Array,e.getComponentSize()>u/8&&e.setArray(new p(e.getArray())),{bits:-1};if(n.startsWith("WEIGHTS_")){if(o.some(_=>_<0)||i.some(_=>_>1))return t.warn(`quantize: Skipping ${n}; out of [0,1] range.`),{bits:-1};u=s.quantizeWeight,p=u<=8?Uint8Array:Uint16Array}else{if(!n.startsWith("_"))throw new Error(`quantize: Unexpected semantic, "${n}".`);if(o.some(_=>_<-1)||i.some(_=>_>1))return t.warn(`quantize: Skipping ${n}; out of [-1,1] range.`),{bits:-1};u=s.quantizeGeneric,p=p=o.some(_=>_<0)?u<=8?Int8Array:Int16Array:u<=8?Uint8Array:Uint16Array}}return{bits:u,ctor:p}}function Bc(n){const e=[],t=[];for(const o of n.listPrimitives()){const i=o.getAttribute("POSITION");i&&e.push(i);for(const u of o.listTargets()){const p=u.getAttribute("POSITION");p&&t.push(p)}}if(e.length===0)throw new Error('quantize: Missing "POSITION" attribute.');const s=Cc(e,3);if(t.length>0){const{min:o,max:i}=Cc(t,3);Is(s.min,s.min,Is(o,Lu(o,o,2),[0,0,0])),Fs(s.max,s.max,Fs(i,Lu(i,i,2),[0,0,0]))}return s}function Cc(n,e){const t=new Array(e).fill(1/0),s=new Array(e).fill(-1/0),o=[],i=[];for(const u of n){u.getMinNormalized(o),u.getMaxNormalized(i);for(let p=0;p<e;p++)t[p]=Math.min(t[p],o[p]),s[p]=Math.max(s[p],i[p])}return{min:t,max:s}}function Iu(n){return Qf([],[0,0,0,1],n.offset,[n.scale,n.scale,n.scale])}const Cf={level:"high"},Md=n=>{const e=Nn({},Cf,n),t=e.encoder;if(!t)throw new Error('meshopt: encoder dependency required  install "meshoptimizer".');return async s=>{await s.transform(vf({encoder:t,target:"size"}),Bf({pattern:e.level==="medium"?/.*/:/^(POSITION|TEXCOORD|JOINTS|WEIGHTS)(_\d+)?$/,quantizePosition:14,quantizeTexcoord:12,quantizeColor:8,quantizeNormal:8})),s.createExtension(Ko).setRequired(!0).setEncoderOptions({method:e.level==="medium"?Ko.EncoderMethod.QUANTIZE:Ko.EncoderMethod.FILTER})}},Tc={};function Nd(n=Tc){return Nn({},Tc,n),li("metalRough",async e=>{const t=e.getLogger();if(!e.getRoot().listExtensionsUsed().map(p=>p.extensionName).includes("KHR_materials_pbrSpecularGlossiness"))return void t.warn("metalRough: KHR_materials_pbrSpecularGlossiness not found on document.");const s=e.createExtension(as),o=e.createExtension(us),i=e.createExtension(ss),u=new Set;for(const p of e.getRoot().listMaterials()){const _=p.getExtension("KHR_materials_pbrSpecularGlossiness");if(!_)continue;const B=o.createSpecular().setSpecularFactor(1).setSpecularColorFactor(_.getSpecularFactor());u.add(_.getSpecularGlossinessTexture()),u.add(p.getBaseColorTexture()),u.add(p.getMetallicRoughnessTexture()),p.setBaseColorFactor(_.getDiffuseFactor()).setMetallicFactor(0).setRoughnessFactor(1).setExtension("KHR_materials_ior",s.createIOR().setIOR(1e3)).setExtension("KHR_materials_specular",B);const d=_.getDiffuseTexture();d&&(p.setBaseColorTexture(d),p.getBaseColorTextureInfo().copy(_.getDiffuseTextureInfo()));const V=_.getSpecularGlossinessTexture();if(V){const I=_.getSpecularGlossinessTextureInfo(),L=e.createTexture();await cc(V,L,(ne,q,X)=>{ne.set(q,X,3,255)}),B.setSpecularTexture(L),B.setSpecularColorTexture(L),B.getSpecularTextureInfo().copy(I),B.getSpecularColorTextureInfo().copy(I);const W=_.getGlossinessFactor(),le=e.createTexture();await cc(V,le,(ne,q,X)=>{const re=255-Math.round(ne.get(q,X,3)*W);ne.set(q,X,0,0),ne.set(q,X,1,re),ne.set(q,X,2,0),ne.set(q,X,3,255)}),p.setMetallicRoughnessTexture(le),p.getMetallicRoughnessTextureInfo().copy(I)}else B.setSpecularColorFactor(_.getSpecularFactor()),p.setRoughnessFactor(1-_.getGlossinessFactor());p.setExtension("KHR_materials_pbrSpecularGlossiness",null)}i.dispose();for(const p of u)p&&p.listParents().length===1&&p.dispose();t.debug("metalRough: Complete.")})}const wc={};function Tf(n=wc){return Nn({},wc,n),li("unweld",e=>{const t=e.getLogger(),s=new Map;for(const o of e.getRoot().listMeshes())for(const i of o.listPrimitives()){const u=i.getIndices();if(!u)continue;const p=i.getAttribute("POSITION").getCount();for(const B of i.listAttributes())i.swap(B,Dc(B,u,t,s)),B.listParents().length===1&&B.dispose();for(const B of i.listTargets())for(const d of B.listAttributes())B.swap(d,Dc(d,u,t,s)),d.listParents().length===1&&d.dispose();const _=i.getAttribute("POSITION").getCount();t.debug(`unweld: ${wu(p,_)} vertices.`),i.setIndices(null),u.listParents().length===1&&u.dispose()}t.debug("unweld: Complete.")})}function Dc(n,e,t,s){if(s.has(n)&&s.get(n).has(e))return t.debug(`unweld: Cache hit for reused attribute, "${n.getName()}".`),s.get(n).get(e);const o=n.clone(),i=n.getArray().constructor;o.setArray(new i(e.getCount()*n.getElementSize()));const u=[];for(let p=0;p<e.getCount();p++)o.setElement(p,n.getElement(e.getScalar(p),u));return s.has(n)||s.set(n,new Map),s.get(n).set(e,o),o}const Ic={overwrite:!1};function Ld(n=Ic){const e=Nn({},Ic,n);return li("normals",async t=>{const s=t.getLogger();let o=0;await t.transform(Tf());for(const i of t.getRoot().listMeshes())for(const u of i.listPrimitives()){const p=u.getAttribute("POSITION");let _=u.getAttribute("NORMAL");if(e.overwrite&&_)_.dispose();else if(_){s.debug("normals: Skipping primitive: NORMAL found.");continue}_=t.createAccessor().setArray(new Float32Array(3*p.getCount())).setType("VEC3");const B=[0,0,0],d=[0,0,0],V=[0,0,0];for(let I=0;I<p.getCount();I+=3){p.getElement(I+0,B),p.getElement(I+1,d),p.getElement(I+2,V);const L=xd(B,d,V);_.setElement(I+0,L),_.setElement(I+1,L),_.setElement(I+2,L)}u.setAttribute("NORMAL",_),o++}o?s.debug("normals: Complete."):s.warn("normals: No qualifying primitives found. See debug output.")})}function xd(n,e,t){const s=[e[0]-n[0],e[1]-n[1],e[2]-n[2]],o=[t[0]-n[0],t[1]-n[1],t[2]-n[2]];return es([0,0,0],[s[1]*o[2]-s[2]*o[1],s[2]*o[0]-s[0]*o[2],s[0]*o[1]-s[1]*o[0]])}const Fc={animations:!0,meshes:!0},Ud=(n=Fc)=>{const e=Nn({},Fc,n);return li("partition",async t=>{const s=t.getLogger();e.meshes!==!1&&function(o,i,u){const p=new Set(o.getRoot().listBuffers().map(_=>_.getURI()));o.getRoot().listMeshes().forEach((_,B)=>{if(Array.isArray(u.meshes)&&!u.meshes.includes(_.getName()))return void i.debug(`partition: Skipping mesh #${B} with name "${_.getName()}".`);i.debug(`partition: Creating buffer for mesh "${_.getName()}".`);const d=o.createBuffer(_.getName()).setURI(Rc(_.getName()||"mesh",p));_.listPrimitives().forEach(V=>{const I=V.getIndices();I&&I.setBuffer(d),V.listAttributes().forEach(L=>L.setBuffer(d)),V.listTargets().forEach(L=>{L.listAttributes().forEach(W=>W.setBuffer(d))})})})}(t,s,e),e.animations!==!1&&function(o,i,u){const p=new Set(o.getRoot().listBuffers().map(_=>_.getURI()));o.getRoot().listAnimations().forEach((_,B)=>{if(Array.isArray(u.animations)&&!u.animations.includes(_.getName()))return void i.debug(`partition: Skipping animation #${B} with name "${_.getName()}".`);i.debug(`partition: Creating buffer for animation "${_.getName()}".`);const d=o.createBuffer(_.getName()).setURI(Rc(_.getName()||"animation",p));_.listSamplers().forEach(V=>{const I=V.getInput(),L=V.getOutput();I&&I.setBuffer(d),L&&L.setBuffer(d)})})}(t,s,e),e.meshes||e.animations||s.warn("partition: Select animations or meshes to create a partition."),await t.transform(ls({propertyTypes:[Me.BUFFER]})),s.debug("partition: Complete.")})};function Rc(n,e){let t=`${n}.bin`,s=1;for(;e.has(t);)t=`${n}_${s++}.bin`;return t}const Sc={tolerance:1e-4},Gd=(n=Sc)=>{const e=Nn({},Sc,n);return li("resample",async(t,s)=>{const o=new Set,i=t.getRoot().listAccessors().length,u=t.getLogger();let p=!1;for(const _ of t.getRoot().listAnimations()){const B=new Map;for(const d of _.listChannels())B.set(d.getSampler(),d.getTargetPath());for(const d of _.listSamplers())B.get(d)!=="weights"?d.getInterpolation()!=="STEP"&&d.getInterpolation()!=="LINEAR"||(o.add(d.getInput()),o.add(d.getOutput()),Hd(d,B.get(d),e)):p=!0}for(const _ of Array.from(o.values()))_.listParents().some(B=>!(B instanceof Xo))||_.dispose();t.getRoot().listAccessors().length>i&&!Tu(s,"resample","dedup")&&await t.transform(Oa({propertyTypes:[Me.ACCESSOR]})),p&&u.warn("resample: Skipped optimizing morph target keyframes, not yet supported."),u.debug("resample: Complete.")})};function Hd(n,e,t){const s=n.getInput().clone(),o=n.getOutput().clone(),i=t.tolerance,u=n.getInterpolation(),p=s.getCount()-1,_=[],B=[],d=[],V=[];let I=1;for(let L=1;L<p;++L){const W=s.getScalar(I-1),le=s.getScalar(L),ne=s.getScalar(L+1),q=(le-W)/(ne-W);let X=!1;if(le!==ne&&(L!==1||le!==s.getScalar(0)))if(o.getElement(I-1,V),o.getElement(L,B),o.getElement(L+1,d),u==="LINEAR"&&e==="rotation"){const re=qa(_,V,d,q),ce=oc(V,B)+oc(B,d);X=!dn.eq(B,re,i)||ce+Number.EPSILON>=Math.PI}else if(u==="LINEAR"){const re=kd(_,V,d,q);X=!dn.eq(B,re,i)}else u==="STEP"&&(X=!dn.eq(B,V)||!dn.eq(B,d));X&&(L!==I&&(s.setScalar(I,s.getScalar(L)),o.setElement(I,o.getElement(L,_))),I++)}p>0&&(s.setScalar(I,s.getScalar(p)),o.setElement(I,o.getElement(p,_)),I++),I!==s.getCount()?(s.setArray(s.getArray().slice(0,I)),o.setArray(o.getArray().slice(0,I*o.getElementSize())),n.setInput(s),n.setOutput(o)):(s.dispose(),o.dispose())}function jd(n,e,t){return n*(1-t)+e*t}function kd(n,e,t,s){for(let o=0;o<e.length;o++)n[o]=jd(e[o],t[o],s);return n}const Pc={name:"",fps:10,pattern:/.*/,sort:!0};function Wd(n=Pc){const e=Nn({},Pc,n);return li("sequence",t=>{const s=t.getLogger(),o=t.getRoot(),i=e.fps,u=o.listNodes().filter(B=>B.getName().match(e.pattern));e.sort&&u.sort((B,d)=>B.getName()>d.getName()?1:-1);const p=t.createAnimation(e.name),_=o.listBuffers()[0];u.forEach((B,d)=>{let V,I;d===0?(V=[d/i,(d+1)/i],I=[1,1,1,0,0,0]):d===u.length-1?(V=[(d-1)/i,d/i],I=[0,0,0,1,1,1]):(V=[(d-1)/i,d/i,(d+1)/i],I=[0,0,0,1,1,1,0,0,0]);const L=t.createAccessor().setArray(new Float32Array(V)).setBuffer(_),W=t.createAccessor().setArray(new Float32Array(I)).setBuffer(_).setType(xt.Type.VEC3),le=t.createAnimationSampler().setInterpolation($o.Interpolation.STEP).setInput(L).setOutput(W),ne=t.createAnimationChannel().setTargetNode(B).setTargetPath(So.TargetPath.SCALE).setSampler(le);p.addSampler(le).addChannel(ne)}),s.debug("sequence: Complete.")})}const Ns={tolerance:1e-4,overwrite:!0};function wf(n=Ns){const e=Nn({},Ns,n);if(e.tolerance>.1||e.tolerance<0)throw new Error("weld: Requires 0  tolerance  0.1");return li("weld",async(t,s)=>{const o=t.getLogger();for(const i of t.getRoot().listMeshes())for(const u of i.listPrimitives())Df(t,u,e);Tu(s,"weld","dedup")||await t.transform(Oa({propertyTypes:[Me.ACCESSOR]})),o.debug("weld: Complete.")})}function Df(n,e,t){e.getIndices()&&!t.overwrite||e.getMode()!==Xn.Mode.POINTS&&(t.tolerance===0?function(s,o){if(o.getIndices())return;const i=o.listAttributes()[0],u=i.getCount(),p=i.getBuffer(),_=s.createAccessor().setBuffer(p).setType(xt.Type.SCALAR).setArray(ta(u));o.setIndices(_)}(n,e):function(s,o,i){const u=s.getLogger(),p=o.getAttribute("POSITION"),_=o.getIndices()||s.createAccessor().setArray(ta(p.getCount())),B=new Uint32Array(new Set(_.getArray())),d=Math.max(i.tolerance,Number.EPSILON),V={};for(const ye of o.listSemantics()){const Ue=o.getAttribute(ye);V[ye]=Vd(ye,Ue,d)}var I;u.debug(`weld: Tolerance thresholds: ${I=V,Object.entries(I).map(([ye,Ue])=>`${ye}=${Ue}`).join(", ")}`);const L=[0,0,0],W=[0,0,0];B.sort((ye,Ue)=>(p.getElement(ye,L),p.getElement(Ue,W),L[0]>W[0]?1:-1));const le=ta(B.length),ne=ta(B.length),q=p.getCount();let X=0,re=0;for(let ye=0;ye<B.length;ye++){const Ue=B[ye];for(let Ge=ye-1;Ge>=0;Ge--){const Ve=le[B[Ge]];if(p.getElement(Ue,L),p.getElement(Ve,W),Math.abs(L[0]-W[0])>V.POSITION)break;re++;const ke=o.listSemantics().every(et=>Mc(o.getAttribute(et),Ue,Ve,V[et])),bt=o.listTargets().every(et=>et.listSemantics().every(Pt=>Mc(et.getAttribute(Pt),Ue,Ve,V[Pt])));if(ke&&bt){le[Ue]=Ve;break}}ne[Ue]=le[Ue]===Ue?X++:ne[le[Ue]]}u.debug(`weld: Iterations per vertex: ${Math.round(re/B.length)} (avg)`),u.debug(`weld: ${wu(q,X)} vertices.`);const ce=_.getCount(),_e=ta(ce,B.length);for(let ye=0;ye<ce;ye++)_e[ye]=ne[_.getScalar(ye)];o.setIndices(_.clone().setArray(_e)),_.listParents().length===1&&_.dispose();for(const ye of o.listAttributes())Oc(o,ye,ne,X);for(const ye of o.listTargets())for(const Ue of ye.listAttributes())Oc(ye,Ue,ne,X)}(n,e,t))}function Oc(n,e,t,s){const o=(i=e.getArray(),u=s*e.getElementSize(),new i.constructor(u));var i,u;const p=e.clone().setArray(o),_=new Uint8Array(s);for(let B=0,d=[];B<t.length;B++)_[t[B]]||(p.setElement(t[B],e.getElement(B,d)),_[t[B]]=1);n.swap(e,p),e.listParents().length===1&&e.dispose()}const ba=[],Ea=[];function Vd(n,e,t){return n==="NORMAL"||n==="TANGENT"?.5:n.startsWith("COLOR_")?.01:n.startsWith("TEXCOORD_")?1e-4:n.startsWith("JOINTS_")?0:n.startsWith("WEIGHTS_")?.01:(ba.length=Ea.length=0,e.getMinNormalized(ba),e.getMaxNormalized(Ea),t*(Math.max(...Ea)-Math.min(...ba)||1))}function Mc(n,e,t,s,o){n.getElement(e,ba),n.getElement(t,Ea);for(let i=0,u=n.getElementSize();i<u;i++)if(Math.abs(ba[i]-Ea[i])>s)return!1;return!0}const Fu={ratio:.5,error:.001,lockBorder:!1},Kd=n=>{const e=Nn({},Fu,n),t=e.simplifier;if(!t)throw new Error('simplify: simplifier dependency required  install "meshoptimizer".');return li("simplify",async(s,o)=>{const i=s.getLogger();await t.ready,await s.transform(wf({overwrite:!1}));for(const u of s.getRoot().listMeshes())for(const p of u.listPrimitives())p.getMode()===Xn.Mode.TRIANGLES?If(s,p,e):i.warn(`simplify: Skipping primitive of mesh "${u.getName()}": Requires TRIANGLES draw mode.`);Tu(o,"simplify","dedup")||await s.transform(Oa({propertyTypes:[Me.ACCESSOR]})),i.debug("simplify: Complete.")})};function If(n,e,t){const s=Nn({},Fu,t),o=s.simplifier,i=n.getLogger(),u=e.getAttribute("POSITION"),p=e.getIndices(),_=u.getCount();let B=u.getArray(),d=p.getArray();if(u.getComponentType()!==xt.ComponentType.FLOAT)if(u.getNormalized()){const q=B,X=new Float32Array(q.length);for(let re=0,ce=u.getCount(),_e=[];re<ce;re++)_e=u.getElement(re,_e),u.setArray(X).setElement(re,_e).setArray(q);B=X}else B=new Float32Array(B);p.getComponentType()!==xt.ComponentType.UNSIGNED_INT&&(d=new Uint32Array(d));const V=3*Math.floor(s.ratio*_/3),[I,L]=o.simplify(d,B,3,V,s.error,s.lockBorder?["LockBorder"]:[]),[W,le]=o.compactMesh(I);i.debug(`simplify: ${wu(u.getCount(),le)} vertices, error: ${L.toFixed(4)}.`);for(const q of Du(e)){const X=q.clone();gf(X,W,le),id(e,q,X),q.listParents().length===1&&q.dispose()}const ne=p.clone();return ne.setArray(_<=65534?new Uint16Array(I):I),e.setIndices(ne),p.listParents().length===1&&p.dispose(),e}function Jd(n,e){const t=Ru(n,e),s=[];return t&oi.R&&s.push(oi.R),t&oi.G&&s.push(oi.G),t&oi.B&&s.push(oi.B),t&oi.A&&s.push(oi.A),s}function Ru(n,e){let t=0;for(const s of n.getGraph().listParentEdges(e)){const o=s.getParent();let{channels:i}=s.getAttributes();i&&s.getName()==="baseColorTexture"&&o instanceof wo&&o.getAlphaMode()===wo.AlphaMode.OPAQUE&&(i&=~oi.A),i?t|=i:o.propertyType!==Me.ROOT&&n.getLogger().warn(`Missing attribute ".channels" on edge, "${s.getName()}".`)}return t}function Su(n,e){const t=n.getRoot(),s=n.getGraph().listParentEdges(e).filter(o=>o.getParent()!==t).map(o=>o.getName());return Array.from(new Set(s))}var vo;(function(n){n.OXIPNG="oxipng",n.MOZJPEG="mozjpeg",n.WEBP="webp"})(vo||(vo={}));const Ff={[vo.OXIPNG]:"image/png",[vo.MOZJPEG]:"image/jpeg",[vo.WEBP]:"image/webp"},ps={jobs:4,formats:/.*/,slots:/.*/,auto:!1},qd=Nn({},ps,{codec:vo.WEBP}),zd=Nn({},ps,{codec:vo.MOZJPEG,formats:/^image\/jpeg$/}),Yd=Nn({},ps,{codec:vo.OXIPNG,formats:/^image\/png$/}),Xd=["image/jpeg","image/png","image/webp"];let ia=null,Ls=0;const $d=(n,e)=>(ia||(ia=new n.ImagePool(e)),Ls++,ia),Qd=()=>{Ls--,ia&&Ls<=0&&(ia.close(),ia=null)},ds=function(n){const e=Nn({},ps,n),t=e.squoosh,s=e.codec;if(!t)throw new Error(`${s}: squoosh dependency required  install "@squoosh/lib".`);return async o=>{const i=o.getLogger(),u=o.getRoot().listTextures(),p=$d(t,e.jobs);await Promise.all(u.map(async(_,B)=>{const d=Su(o,_),V=Ru(o,_),I=_.getURI()||_.getName()||`${B+1}/${o.getRoot().listTextures().length}`,L=`${s}:texture(${I})`;if(!Xd.includes(_.getMimeType()))return void i.debug(`${L}: Skipping, unsupported texture type "${_.getMimeType()}".`);if(!e.formats.test(_.getMimeType()))return void i.debug(`${L}: Skipping, "${_.getMimeType()}" excluded by "formats" parameter.`);if(d.length&&!d.some(X=>e.slots.test(X)))return void i.debug(`${L}: Skipping, [${d.join(", ")}] excluded by "slots" parameter.`);if(e.codec===vo.MOZJPEG&&V&oi.A)return void i.warn(`${L}: Skipping, [${d.join(", ")}] requires alpha channel.`);i.debug(`${L}: Slots  [${d.join(", ")}]`);const W=p.ingestImage(_.getImage()),le=_.getImage().byteLength;await W.encode({[e.codec]:e.auto?"auto":{}});const ne=await W.encodedWith[e.codec];i.debug(`${L}: ${JSON.stringify(ne.optionsUsed)}`),_.setImage(ne.binary).setMimeType(Ff[e.codec]);const q=ne.binary.byteLength;i.debug(`${L}: ${lc(le)}  ${lc(q)}`)})),Qd(),i.debug(`${s}: Complete.`)}},Zd=function(n){const e=Nn({},qd,n);return async t=>{await ds(e)(t),t.getRoot().listTextures().some(s=>s.getMimeType()===Ff[vo.WEBP])&&t.createExtension(os).setRequired(!0)}},e_=function(n){const e=Nn({},zd,n);return t=>ds(e)(t)},t_=function(n){const e=Nn({},Yd,n);return t=>ds(e)(t)},Nc={overwrite:!1};function r_(n=Nc){if(!n.generateTangents)throw new Error('tangents: generateTangents callback required  install "mikktspace".');const e=Nn({},Nc,n);return li("tangents",t=>{const s=t.getLogger(),o=new Map,i=new Map;let u=0;for(const p of t.getRoot().listMeshes()){const _=p.getName(),B=p.listPrimitives();for(let d=0;d<B.length;d++){const V=B[d];if(!i_(V,s,_,d,e.overwrite))continue;const I=n_(V),L=V.getAttribute("POSITION").getArray(),W=V.getAttribute("NORMAL").getArray(),le=V.getAttribute(I).getArray(),ne=o.get(L)||ya();o.set(L,ne);const q=o.get(W)||ya();o.set(W,q);const X=o.get(le)||ya();o.set(le,X);const re=V.getAttribute("TANGENT");re&&re.listParents().length===2&&re.dispose();const ce=`${ne}|${q}|${X}`;let _e=i.get(ce);if(_e){s.debug(`tangents: Found cache for primitive ${d} of mesh "${_}".`),V.setAttribute("TANGENT",_e),u++;continue}s.debug(`tangents: Generating for primitive ${d} of mesh "${_}".`);const ye=V.getAttribute("POSITION").getBuffer(),Ue=e.generateTangents(L instanceof Float32Array?L:new Float32Array(L),W instanceof Float32Array?W:new Float32Array(W),le instanceof Float32Array?le:new Float32Array(le));for(let Ge=3;Ge<Ue.length;Ge+=4)Ue[Ge]*=-1;_e=t.createAccessor().setBuffer(ye).setArray(Ue).setType("VEC4"),V.setAttribute("TANGENT",_e),i.set(ce,_e),u++}}u?s.debug("tangents: Complete."):s.warn("tangents: No qualifying primitives found. See debug output.")})}function n_(n){const e=n.getMaterial();if(!e)return"TEXCOORD_0";const t=e.getNormalTextureInfo();if(!t)return"TEXCOORD_0";const s=`TEXCOORD_${t.getTexCoord()}`;return n.getAttribute(s)?s:"TEXCOORD_0"}function i_(n,e,t,s,o){return n.getMode()===Xn.Mode.TRIANGLES&&n.getAttribute("POSITION")&&n.getAttribute("NORMAL")&&n.getAttribute("TEXCOORD_0")?n.getAttribute("TANGENT")&&!o?(e.debug(`tangents: Skipping primitive ${s} of mesh "${t}": TANGENT found.`),!1):!n.getIndices()||(e.warn(`tangents: Skipping primitive ${s} of mesh "${t}": primitives must be unwelded.`),!1):(e.debug(`tangents: Skipping primitive ${s} of mesh "${t}": primitives must have attributes=[POSITION, NORMAL, TEXCOORD_0] and mode=TRIANGLES.`),!1)}const Bo="textureResize";var Da;(function(n){n.LANCZOS3="lanczos3",n.LANCZOS2="lanczos2"})(Da||(Da={}));const xs={size:[2048,2048],filter:Da.LANCZOS3,pattern:null,slots:null};function o_(n=xs){const e=Nn({},xs,n);return li(Bo,async t=>{const s=t.getLogger();for(const o of t.getRoot().listTextures()){const i=o.getName(),u=o.getURI();if(e.pattern&&!e.pattern.test(i)&&!e.pattern.test(u)){s.debug(`${Bo}: Skipping, excluded by "pattern" parameter.`);continue}if(o.getMimeType()!=="image/png"&&o.getMimeType()!=="image/jpeg"){s.warn(`${Bo}: Skipping, unsupported texture type "${o.getMimeType()}".`);continue}const p=Su(t,o);if(e.slots&&!p.some(q=>{var X;return(X=e.slots)==null?void 0:X.test(q)})){s.debug(`${Bo}: Skipping, [${p.join(", ")}] excluded by "slots" parameter.`);continue}const[_,B]=e.size,[d,V]=o.getSize();if(d<=_&&V<=B){s.debug(`${Bo}: Skipping, not within size range.`);continue}let I=d,L=V;I>_&&(L=Math.floor(L*(_/I)),I=_),L>B&&(I=Math.floor(I*(B/L)),L=B);const W=o.getImage(),le=await ff(W,o.getMimeType()),ne=fo(new Uint8Array(I*L*4),[I,L,4]);s.debug(`${Bo}: Resizing "${u||i}", ${le.shape}  ${ne.shape}...`),s.debug(`${Bo}: Slots  [${p.join(", ")}]`);try{e.filter===Da.LANCZOS3?rd(le,ne):nd(le,ne)}catch(q){if(q instanceof Error){s.warn(`${Bo}: Failed to resize "${u||i}": "${q.message}".`);continue}throw q}o.setImage(await lf(ne,o.getMimeType()))}s.debug(`${Bo}: Complete.`)})}function a_(n,e,t=!1,s){for(const o of n.listPrimitives())if(o.listParents().some(i=>i.propertyType===Me.MESH&&i!==n)){const i=o.clone();n.swap(o,i);for(const u of i.listTargets()){const p=u.clone();i.swap(u,p)}}if(!t){const o=new Set([...n.listPrimitives(),...n.listPrimitives().flatMap(u=>u.listTargets())]),i=new Map;for(const u of n.listPrimitives())for(const p of Du(u))p.listParents().some(_=>(_ instanceof Xn||_ instanceof qs)&&!o.has(_))&&!i.has(p)&&i.set(p,p.clone());for(const u of o)for(const[p,_]of i)u.swap(p,_)}s=s||new Set;for(const o of n.listPrimitives())Rf(o,e,s)}function Rf(n,e,t=new Set){var s;const o=n.getAttribute("POSITION"),i=((s=n.getIndices())==null?void 0:s.getArray())||ta(o.getCount());o&&Lc(e,o,i,new Set(t));const u=n.getAttribute("NORMAL");u&&xc(e,u,i,new Set(t));const p=n.getAttribute("TANGENT");p&&Uc(e,p,i,new Set(t));for(const _ of n.listTargets()){const B=_.getAttribute("POSITION");B&&Lc(e,B,i,new Set(t));const d=_.getAttribute("NORMAL");d&&xc(e,d,i,new Set(t));const V=_.getAttribute("TANGENT");V&&Uc(e,V,i,new Set(t))}for(let _=0;_<i.length;_++)t.add(i[_])}function Lc(n,e,t,s){const o=new Float32Array(3*e.getCount()),i=e.getElementSize();for(let p=0,_=[],B=e.getCount();p<B;p++)o.set(e.getElement(p,_),p*i);const u=Fa();for(let p=0;p<t.length;p++){const _=t[p];s.has(_)||(e.getElement(_,u),Hs(u,u,n),o.set(u,3*_),s.add(_))}e.setArray(o).setNormalized(!1)}function xc(n,e,t,s){const o=pf();qp(o,n),Yp(o,o),zp(o,o);const i=Fa();for(let u=0;u<t.length;u++){const p=t[u];s.has(p)||(e.getElement(p,i),Kf(i,i,o),es(i,i),e.setElement(p,i),s.add(p))}}function Uc(n,e,t,s){const o=Fa(),i=df();for(let u=0;u<t.length;u++){const p=t[u];if(s.has(p))continue;e.getElement(p,i);const[_,B,d]=i;o[0]=n[0]*_+n[4]*B+n[8]*d,o[1]=n[1]*_+n[5]*B+n[9]*d,o[2]=n[2]*_+n[6]*B+n[10]*d,es(o,o),i[0]=o[0],i[1]=o[1],i[2]=o[2],e.setElement(p,i),s.add(p)}}const s_=()=>n=>{const e=n.createExtension(cs).createUnlit();n.getRoot().listMaterials().forEach(t=>{t.setExtension("KHR_materials_unlit",e)})},Gc={},u_=(n=Gc)=>(Nn({},Gc,n),li("unpartition",async e=>{const t=e.getLogger(),s=e.getRoot().listBuffers()[0];e.getRoot().listAccessors().forEach(o=>o.setBuffer(s)),e.getRoot().listBuffers().forEach((o,i)=>i>0?o.dispose():null),t.debug("unpartition: Complete.")}));function c_(n,e){const t=n.getGraph(),s=[];for(const o of t.listParentEdges(e)){const i=o.getParent(),u=o.getName()+"Info";for(const p of t.listChildEdges(i)){const _=p.getChild();_ instanceof jn&&p.getName()===u&&s.push(_)}}return s}const f_=Object.freeze(Object.defineProperty({__proto__:null,DRACO_DEFAULTS:mf,MESHOPT_DEFAULTS:Cf,QUANTIZE_DEFAULTS:Ms,SIMPLIFY_DEFAULTS:Fu,TEXTURE_RESIZE_DEFAULTS:xs,get TextureResizeFilter(){return Da},WELD_DEFAULTS:Ns,bounds:Ra,center:od,colorspace:ad,createLayoutPlan:bf,dedup:Oa,dequantize:sd,draco:cd,getTextureChannelMask:Ru,inspect:fd,instance:md,listTextureChannels:Jd,listTextureInfo:c_,listTextureSlots:Su,meshopt:Md,metalRough:Nd,mozjpeg:e_,normals:Ld,oxipng:t_,partition:Ud,prune:ls,quantize:Bf,reorder:vf,resample:Gd,sequence:Wd,simplify:Kd,simplifyPrimitive:If,sortPrimitiveWeights:Ef,squoosh:ds,tangents:r_,textureResize:o_,transformMesh:a_,transformPrimitive:Rf,unlit:s_,unpartition:u_,unweld:Tf,webp:Zd,weld:wf,weldPrimitive:Df},Symbol.toStringTag,{value:"Module"})),l_=sa(f_);var Zo={},Cs={},Hc;function p_(){if(Hc)return Cs;Hc=1;var n=function(){return function(d){d=d||{};function t(){return ot.buffer!=mn&&_n(ot.buffer),Bi}function s(){return ot.buffer!=mn&&_n(ot.buffer),Un}function o(){return ot.buffer!=mn&&_n(ot.buffer),gi}function i(){return ot.buffer!=mn&&_n(ot.buffer),zi}function u(){return ot.buffer!=mn&&_n(ot.buffer),Oi}function p(){return ot.buffer!=mn&&_n(ot.buffer),qn}function _(){return ot.buffer!=mn&&_n(ot.buffer),On}function B(){return ot.buffer!=mn&&_n(ot.buffer),ai}var d=typeof d<"u"?d:{},V,I;d.ready=new Promise(function(a,f){V=a,I=f});var L={},W;for(W in d)d.hasOwnProperty(W)&&(L[W]=d[W]);var le=function(a,f){throw f},ne=typeof importScripts=="function",q=d.ENVIRONMENT_IS_PTHREAD||!1,X="";function re(a){return d.locateFile?d.locateFile(a,X):X+a}var ce,_e,ye,Ue;{ne?X=Zr.dirname(X)+"/":X=__dirname+"/",ce=function(f,v){return ye||(ye=Zr),Ue||(Ue=Zr),f=Ue.normalize(f),ye.readFileSync(f,v?null:"utf8")},_e=function(f){var v=ce(f,!0);return v.buffer||(v=new Uint8Array(v)),Pn(v.buffer),v},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),le=function(a){process.exit(a)},d.inspect=function(){return"[Emscripten Module object]"};var Ge;try{Ge=Zr}catch(a){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),a}ln.Worker=Ge.Worker}typeof performance>"u"&&(ln.performance=Zr.performance);var Ve=d.print||console.log.bind(console),ke=d.printErr||console.warn.bind(console);for(W in L)L.hasOwnProperty(W)&&(d[W]=L[W]);L=null,d.arguments&&d.arguments,d.thisProgram&&d.thisProgram,d.quit&&(le=d.quit);var bt=0,et=function(a){bt=a},Pt=function(){return bt},st;d.wasmBinary&&(st=d.wasmBinary);var Ze=d.noExitRuntime||!0;typeof WebAssembly!="object"&&wn("no native wasm support detected");var ot,jt,K=!1;function Pn(a,f){a||wn("Assertion failed: "+f)}function Kr(a,f,v){for(var D=f+v,N="";!(f>=D);){var y=a[f++];if(!y)return N;if(!(y&128)){N+=String.fromCharCode(y);continue}var w=a[f++]&63;if((y&224)==192){N+=String.fromCharCode((y&31)<<6|w);continue}var k=a[f++]&63;if((y&240)==224?y=(y&15)<<12|w<<6|k:y=(y&7)<<18|w<<12|k<<6|a[f++]&63,y<65536)N+=String.fromCharCode(y);else{var te=y-65536;N+=String.fromCharCode(55296|te>>10,56320|te&1023)}}return N}function Xr(a,f){return a?Kr(s(),a,f):""}function xn(a,f,v,D){if(!(D>0))return 0;for(var N=v,y=v+D-1,w=0;w<a.length;++w){var k=a.charCodeAt(w);if(k>=55296&&k<=57343){var te=a.charCodeAt(++w);k=65536+((k&1023)<<10)|te&1023}if(k<=127){if(v>=y)break;f[v++]=k}else if(k<=2047){if(v+1>=y)break;f[v++]=192|k>>6,f[v++]=128|k&63}else if(k<=65535){if(v+2>=y)break;f[v++]=224|k>>12,f[v++]=128|k>>6&63,f[v++]=128|k&63}else{if(v+3>=y)break;f[v++]=240|k>>18,f[v++]=128|k>>12&63,f[v++]=128|k>>6&63,f[v++]=128|k&63}}return f[v]=0,v-N}function Br(a,f,v){return xn(a,s(),f,v)}function ut(a){for(var f=0,v=0;v<a.length;++v){var D=a.charCodeAt(v);D>=55296&&D<=57343&&(D=65536+((D&1023)<<10)|a.charCodeAt(++v)&1023),D<=127?++f:D<=2047?f+=2:D<=65535?f+=3:f+=4}return f}function F(a,f){for(var v="",D=0;!(D>=f/2);++D){var N=o()[a+D*2>>1];if(N==0)break;v+=String.fromCharCode(N)}return v}function Zn(a,f,v){if(v===void 0&&(v=2147483647),v<2)return 0;v-=2;for(var D=f,N=v<a.length*2?v/2:a.length,y=0;y<N;++y){var w=a.charCodeAt(y);o()[f>>1]=w,f+=2}return o()[f>>1]=0,f-D}function kn(a){return a.length*2}function Ei(a,f){for(var v=0,D="";!(v>=f/4);){var N=u()[a+v*4>>2];if(N==0)break;if(++v,N>=65536){var y=N-65536;D+=String.fromCharCode(55296|y>>10,56320|y&1023)}else D+=String.fromCharCode(N)}return D}function qi(a,f,v){if(v===void 0&&(v=2147483647),v<4)return 0;for(var D=f,N=D+v-4,y=0;y<a.length;++y){var w=a.charCodeAt(y);if(w>=55296&&w<=57343){var k=a.charCodeAt(++y);w=65536+((w&1023)<<10)|k&1023}if(u()[f>>2]=w,f+=4,f+4>N)break}return u()[f>>2]=0,f-D}function io(a){for(var f=0,v=0;v<a.length;++v){var D=a.charCodeAt(v);D>=55296&&D<=57343&&++v,f+=4}return f}function Pi(a,f){return a%f>0&&(a+=f-a%f),a}var mn,Bi,Un,gi,zi,Oi,qn,On,ai;q&&(mn=d.buffer);function _n(a){mn=a,d.HEAP8=Bi=new Int8Array(a),d.HEAP16=gi=new Int16Array(a),d.HEAP32=Oi=new Int32Array(a),d.HEAPU8=Un=new Uint8Array(a),d.HEAPU16=zi=new Uint16Array(a),d.HEAPU32=qn=new Uint32Array(a),d.HEAPF32=On=new Float32Array(a),d.HEAPF64=ai=new Float64Array(a)}var Gn=d.INITIAL_MEMORY||16777216;if(q)ot=d.wasmMemory,mn=d.buffer;else if(d.wasmMemory)ot=d.wasmMemory;else if(ot=new WebAssembly.Memory({initial:Gn/65536,maximum:2147483648/65536,shared:!0}),!(ot.buffer instanceof SharedArrayBuffer))throw ke("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");ot&&(mn=ot.buffer),Gn=mn.byteLength,_n(mn);var Ln,Mi=[],Ni=[],Ci=[];function si(){if(!q){if(d.preRun)for(typeof d.preRun=="function"&&(d.preRun=[d.preRun]);d.preRun.length;)Rn(d.preRun.shift());Gi(Mi)}}function Jn(){q||Gi(Ni)}function pi(){if(!q){if(d.postRun)for(typeof d.postRun=="function"&&(d.postRun=[d.postRun]);d.postRun.length;)Li(d.postRun.shift());Gi(Ci)}}function Rn(a){Mi.unshift(a)}function oo(a){Ni.unshift(a)}function Li(a){Ci.unshift(a)}var Sn=0,Wn=null;function ei(a){Pn(!q,"addRunDependency cannot be used in a pthread worker"),Sn++,d.monitorRunDependencies&&d.monitorRunDependencies(Sn)}function ti(a){if(Sn--,d.monitorRunDependencies&&d.monitorRunDependencies(Sn),Sn==0&&Wn){var f=Wn;Wn=null,f()}}d.preloadedImages={},d.preloadedAudios={};function wn(a){d.onAbort&&d.onAbort(a),q&&console.error("Pthread aborting at "+new Error().stack),a+="",ke(a),K=!0,a="abort("+a+"). Build with -s ASSERTIONS=1 for more info.";var f=new WebAssembly.RuntimeError(a);throw I(f),f}var Ii="data:application/octet-stream;base64,";function di(a){return a.startsWith(Ii)}if(d.locateFile){var Vn="avif_node_enc_mt.wasm";di(Vn)||(Vn=re(Vn))}else var Vn=new URL("avif_node_enc_mt.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("avif_node_enc_mt-143090b9.js",document.baseURI).href).toString();function xi(a){try{if(a==Vn&&st)return new Uint8Array(st);if(_e)return _e(a);throw"both async and sync fetching of the wasm failed"}catch(f){wn(f)}}function ao(){return!st&&ne&&typeof fetch=="function"?fetch(Vn,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+Vn+"'";return a.arrayBuffer()}).catch(function(){return xi(Vn)}):Promise.resolve().then(function(){return xi(Vn)})}function Ui(){var a={a:Q};function f(w,k){var te=w.exports;if(d.asm=te,Ln=d.asm.ja,oo(d.asm.fa),Et.tlsInitFunctions.push(d.asm.ia),jt=k,!q){var M=Et.unusedWorkers.length;Et.unusedWorkers.forEach(function(m){Et.loadWasmModuleToWorker(m,function(){--M||ti()})})}}q||ei();function v(w){f(w.instance,w.module)}function D(w){return ao().then(function(k){var te=WebAssembly.instantiate(k,a);return te}).then(w,function(k){ke("failed to asynchronously prepare wasm: "+k),wn(k)})}function N(){return!st&&typeof WebAssembly.instantiateStreaming=="function"&&!di(Vn)&&typeof fetch=="function"?fetch(Vn,{credentials:"same-origin"}).then(function(w){var k=WebAssembly.instantiateStreaming(w,a);return k.then(v,function(te){return ke("wasm streaming compile failed: "+te),ke("falling back to ArrayBuffer instantiation"),D(v)})}):D(v)}if(d.instantiateWasm)try{var y=d.instantiateWasm(a,f);return y}catch(w){return ke("Module.instantiateWasm callback failed with error: "+w),!1}return N().catch(I),{}}var Yi={601124:function(){throw"Canceled!"},601142:function(a,f){setTimeout(function(){ve(a,f)},0)}};function Xi(){Et.initRuntime()}function Gi(a){for(;a.length>0;){var f=a.shift();if(typeof f=="function"){f(d);continue}var v=f.func;typeof v=="number"?f.arg===void 0?Ln.get(v)():Ln.get(v)(f.arg):v(f.arg===void 0?null:f.arg)}}var _i={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};function Hi(a,f){if(a<=0||a>t().length||a&!0||f<0)return-28;if(f==0)return 0;f>=2147483647&&(f=1/0);var v=Atomics.load(u(),rr>>2),D=0;if(v==a){var N=Atomics.compareExchange(u(),rr>>2,v,0);if(N==v&&(--f,D=1,f<=0))return 1}var y=Atomics.notify(u(),a>>2,f);if(y>=0)return y+D;throw"Atomics.notify returned an unexpected value "+y}d._emscripten_futex_wake=Hi;function so(a){if(q)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!a)throw"Internal Error! Null pthread_ptr in killThread!";u()[a+12>>2]=0;var f=Et.pthreads[a];f.worker.terminate(),Et.freeThreadData(f),Et.runningWorkers.splice(Et.runningWorkers.indexOf(f.worker),1),f.worker.pthread=void 0}function Ai(a){if(q)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!a)throw"Internal Error! Null pthread_ptr in cancelThread!";var f=Et.pthreads[a];f.worker.postMessage({cmd:"cancel"})}function Ti(a){if(q)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!a)throw"Internal Error! Null pthread_ptr in cleanupThread!";var f=Et.pthreads[a];if(f){u()[a+12>>2]=0;var v=f.worker;Et.returnWorkerToPool(v)}}var Et={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var a=navigator.hardwareConcurrency,f=0;f<a;++f)Et.allocateUnusedWorker()},initRuntime:function(){for(var a=pe(228),f=0;f<228/4;++f)p()[a/4+f]=0;u()[a+12>>2]=a;var v=a+152;u()[v>>2]=v;for(var D=pe(512),f=0;f<128;++f)p()[D/4+f]=0;Atomics.store(p(),a+100>>2,D),Atomics.store(p(),a+40>>2,a),pt(a,!ne,1),U(a)},initWorker:function(){},pthreads:{},threadExitHandlers:[],runExitHandlers:function(){for(;Et.threadExitHandlers.length>0;)Et.threadExitHandlers.pop()();q&&Vt()&&br()},runExitHandlersAndDeinitThread:function(a,f){Atomics.store(p(),a+56>>2,1),Atomics.store(p(),a+60>>2,0),Et.runExitHandlers(),Atomics.store(p(),a+4>>2,f),Atomics.store(p(),a+0>>2,1),Hi(a+0,2147483647),pt(0,0,0)},setExitStatus:function(a){},threadExit:function(a){var f=Vt();f&&(Et.runExitHandlersAndDeinitThread(f,a),q&&postMessage({cmd:"exit"}))},threadCancel:function(){Et.runExitHandlersAndDeinitThread(Vt(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var a in Et.pthreads){var f=Et.pthreads[a];f&&f.worker&&Et.returnWorkerToPool(f.worker)}Et.pthreads={};for(var v=0;v<Et.unusedWorkers.length;++v){var D=Et.unusedWorkers[v];D.terminate()}Et.unusedWorkers=[];for(var v=0;v<Et.runningWorkers.length;++v){var D=Et.runningWorkers[v],f=D.pthread;Et.freeThreadData(f),D.terminate()}Et.runningWorkers=[]},freeThreadData:function(a){if(a){if(a.threadInfoStruct){var f=u()[a.threadInfoStruct+100>>2];u()[a.threadInfoStruct+100>>2]=0,me(f),me(a.threadInfoStruct)}a.threadInfoStruct=0,a.allocatedOwnStack&&a.stackBase&&me(a.stackBase),a.stackBase=0,a.worker&&(a.worker.pthread=null)}},returnWorkerToPool:function(a){Et.runWithoutMainThreadQueuedCalls(function(){delete Et.pthreads[a.pthread.threadInfoStruct],Et.unusedWorkers.push(a),Et.runningWorkers.splice(Et.runningWorkers.indexOf(a),1),Et.freeThreadData(a.pthread),a.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(a){u()[vt>>2]=0;try{a()}finally{u()[vt>>2]=1}},receiveObjectTransfer:function(a){},threadInit:function(){for(var a in Et.tlsInitFunctions)Et.tlsInitFunctions[a]()},loadWasmModuleToWorker:function(a,f){a.onmessage=function(v){var D=v.data,N=D.cmd;if(a.pthread&&(Et.currentProxiedOperationCallerThread=a.pthread.threadInfoStruct),D.targetThread&&D.targetThread!=Vt()){var y=Et.pthreads[D.targetThread];y?y.worker.postMessage(v.data,D.transferList):console.error('Internal error! Worker sent a message "'+N+'" to target pthread '+D.targetThread+", but that thread no longer exists!"),Et.currentProxiedOperationCallerThread=void 0;return}if(N==="processQueuedMainThreadWork")Ke();else if(N==="spawnThread")nn(v.data);else if(N==="cleanupThread")Ti(D.thread);else if(N==="killThread")so(D.thread);else if(N==="cancelThread")Ai(D.thread);else if(N==="loaded")a.loaded=!0,f&&f(a),a.runPthread&&(a.runPthread(),delete a.runPthread);else if(N==="print")Ve("Thread "+D.threadId+": "+D.text);else if(N==="printErr")ke("Thread "+D.threadId+": "+D.text);else if(N==="alert")alert("Thread "+D.threadId+": "+D.text);else if(N==="exit"){var w=a.pthread&&Atomics.load(p(),a.pthread.threadInfoStruct+64>>2);w&&Et.returnWorkerToPool(a)}else if(N==="exitProcess")try{A(D.returnCode)}catch(k){if(k instanceof l)return;throw k}else N==="cancelDone"?Et.returnWorkerToPool(a):N==="objectTransfer"?Et.receiveObjectTransfer(v.data):v.data.target==="setimmediate"?a.postMessage(v.data):ke("worker sent an unknown command "+N);Et.currentProxiedOperationCallerThread=void 0},a.onerror=function(v){ke("pthread sent an error! "+v.filename+":"+v.lineno+": "+v.message)},a.on("message",function(v){a.onmessage({data:v})}),a.on("error",function(v){a.onerror(v)}),a.on("exit",function(v){}),a.postMessage({cmd:"load",urlOrBlob:d.mainScriptUrlOrBlob,wasmMemory:ot,wasmModule:jt})},allocateUnusedWorker:function(){if(!d.locateFile){Et.unusedWorkers.push(new Worker(new URL("avif_node_enc_mt.worker.js",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("avif_node_enc_mt-143090b9.js",document.baseURI).href)));return}var a=re("avif_node_enc_mt.worker.js");Et.unusedWorkers.push(new Worker(a))},getNewWorker:function(){return Et.unusedWorkers.length==0&&(Et.allocateUnusedWorker(),Et.loadWasmModuleToWorker(Et.unusedWorkers[0])),Et.unusedWorkers.pop()},busySpinWait:function(a){for(var f=performance.now()+a;performance.now()<f;);}};function ji(a,f){Vr(a,f),fr(a)}d.establishStackSpace=ji;function ri(a,f){return Ln.get(a)(f)}d.invokeEntryPoint=ri;var $i=0;function ki(){return Ze||$i>0}d.keepRuntimeAlive=ki;function mi(a,f,v,D){wn("Assertion failed: "+Xr(a)+", at: "+[f?Xr(f):"unknown filename",v,D?Xr(D):"unknown function"])}var Hn;Hn=function(){var a=process.hrtime();return a[0]*1e3+a[1]/1e6};function Qi(a,f){Et.threadExitHandlers.push(function(){Ln.get(a)(f)})}function Wi(a,f){return Qi(a,f)}var zn={mappings:{},buffers:[null,[],[]],printChar:function(a,f){var v=zn.buffers[a];f===0||f===10?((a===1?Ve:ke)(Kr(v,0)),v.length=0):v.push(f)},varargs:void 0,get:function(){zn.varargs+=4;var a=u()[zn.varargs-4>>2];return a},getStr:function(a){var f=Xr(a);return f},get64:function(a,f){return a}};function Zi(a,f,v){return q?gr(1,1,a,f,v):(zn.varargs=v,0)}function eo(a,f,v){return q?gr(2,1,a,f,v):(zn.varargs=v,0)}function to(a,f,v){if(q)return gr(3,1,a,f,v);zn.varargs=v}var wi={};function yi(a){for(;a.length;){var f=a.pop(),v=a.pop();v(f)}}function ui(a){return this.fromWireType(p()[a>>2])}var vi={},ci={},hi={},we=48,r=57;function Fe(a){if(a===void 0)return"_unknown";a=a.replace(/[^a-zA-Z0-9_]/g,"$");var f=a.charCodeAt(0);return f>=we&&f<=r?"_"+a:a}function Ne(a,f){return a=Fe(a),new Function("body","return function "+a+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(f)}function Oe(a,f){var v=Ne(f,function(D){this.name=f,this.message=D;var N=new Error(D).stack;N!==void 0&&(this.stack=this.toString()+`
`+N.replace(/^Error(:[^\n]*)?\n/,""))});return v.prototype=Object.create(a.prototype),v.prototype.constructor=v,v.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},v}var Ce=void 0;function Ct(a){throw new Ce(a)}function at(a,f,v){a.forEach(function(k){hi[k]=f});function D(k){var te=v(k);te.length!==a.length&&Ct("Mismatched type converter count");for(var M=0;M<a.length;++M)yt(a[M],te[M])}var N=new Array(f.length),y=[],w=0;f.forEach(function(k,te){ci.hasOwnProperty(k)?N[te]=ci[k]:(y.push(k),vi.hasOwnProperty(k)||(vi[k]=[]),vi[k].push(function(){N[te]=ci[k],++w,w===y.length&&D(N)}))}),y.length===0&&D(N)}function At(a){var f=wi[a];delete wi[a];var v=f.rawConstructor,D=f.rawDestructor,N=f.fields,y=N.map(function(w){return w.getterReturnType}).concat(N.map(function(w){return w.setterArgumentType}));at([a],y,function(w){var k={};return N.forEach(function(te,M){var m=te.fieldName,T=w[M],x=te.getter,z=te.getterContext,S=w[M+N.length],G=te.setter,J=te.setterContext;k[m]={read:function(ie){return T.fromWireType(x(z,ie))},write:function(ie,de){var De=[];G(J,ie,S.toWireType(De,de)),yi(De)}}}),[{name:f.name,fromWireType:function(te){var M={};for(var m in k)M[m]=k[m].read(te);return D(te),M},toWireType:function(te,M){for(var m in k)if(!(m in M))throw new TypeError('Missing field:  "'+m+'"');var T=v();for(m in k)k[m].write(T,M[m]);return te!==null&&te.push(D,T),T},argPackAdvance:8,readValueFromPointer:ui,destructorFunction:D}]})}function It(a,f,v,D,N){}function Lt(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+a)}}function Kt(){for(var a=new Array(256),f=0;f<256;++f)a[f]=String.fromCharCode(f);Ht=a}var Ht=void 0;function Ot(a){for(var f="",v=a;s()[v];)f+=Ht[s()[v++]];return f}var ft=void 0;function ct(a){throw new ft(a)}function yt(a,f,v){if(v=v||{},!("argPackAdvance"in f))throw new TypeError("registerType registeredInstance requires argPackAdvance");var D=f.name;if(a||ct('type "'+D+'" must have a positive integer typeid pointer'),ci.hasOwnProperty(a)){if(v.ignoreDuplicateRegistrations)return;ct("Cannot register type '"+D+"' twice")}if(ci[a]=f,delete hi[a],vi.hasOwnProperty(a)){var N=vi[a];delete vi[a],N.forEach(function(y){y()})}}function Ar(a,f,v,D,N){var y=Lt(v);f=Ot(f),yt(a,{name:f,fromWireType:function(w){return!!w},toWireType:function(w,k){return k?D:N},argPackAdvance:8,readValueFromPointer:function(w){var k;if(v===1)k=t();else if(v===2)k=o();else if(v===4)k=u();else throw new TypeError("Unknown boolean type size: "+f);return this.fromWireType(k[w>>y])},destructorFunction:null})}var Mr=[],Nt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Jr(a){a>4&&--Nt[a].refcount===0&&(Nt[a]=void 0,Mr.push(a))}function Fr(){for(var a=0,f=5;f<Nt.length;++f)Nt[f]!==void 0&&++a;return a}function jr(){for(var a=5;a<Nt.length;++a)if(Nt[a]!==void 0)return Nt[a];return null}function tn(){d.count_emval_handles=Fr,d.get_first_emval=jr}function $r(a){switch(a){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var f=Mr.length?Mr.pop():Nt.length;return Nt[f]={refcount:1,value:a},f}}}function vn(a,f){f=Ot(f),yt(a,{name:f,fromWireType:function(v){var D=Nt[v].value;return Jr(v),D},toWireType:function(v,D){return $r(D)},argPackAdvance:8,readValueFromPointer:ui,destructorFunction:null})}function hn(a){if(a===null)return"null";var f=typeof a;return f==="object"||f==="array"||f==="function"?a.toString():""+a}function bn(a,f){switch(f){case 2:return function(v){return this.fromWireType(_()[v>>2])};case 3:return function(v){return this.fromWireType(B()[v>>3])};default:throw new TypeError("Unknown float type: "+a)}}function En(a,f,v){var D=Lt(v);f=Ot(f),yt(a,{name:f,fromWireType:function(N){return N},toWireType:function(N,y){if(typeof y!="number"&&typeof y!="boolean")throw new TypeError('Cannot convert "'+hn(y)+'" to '+this.name);return y},argPackAdvance:8,readValueFromPointer:bn(f,D),destructorFunction:null})}function Bn(a,f){if(!(a instanceof Function))throw new TypeError("new_ called with constructor type "+typeof a+" which is not a function");var v=Ne(a.name||"unknownFunctionName",function(){});v.prototype=a.prototype;var D=new v,N=a.apply(D,f);return N instanceof Object?N:D}function an(a,f,v,D,N){var y=f.length;y<2&&ct("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var w=f[1]!==null&&v!==null,k=!1,te=1;te<f.length;++te)if(f[te]!==null&&f[te].destructorFunction===void 0){k=!0;break}for(var M=f[0].name!=="void",m="",T="",te=0;te<y-2;++te)m+=(te!==0?", ":"")+"arg"+te,T+=(te!==0?", ":"")+"arg"+te+"Wired";var x="return function "+Fe(a)+"("+m+`) {
if (arguments.length !== `+(y-2)+`) {
throwBindingError('function `+a+" called with ' + arguments.length + ' arguments, expected "+(y-2)+` args!');
}
`;k&&(x+=`var destructors = [];
`);var z=k?"destructors":"null",S=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],G=[ct,D,N,yi,f[0],f[1]];w&&(x+="var thisWired = classParam.toWireType("+z+`, this);
`);for(var te=0;te<y-2;++te)x+="var arg"+te+"Wired = argType"+te+".toWireType("+z+", arg"+te+"); // "+f[te+2].name+`
`,S.push("argType"+te),G.push(f[te+2]);if(w&&(T="thisWired"+(T.length>0?", ":"")+T),x+=(M?"var rv = ":"")+"invoker(fn"+(T.length>0?", ":"")+T+`);
`,k)x+=`runDestructors(destructors);
`;else for(var te=w?1:2;te<f.length;++te){var J=te===1?"thisWired":"arg"+(te-2)+"Wired";f[te].destructorFunction!==null&&(x+=J+"_dtor("+J+"); // "+f[te].name+`
`,S.push(J+"_dtor"),G.push(f[te].destructorFunction))}M&&(x+=`var ret = retType.fromWireType(rv);
return ret;
`),x+=`}
`,S.push(x);var ie=Bn(Function,S).apply(null,G);return ie}function sn(a,f,v){if(a[f].overloadTable===void 0){var D=a[f];a[f]=function(){return a[f].overloadTable.hasOwnProperty(arguments.length)||ct("Function '"+v+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+a[f].overloadTable+")!"),a[f].overloadTable[arguments.length].apply(this,arguments)},a[f].overloadTable=[],a[f].overloadTable[D.argCount]=D}}function un(a,f,v){d.hasOwnProperty(a)?((v===void 0||d[a].overloadTable!==void 0&&d[a].overloadTable[v]!==void 0)&&ct("Cannot register public name '"+a+"' twice"),sn(d,a,a),d.hasOwnProperty(v)&&ct("Cannot register multiple overloads of a function with the same number of arguments ("+v+")!"),d[a].overloadTable[v]=f):(d[a]=f,v!==void 0&&(d[a].numArguments=v))}function Ft(a,f){for(var v=[],D=0;D<a;D++)v.push(u()[(f>>2)+D]);return v}function Jt(a,f,v){d.hasOwnProperty(a)||Ct("Replacing nonexistant public symbol"),d[a].overloadTable!==void 0&&v!==void 0?d[a].overloadTable[v]=f:(d[a]=f,d[a].argCount=v)}function qe(a,f,v){var D=d["dynCall_"+a];return v&&v.length?D.apply(null,[f].concat(v)):D.call(null,f)}function Tt(a,f,v){return a.includes("j")?qe(a,f,v):Ln.get(f).apply(null,v)}function dt(a,f){var v=[];return function(){v.length=arguments.length;for(var D=0;D<arguments.length;D++)v[D]=arguments[D];return Tt(a,f,v)}}function Be(a,f){a=Ot(a);function v(){return a.includes("j")?dt(a,f):Ln.get(f)}var D=v();return typeof D!="function"&&ct("unknown function pointer with signature "+a+": "+f),D}var We=void 0;function sr(a){var f=R(a),v=Ot(f);return me(f),v}function Je(a,f){var v=[],D={};function N(y){if(!D[y]&&!ci[y]){if(hi[y]){hi[y].forEach(N);return}v.push(y),D[y]=!0}}throw f.forEach(N),new We(a+": "+v.map(sr).join([", "]))}function tt(a,f,v,D,N,y){var w=Ft(f,v);a=Ot(a),N=Be(D,N),un(a,function(){Je("Cannot call "+a+" due to unbound types",w)},f-1),at([],w,function(k){var te=[k[0],null].concat(k.slice(1));return Jt(a,an(a,te,null,N,y),f-1),[]})}function Bt(a,f,v){switch(f){case 0:return v?function(N){return t()[N]}:function(N){return s()[N]};case 1:return v?function(N){return o()[N>>1]}:function(N){return i()[N>>1]};case 2:return v?function(N){return u()[N>>2]}:function(N){return p()[N>>2]};default:throw new TypeError("Unknown integer type: "+a)}}function kr(a,f,v,D,N){f=Ot(f),N===-1&&(N=4294967295);var y=Lt(v),w=function(M){return M};if(D===0){var k=32-8*v;w=function(M){return M<<k>>>k}}var te=f.includes("unsigned");yt(a,{name:f,fromWireType:w,toWireType:function(M,m){if(typeof m!="number"&&typeof m!="boolean")throw new TypeError('Cannot convert "'+hn(m)+'" to '+this.name);if(m<D||m>N)throw new TypeError('Passing a number "'+hn(m)+'" from JS side to C/C++ side to an argument of type "'+f+'", which is outside the valid range ['+D+", "+N+"]!");return te?m>>>0:m|0},argPackAdvance:8,readValueFromPointer:Bt(f,y,D!==0),destructorFunction:null})}function Wr(a,f,v){var D=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],N=D[f];function y(w){w=w>>2;var k=p(),te=k[w],M=k[w+1];return new N(mn,M,te)}v=Ot(v),yt(a,{name:v,fromWireType:y,argPackAdvance:8,readValueFromPointer:y},{ignoreDuplicateRegistrations:!0})}function qt(a,f){f=Ot(f);var v=f==="std::string";yt(a,{name:f,fromWireType:function(D){var N=p()[D>>2],y;if(v)for(var w=D+4,k=0;k<=N;++k){var te=D+4+k;if(k==N||s()[te]==0){var M=te-w,m=Xr(w,M);y===void 0?y=m:(y+=String.fromCharCode(0),y+=m),w=te+1}}else{for(var T=new Array(N),k=0;k<N;++k)T[k]=String.fromCharCode(s()[D+4+k]);y=T.join("")}return me(D),y},toWireType:function(D,N){N instanceof ArrayBuffer&&(N=new Uint8Array(N));var y,w=typeof N=="string";w||N instanceof Uint8Array||N instanceof Uint8ClampedArray||N instanceof Int8Array||ct("Cannot pass non-string to std::string"),v&&w?y=function(){return ut(N)}:y=function(){return N.length};var k=y(),te=pe(4+k+1);if(p()[te>>2]=k,v&&w)Br(N,te+4,k+1);else if(w)for(var M=0;M<k;++M){var m=N.charCodeAt(M);m>255&&(me(te),ct("String has UTF-16 code units that do not fit in 8 bits")),s()[te+4+M]=m}else for(var M=0;M<k;++M)s()[te+4+M]=N[M];return D!==null&&D.push(me,te),te},argPackAdvance:8,readValueFromPointer:ui,destructorFunction:function(D){me(D)}})}function Nr(a,f,v){v=Ot(v);var D,N,y,w,k;f===2?(D=F,N=Zn,w=kn,y=function(){return i()},k=1):f===4&&(D=Ei,N=qi,w=io,y=function(){return p()},k=2),yt(a,{name:v,fromWireType:function(te){for(var M=p()[te>>2],m=y(),T,x=te+4,z=0;z<=M;++z){var S=te+4+z*f;if(z==M||m[S>>k]==0){var G=S-x,J=D(x,G);T===void 0?T=J:(T+=String.fromCharCode(0),T+=J),x=S+f}}return me(te),T},toWireType:function(te,M){typeof M!="string"&&ct("Cannot pass non-string to C++ string type "+v);var m=w(M),T=pe(4+m+f);return p()[T>>2]=m>>k,N(M,T+4,m+f),te!==null&&te.push(me,T),T},argPackAdvance:8,readValueFromPointer:ui,destructorFunction:function(te){me(te)}})}function rn(a,f,v,D,N,y){wi[a]={name:Ot(f),rawConstructor:Be(v,D),rawDestructor:Be(N,y),fields:[]}}function cn(a,f,v,D,N,y,w,k,te,M){wi[a].fields.push({fieldName:Ot(f),getterReturnType:v,getter:Be(D,N),getterContext:y,setterArgumentType:w,setter:Be(k,te),setterContext:M})}function gn(a,f){f=Ot(f),yt(a,{isVoid:!0,name:f,argPackAdvance:0,fromWireType:function(){},toWireType:function(v,D){}})}function Lr(a,f){if(a==f)postMessage({cmd:"processQueuedMainThreadWork"});else if(q)postMessage({targetThread:a,cmd:"processThreadQueue"});else{var v=Et.pthreads[a],D=v&&v.worker;if(!D)return;D.postMessage({cmd:"processThreadQueue"})}return 1}var qr={};function kt(a){var f=qr[a];return f===void 0?Ot(a):f}function mr(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function zr(a){return a===0?$r(mr()):(a=kt(a),$r(mr()[a]))}function cr(a){a>4&&(Nt[a].refcount+=1)}function Se(a,f){var v=ci[a];return v===void 0&&ct(f+" has unknown type "+sr(a)),v}function j(a){for(var f="",v=0;v<a;++v)f+=(v!==0?", ":"")+"arg"+v;for(var D="return function emval_allocator_"+a+`(constructor, argTypes, args) {
`,v=0;v<a;++v)D+="var argType"+v+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+v+'], "parameter '+v+`");
var arg`+v+" = argType"+v+`.readValueFromPointer(args);
args += argType`+v+`['argPackAdvance'];
`;return D+="var obj = new constructor("+f+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",D)(Se,d,$r)}var $={};function ae(a){return a||ct("Cannot use deleted val. handle = "+a),Nt[a].value}function Ae(a,f,v,D){a=ae(a);var N=$[f];return N||(N=j(f),$[f]=N),N(a,v,D)}function Ie(){wn()}var Le=[];function Ut(a,f){Le.length=0;var v;for(f>>=2;v=s()[a++];){var D=v<105;D&&f&1&&f++,Le.push(D?B()[f++>>1]:u()[f]),++f}return Le}function yr(a,f,v){var D=Ut(f,v);return Yi[a].apply(null,D)}function Qt(){}function Qr(a,f){}function hr(a,f,v){if(a<=0||a>t().length||a&!0)return-28;{var D=Atomics.wait(u(),a>>2,f,v);if(D==="timed-out")return-73;if(D==="not-equal")return-6;if(D==="ok")return 0;throw"Atomics.wait returned an unexpected value "+D}}function Rr(a,f){throw Tr(a,f||1),"longjmp"}function Or(a,f){return Rr(a,f)}function wr(a,f,v){s().copyWithin(a,f,f+v)}function vr(){return Zr.cpus().length}function gr(a,f){for(var v=arguments.length-2,D=ur(),N=v,y=tr(N*8),w=y>>3,k=0;k<v;k++){var te=arguments[2+k];B()[w+k]=te}var M=ht(a,N,y,f);return fr(D),M}var _t=[];function wt(a,f,v){_t.length=f;for(var D=v>>3,N=0;N<f;N++)_t[N]=B()[D+N];var y=a<0,w=y?Yi[-a-1]:P[a];return w.apply(null,_t)}function zt(a){try{return ot.grow(a-mn.byteLength+65535>>>16),_n(ot.buffer),1}catch{}}function Rt(a){var f=s().length;if(a=a>>>0,a<=f)return!1;var v=2147483648;if(a>v)return!1;for(var D=1;D<=4;D*=2){var N=f*(1+.2/D);N=Math.min(N,a+100663296);var y=Math.min(v,Pi(Math.max(a,N),65536)),w=zt(y);if(w)return!0}return!1}var rt={inEventHandler:0,removeAllEventListeners:function(){for(var a=rt.eventHandlers.length-1;a>=0;--a)rt._removeHandler(a);rt.eventHandlers=[],rt.deferredCalls=[]},registerRemoveEventListeners:function(){rt.removeEventListenersRegistered||(rt.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(a,f,v){function D(w,k){if(w.length!=k.length)return!1;for(var te in w)if(w[te]!=k[te])return!1;return!0}for(var N in rt.deferredCalls){var y=rt.deferredCalls[N];if(y.targetFunction==a&&D(y.argsList,v))return}rt.deferredCalls.push({targetFunction:a,precedence:f,argsList:v}),rt.deferredCalls.sort(function(w,k){return w.precedence<k.precedence})},removeDeferredCalls:function(a){for(var f=0;f<rt.deferredCalls.length;++f)rt.deferredCalls[f].targetFunction==a&&(rt.deferredCalls.splice(f,1),--f)},canPerformEventHandlerRequests:function(){return rt.inEventHandler&&rt.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(rt.canPerformEventHandlerRequests())for(var a=0;a<rt.deferredCalls.length;++a){var f=rt.deferredCalls[a];rt.deferredCalls.splice(a,1),--a,f.targetFunction.apply(null,f.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(a,f){for(var v=0;v<rt.eventHandlers.length;++v)rt.eventHandlers[v].target==a&&(!f||f==rt.eventHandlers[v].eventTypeString)&&rt._removeHandler(v--)},_removeHandler:function(a){var f=rt.eventHandlers[a];f.target.removeEventListener(f.eventTypeString,f.eventListenerFunc,f.useCapture),rt.eventHandlers.splice(a,1)},registerOrRemoveHandler:function(a){var f=function(N){++rt.inEventHandler,rt.currentEventHandler=a,rt.runDeferredCalls(),a.handlerFunc(N),rt.runDeferredCalls(),--rt.inEventHandler};if(a.callbackfunc)a.eventListenerFunc=f,a.target.addEventListener(a.eventTypeString,f,a.useCapture),rt.eventHandlers.push(a),rt.registerRemoveEventListeners();else for(var v=0;v<rt.eventHandlers.length;++v)rt.eventHandlers[v].target==a.target&&rt.eventHandlers[v].eventTypeString==a.eventTypeString&&rt._removeHandler(v--)},queueEventHandlerOnThread_iiii:function(a,f,v,D,N){var y=ur(),w=tr(12);u()[w>>2]=v,u()[w+4>>2]=D,u()[w+8>>2]=N,Xe(0,a,637534208,f,D,w),fr(y)},getTargetThreadForEventCallback:function(a){switch(a){case 1:return 0;case 2:return Et.currentProxiedOperationCallerThread;default:return a}},getNodeNameForTarget:function(a){return a?a==window?"#window":a==screen?"#screen":a&&a.nodeName?a.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}};function nr(a){var f=ut(a)+1,v=pe(f);return Br(a,v,f),v}function Cr(a,f,v,D){var N=ur(),y=tr(12),w=0;f&&(w=nr(f)),u()[y>>2]=w,u()[y+4>>2]=v,u()[y+8>>2]=D,Xe(0,a,657457152,0,w,y),fr(N)}function Gt(a,f,v,D){f=f?Xr(f):"",Cr(a,f,v,D)}function ir(a){return a>2?Xr(a):a}var lr=[0,typeof document<"u"?document:0,typeof window<"u"?window:0];function Qe(a){a=ir(a);var f=lr[a]||(typeof document<"u"?document.querySelector(a):void 0);return f}function Zt(a){return Qe(a)}function St(a,f,v){var D=Zt(a);if(!D)return-4;if(D.canvasSharedPtr&&(u()[D.canvasSharedPtr>>2]=f,u()[D.canvasSharedPtr+4>>2]=v),D.offscreenCanvas||!D.controlTransferredOffscreen){D.offscreenCanvas&&(D=D.offscreenCanvas);var N=!1;if(D.GLctxObject&&D.GLctxObject.GLctx){var y=D.GLctxObject.GLctx.getParameter(2978);N=y[0]===0&&y[1]===0&&y[2]===D.width&&y[3]===D.height}D.width=f,D.height=v,N&&D.GLctxObject.GLctx.viewport(0,0,f,v)}else if(D.canvasSharedPtr){var w=u()[D.canvasSharedPtr+8>>2];return Gt(w,a,f,v),1}else return-4;return 0}function Wt(a,f,v){return q?gr(4,1,a,f,v):St(a,f,v)}function Yt(a,f,v){var D=Zt(a);return D?St(a,f,v):Wt(a,f,v)}function pr(a){}function Sr(a){var f=a.getExtension("ANGLE_instanced_arrays");if(f)return a.vertexAttribDivisor=function(v,D){f.vertexAttribDivisorANGLE(v,D)},a.drawArraysInstanced=function(v,D,N,y){f.drawArraysInstancedANGLE(v,D,N,y)},a.drawElementsInstanced=function(v,D,N,y,w){f.drawElementsInstancedANGLE(v,D,N,y,w)},1}function Dt(a){var f=a.getExtension("OES_vertex_array_object");if(f)return a.createVertexArray=function(){return f.createVertexArrayOES()},a.deleteVertexArray=function(v){f.deleteVertexArrayOES(v)},a.bindVertexArray=function(v){f.bindVertexArrayOES(v)},a.isVertexArray=function(v){return f.isVertexArrayOES(v)},1}function or(a){var f=a.getExtension("WEBGL_draw_buffers");if(f)return a.drawBuffers=function(v,D){f.drawBuffersWEBGL(v,D)},1}function Xt(a){return!!(a.multiDrawWebgl=a.getExtension("WEBGL_multi_draw"))}var nt={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(f){nt.lastError||(nt.lastError=f)},getNewId:function(a){for(var f=nt.counter++,v=a.length;v<f;v++)a[v]=null;return f},getSource:function(a,f,v,D){for(var N="",y=0;y<f;++y){var w=D?u()[D+y*4>>2]:-1;N+=Xr(u()[v+y*4>>2],w<0?void 0:w)}return N},createContext:function(a,f){a.getContextSafariWebGL2Fixed||(a.getContextSafariWebGL2Fixed=a.getContext,a.getContext=function(N,y){var w=a.getContextSafariWebGL2Fixed(N,y);return N=="webgl"==w instanceof WebGLRenderingContext?w:null});var v=a.getContext("webgl",f);if(!v)return 0;var D=nt.registerContext(v,f);return D},registerContext:function(a,f){var v=pe(8);u()[v+4>>2]=Vt();var D={handle:v,attributes:f,version:f.majorVersion,GLctx:a};return a.canvas&&(a.canvas.GLctxObject=D),nt.contexts[v]=D,(typeof f.enableExtensionsByDefault>"u"||f.enableExtensionsByDefault)&&nt.initExtensions(D),v},makeContextCurrent:function(a){return nt.currentContext=nt.contexts[a],d.ctx=h=nt.currentContext&&nt.currentContext.GLctx,!(a&&!h)},getContext:function(a){return nt.contexts[a]},deleteContext:function(a){nt.currentContext===nt.contexts[a]&&(nt.currentContext=null),typeof rt=="object"&&rt.removeAllHandlersOnTarget(nt.contexts[a].GLctx.canvas),nt.contexts[a]&&nt.contexts[a].GLctx.canvas&&(nt.contexts[a].GLctx.canvas.GLctxObject=void 0),me(nt.contexts[a].handle),nt.contexts[a]=null},initExtensions:function(a){if(a||(a=nt.currentContext),!a.initExtensionsDone){a.initExtensionsDone=!0;var f=a.GLctx;Sr(f),Dt(f),or(f),f.disjointTimerQueryExt=f.getExtension("EXT_disjoint_timer_query"),Xt(f);var v=f.getSupportedExtensions()||[];v.forEach(function(D){!D.includes("lose_context")&&!D.includes("debug")&&f.getExtension(D)})}}},dr=["default","low-power","high-performance"];function xr(a,f){var v=f>>2,D=u()[v+6],N={alpha:!!u()[v+0],depth:!!u()[v+1],stencil:!!u()[v+2],antialias:!!u()[v+3],premultipliedAlpha:!!u()[v+4],preserveDrawingBuffer:!!u()[v+5],powerPreference:dr[D],failIfMajorPerformanceCaveat:!!u()[v+7],majorVersion:u()[v+8],minorVersion:u()[v+9],enableExtensionsByDefault:u()[v+10],explicitSwapControl:u()[v+11],proxyContextToMainThread:u()[v+12],renderViaOffscreenBackBuffer:u()[v+13]},y=Zt(a);if(!y||N.explicitSwapControl)return 0;var w=nt.createContext(y,N);return w}function Mt(a,f){return xr(a,f)}function Dr(a){return q?gr(5,1,a):0}function er(a,f,v,D){if(q)return gr(6,1,a,f,v,D);var N=zn.getStreamFromFD(a),y=zn.doReadv(N,f,v);return u()[D>>2]=y,0}function Ur(a,f,v,D,N){if(q)return gr(7,1,a,f,v,D,N)}function fn(a,f,v,D){if(q)return gr(8,1,a,f,v,D);for(var N=0,y=0;y<v;y++){for(var w=u()[f+y*8>>2],k=u()[f+(y*8+4)>>2],te=0;te<k;te++)zn.printChar(a,s()[w+te]);N+=k}return u()[D>>2]=N,0}function Gr(){return Pt()}function Pr(a){var f=Et.threadExitHandlers.pop();a&&f()}function nn(a){if(q)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var f=Et.getNewWorker();if(!f)return 6;if(f.pthread!==void 0)throw"Internal error!";if(!a.pthread_ptr)throw"Internal error, no pthread ptr!";Et.runningWorkers.push(f);for(var v=pe(128*4),D=0;D<128;++D)u()[v+D*4>>2]=0;var N=a.stackBase+a.stackSize,y=Et.pthreads[a.pthread_ptr]={worker:f,stackBase:a.stackBase,stackSize:a.stackSize,allocatedOwnStack:a.allocatedOwnStack,threadInfoStruct:a.pthread_ptr},w=y.threadInfoStruct>>2;Atomics.store(p(),w+16,a.detached),Atomics.store(p(),w+25,v),Atomics.store(p(),w+10,y.threadInfoStruct),Atomics.store(p(),w+20,a.stackSize),Atomics.store(p(),w+19,N),Atomics.store(p(),w+26,a.stackSize),Atomics.store(p(),w+(104+8>>2),N),Atomics.store(p(),w+(104+12>>2),a.detached);var k=Hr(),te=k+40;Atomics.store(p(),w+43,te),f.pthread=y;var M={cmd:"run",start_routine:a.startRoutine,arg:a.arg,threadInfoStruct:a.pthread_ptr,stackBase:a.stackBase,stackSize:a.stackSize};return f.runPthread=function(){M.time=performance.now(),f.postMessage(M,a.transferList)},f.loaded&&(f.runPthread(),delete f.runPthread),0}function Dn(a,f,v,D){if(typeof SharedArrayBuffer>"u")return ke("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!a)return ke("pthread_create called with a null thread pointer!"),28;var N=[],y=0;if(q&&(N.length===0||y))return He(687865856,a,f,v,D);var w=0,k=0,te=0;f&&f!=-1?(w=u()[f>>2],w+=81920,k=u()[f+8>>2],te=u()[f+12>>2]!==0):w=2097152;var M=k==0;M?k=$t(16,w):(k-=w,Pn(k>0));for(var m=pe(228),T=0;T<57;++T)p()[(m>>2)+T]=0;u()[a>>2]=m,u()[m+12>>2]=m;var x=m+152;u()[x>>2]=x;var z={stackBase:k,stackSize:w,allocatedOwnStack:M,detached:te,startRoutine:v,pthread_ptr:m,arg:D,transferList:N};return q?(z.cmd="spawnThread",postMessage(z,N),0):nn(z)}function on(){if(q){var a=Vt();if(a){var f=Atomics.load(p(),a+56>>2);if(!f){var v=Atomics.load(p(),a+0>>2);if(v==2)throw"Canceled!"}}}}function Cn(a,f,v){if(!a)return ke("pthread_join attempted on a null thread pointer!"),_i.ESRCH;if(q&&Vt()==a)return ke("PThread "+a+" is attempting to join to itself!"),_i.EDEADLK;if(!q&&ee()==a)return ke("Main thread "+a+" is attempting to join to itself!"),_i.EDEADLK;var D=u()[a+12>>2];if(D!==a)return ke("pthread_join attempted on thread "+a+", which does not point to a valid thread, or does not exist anymore!"),_i.ESRCH;var N=Atomics.load(p(),a+64>>2);if(N)return ke("Attempted to join thread "+a+", which was already detached!"),_i.EINVAL;for(;;){var y=Atomics.load(p(),a+0>>2);if(y==1){var w=Atomics.load(p(),a+4>>2);return f&&(u()[f>>2]=w),Atomics.store(p(),a+64>>2,1),q?postMessage({cmd:"cleanupThread",thread:a}):Ti(a),0}if(!v)return _i.EBUSY;on(),q||Ke(),hr(a+0,y,q?100:1)}}function An(a,f){return Cn(a,f,!0)}function In(a){et(a)}function yn(a){var f=Date.now()/1e3|0;return a&&(u()[a>>2]=f),f}q||Et.initMainThreadBlock(),Ce=d.InternalError=Oe(Error,"InternalError"),Kt(),ft=d.BindingError=Oe(Error,"BindingError"),tn(),We=d.UnboundTypeError=Oe(Error,"UnboundTypeError");var h,P=[null,Zi,eo,to,Wt,Dr,er,Ur,fn],Q={k:mi,C:Wi,u:Zi,P:eo,R:to,F:At,I:It,aa:Ar,$:vn,z:En,E:tt,j:kr,g:Wr,A:qt,r:Nr,K:rn,h:cn,ba:gn,Z:Lr,o:Jr,_:zr,D:cr,Q:Ae,i:Ie,y:yr,V:Qt,x:Qr,l:hr,m:Hi,p:Hn,e:Or,M:wr,ea:vr,W:wt,N:Rt,X:Yt,w:pr,Y:Mt,v:Dr,O:er,H:Ur,S:fn,c:Gr,L:Xi,q:Pe,s:Ye,t:he,J:Ee,G:it,n:Er,f:fe,d:oe,a:ot||d.wasmMemory,T:Pr,U:Qi,B:Dn,ca:An,b:In,da:yn};Ui(),d.___wasm_call_ctors=function(){return(d.___wasm_call_ctors=d.asm.fa).apply(null,arguments)};var pe=d._malloc=function(){return(pe=d._malloc=d.asm.ga).apply(null,arguments)},me=d._free=function(){return(me=d._free=d.asm.ha).apply(null,arguments)};d._emscripten_tls_init=function(){return(d._emscripten_tls_init=d.asm.ia).apply(null,arguments)};var R=d.___getTypeName=function(){return(R=d.___getTypeName=d.asm.ka).apply(null,arguments)};d.___embind_register_native_and_builtin_types=function(){return(d.___embind_register_native_and_builtin_types=d.asm.la).apply(null,arguments)},d._emscripten_current_thread_process_queued_calls=function(){return(d._emscripten_current_thread_process_queued_calls=d.asm.ma).apply(null,arguments)};var U=d._emscripten_register_main_browser_thread_id=function(){return(U=d._emscripten_register_main_browser_thread_id=d.asm.na).apply(null,arguments)},ee=d._emscripten_main_browser_thread_id=function(){return(ee=d._emscripten_main_browser_thread_id=d.asm.oa).apply(null,arguments)},ve=d.__emscripten_do_dispatch_to_thread=function(){return(ve=d.__emscripten_do_dispatch_to_thread=d.asm.pa).apply(null,arguments)},He=d._emscripten_sync_run_in_main_thread_4=function(){return(He=d._emscripten_sync_run_in_main_thread_4=d.asm.qa).apply(null,arguments)},Ke=d._emscripten_main_thread_process_queued_calls=function(){return(Ke=d._emscripten_main_thread_process_queued_calls=d.asm.ra).apply(null,arguments)},ht=d._emscripten_run_in_main_runtime_thread_js=function(){return(ht=d._emscripten_run_in_main_runtime_thread_js=d.asm.sa).apply(null,arguments)},Xe=d.__emscripten_call_on_thread=function(){return(Xe=d.__emscripten_call_on_thread=d.asm.ta).apply(null,arguments)},pt=d.__emscripten_thread_init=function(){return(pt=d.__emscripten_thread_init=d.asm.ua).apply(null,arguments)},Vt=d._pthread_self=function(){return(Vt=d._pthread_self=d.asm.va).apply(null,arguments)},br=d.___pthread_tsd_run_dtors=function(){return(br=d.___pthread_tsd_run_dtors=d.asm.wa).apply(null,arguments)},Hr=d._emscripten_get_global_libc=function(){return(Hr=d._emscripten_get_global_libc=d.asm.xa).apply(null,arguments)},ur=d.stackSave=function(){return(ur=d.stackSave=d.asm.ya).apply(null,arguments)},fr=d.stackRestore=function(){return(fr=d.stackRestore=d.asm.za).apply(null,arguments)},tr=d.stackAlloc=function(){return(tr=d.stackAlloc=d.asm.Aa).apply(null,arguments)},Vr=d._emscripten_stack_set_limits=function(){return(Vr=d._emscripten_stack_set_limits=d.asm.Ba).apply(null,arguments)},Tr=d._setThrew=function(){return(Tr=d._setThrew=d.asm.Ca).apply(null,arguments)},$t=d._memalign=function(){return($t=d._memalign=d.asm.Da).apply(null,arguments)};d.dynCall_jiiiiiiiii=function(){return(d.dynCall_jiiiiiiiii=d.asm.Ea).apply(null,arguments)};var mt=d.dynCall_ijiii=function(){return(mt=d.dynCall_ijiii=d.asm.Fa).apply(null,arguments)};d.dynCall_jiji=function(){return(d.dynCall_jiji=d.asm.Ga).apply(null,arguments)},d.dynCall_jiiiiiiii=function(){return(d.dynCall_jiiiiiiii=d.asm.Ha).apply(null,arguments)},d.dynCall_jiiiiii=function(){return(d.dynCall_jiiiiii=d.asm.Ia).apply(null,arguments)},d.dynCall_jiiiii=function(){return(d.dynCall_jiiiii=d.asm.Ja).apply(null,arguments)},d.dynCall_iiijii=function(){return(d.dynCall_iiijii=d.asm.Ka).apply(null,arguments)};var vt=d.__emscripten_allow_main_runtime_queued_calls=600816,rr=d.__emscripten_main_thread_futex=897300;function Er(a,f){var v=ur();try{Ln.get(a)(f)}catch(D){if(fr(v),D!==D+0&&D!=="longjmp")throw D;Tr(1,0)}}function oe(a,f,v,D,N){var y=ur();try{Ln.get(a)(f,v,D,N)}catch(w){if(fr(y),w!==w+0&&w!=="longjmp")throw w;Tr(1,0)}}function fe(a,f,v){var D=ur();try{Ln.get(a)(f,v)}catch(N){if(fr(D),N!==N+0&&N!=="longjmp")throw N;Tr(1,0)}}function he(a,f,v,D,N,y,w,k,te,M){var m=ur();try{return Ln.get(a)(f,v,D,N,y,w,k,te,M)}catch(T){if(fr(m),T!==T+0&&T!=="longjmp")throw T;Tr(1,0)}}function Ee(a,f,v,D,N,y,w,k,te,M,m,T){var x=ur();try{return Ln.get(a)(f,v,D,N,y,w,k,te,M,m,T)}catch(z){if(fr(x),z!==z+0&&z!=="longjmp")throw z;Tr(1,0)}}function Pe(a,f,v,D,N){var y=ur();try{return Ln.get(a)(f,v,D,N)}catch(w){if(fr(y),w!==w+0&&w!=="longjmp")throw w;Tr(1,0)}}function Ye(a,f,v,D,N,y,w,k,te){var M=ur();try{return Ln.get(a)(f,v,D,N,y,w,k,te)}catch(m){if(fr(M),m!==m+0&&m!=="longjmp")throw m;Tr(1,0)}}function it(a,f,v,D,N,y){var w=ur();try{return mt(a,f,v,D,N,y)}catch(k){if(fr(w),k!==k+0&&k!=="longjmp")throw k;Tr(1,0)}}d.PThread=Et,d.PThread=Et,d.wasmMemory=ot,d.ExitStatus=l;var E;function l(a){this.name="ExitStatus",this.message="Program terminated with exit("+a+")",this.status=a}Wn=function a(){E||c(),E||(Wn=a)};function c(a){if(Sn>0)return;if(q){V(d),Jn(),postMessage({cmd:"loaded"});return}if(si(),Sn>0)return;function f(){E||(E=!0,d.calledRun=!0,!K&&(Jn(),V(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),pi()))}d.setStatus?(d.setStatus("Running..."),setTimeout(function(){setTimeout(function(){d.setStatus("")},1),f()},1)):f()}d.run=c;function A(a,f){if(!(f&&ki()&&a===0)){if(!f&&q)throw postMessage({cmd:"exitProcess",returnCode:a}),new l(a);ki()||(Et.terminateAllThreads(),d.onExit&&d.onExit(a),K=!0),le(a,new l(a))}}if(d.preInit)for(typeof d.preInit=="function"&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();return q&&(Ze=!1,Et.initWorker()),c(),d.ready}}();return Cs.default=n,Cs}var Ba={},d_={get exports(){return Ba},set exports(n){Ba=n}},jc;function __(){return jc||(jc=1,function(n,e){(function(t,s){s(e)})(ln,function(t){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:function(h){return"Symbol("+h+")"};function o(){}var i=typeof self<"u"?self:typeof window<"u"?window:typeof ln<"u"?ln:void 0;function u(h){return typeof h=="object"&&h!==null||typeof h=="function"}var p=o,_=Promise,B=Promise.prototype.then,d=Promise.resolve.bind(_),V=Promise.reject.bind(_);function I(h){return new _(h)}function L(h){return d(h)}function W(h){return V(h)}function le(h,P,Q){return B.call(h,P,Q)}function ne(h,P,Q){le(le(h,P,Q),void 0,p)}function q(h,P){ne(h,P)}function X(h,P){ne(h,void 0,P)}function re(h,P,Q){return le(h,P,Q)}function ce(h){le(h,void 0,p)}var _e=function(){var h=i&&i.queueMicrotask;if(typeof h=="function")return h;var P=L(void 0);return function(Q){return le(P,Q)}}();function ye(h,P,Q){if(typeof h!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(h,P,Q)}function Ue(h,P,Q){try{return L(ye(h,P,Q))}catch(pe){return W(pe)}}var Ge=function(){function h(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(h.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),h.prototype.push=function(P){var Q=this._back,pe=Q;Q._elements.length===16383&&(pe={_elements:[],_next:void 0}),Q._elements.push(P),pe!==Q&&(this._back=pe,Q._next=pe),++this._size},h.prototype.shift=function(){var P=this._front,Q=P,pe=this._cursor,me=pe+1,R=P._elements,U=R[pe];return me===16384&&(Q=P._next,me=0),--this._size,this._cursor=me,P!==Q&&(this._front=Q),R[pe]=void 0,U},h.prototype.forEach=function(P){for(var Q=this._cursor,pe=this._front,me=pe._elements;!(Q===me.length&&pe._next===void 0||Q===me.length&&(Q=0,(me=(pe=pe._next)._elements).length===0));)P(me[Q]),++Q},h.prototype.peek=function(){var P=this._front,Q=this._cursor;return P._elements[Q]},h}();function Ve(h,P){h._ownerReadableStream=P,P._reader=h,P._state==="readable"?Pt(h):P._state==="closed"?function(Q){Pt(Q),ot(Q)}(h):st(h,P._storedError)}function ke(h,P){return Gt(h._ownerReadableStream,P)}function bt(h){h._ownerReadableStream._state==="readable"?Ze(h,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(P,Q){st(P,Q)}(h,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),h._ownerReadableStream._reader=void 0,h._ownerReadableStream=void 0}function et(h){return new TypeError("Cannot "+h+" a stream using a released reader")}function Pt(h){h._closedPromise=I(function(P,Q){h._closedPromise_resolve=P,h._closedPromise_reject=Q})}function st(h,P){Pt(h),Ze(h,P)}function Ze(h,P){h._closedPromise_reject!==void 0&&(ce(h._closedPromise),h._closedPromise_reject(P),h._closedPromise_resolve=void 0,h._closedPromise_reject=void 0)}function ot(h){h._closedPromise_resolve!==void 0&&(h._closedPromise_resolve(void 0),h._closedPromise_resolve=void 0,h._closedPromise_reject=void 0)}var jt=s("[[AbortSteps]]"),K=s("[[ErrorSteps]]"),Pn=s("[[CancelSteps]]"),Kr=s("[[PullSteps]]"),Xr=Number.isFinite||function(h){return typeof h=="number"&&isFinite(h)},xn=Math.trunc||function(h){return h<0?Math.ceil(h):Math.floor(h)};function Br(h,P){if(h!==void 0&&typeof(Q=h)!="object"&&typeof Q!="function")throw new TypeError(P+" is not an object.");var Q}function ut(h,P){if(typeof h!="function")throw new TypeError(P+" is not a function.")}function F(h,P){if(!function(Q){return typeof Q=="object"&&Q!==null||typeof Q=="function"}(h))throw new TypeError(P+" is not an object.")}function Zn(h,P,Q){if(h===void 0)throw new TypeError("Parameter "+P+" is required in '"+Q+"'.")}function kn(h,P,Q){if(h===void 0)throw new TypeError(P+" is required in '"+Q+"'.")}function Ei(h){return Number(h)}function qi(h){return h===0?0:h}function io(h,P){var Q=Number.MAX_SAFE_INTEGER,pe=Number(h);if(pe=qi(pe),!Xr(pe))throw new TypeError(P+" is not a finite number");if((pe=function(me){return qi(xn(me))}(pe))<0||pe>Q)throw new TypeError(P+" is outside the accepted range of 0 to "+Q+", inclusive");return Xr(pe)&&pe!==0?pe:0}function Pi(h,P){if(!nr(h))throw new TypeError(P+" is not a ReadableStream.")}function mn(h){return new On(h)}function Bi(h,P){h._reader._readRequests.push(P)}function Un(h,P,Q){var pe=h._reader._readRequests.shift();Q?pe._closeSteps():pe._chunkSteps(P)}function gi(h){return h._reader._readRequests.length}function zi(h){var P=h._reader;return P!==void 0&&!!ai(P)}var Oi,qn,On=function(){function h(P){if(Zn(P,1,"ReadableStreamDefaultReader"),Pi(P,"First parameter"),Cr(P))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Ve(this,P),this._readRequests=new Ge}return Object.defineProperty(h.prototype,"closed",{get:function(){return ai(this)?this._closedPromise:W(Gn("closed"))},enumerable:!1,configurable:!0}),h.prototype.cancel=function(P){return P===void 0&&(P=void 0),ai(this)?this._ownerReadableStream===void 0?W(et("cancel")):ke(this,P):W(Gn("cancel"))},h.prototype.read=function(){if(!ai(this))return W(Gn("read"));if(this._ownerReadableStream===void 0)return W(et("read from"));var P,Q,pe=I(function(me,R){P=me,Q=R});return _n(this,{_chunkSteps:function(me){return P({value:me,done:!1})},_closeSteps:function(){return P({value:void 0,done:!0})},_errorSteps:function(me){return Q(me)}}),pe},h.prototype.releaseLock=function(){if(!ai(this))throw Gn("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");bt(this)}},h}();function ai(h){return!!u(h)&&!!Object.prototype.hasOwnProperty.call(h,"_readRequests")&&h instanceof On}function _n(h,P){var Q=h._ownerReadableStream;Q._disturbed=!0,Q._state==="closed"?P._closeSteps():Q._state==="errored"?P._errorSteps(Q._storedError):Q._readableStreamController[Kr](P)}function Gn(h){return new TypeError("ReadableStreamDefaultReader.prototype."+h+" can only be used on a ReadableStreamDefaultReader")}Object.defineProperties(On.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(On.prototype,s.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),typeof s.asyncIterator=="symbol"&&((Oi={})[s.asyncIterator]=function(){return this},qn=Oi,Object.defineProperty(qn,s.asyncIterator,{enumerable:!1}));var Ln=function(){function h(P,Q){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=P,this._preventCancel=Q}return h.prototype.next=function(){var P=this,Q=function(){return P._nextSteps()};return this._ongoingPromise=this._ongoingPromise?re(this._ongoingPromise,Q,Q):Q(),this._ongoingPromise},h.prototype.return=function(P){var Q=this,pe=function(){return Q._returnSteps(P)};return this._ongoingPromise?re(this._ongoingPromise,pe,pe):pe()},h.prototype._nextSteps=function(){var P=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var Q,pe,me=this._reader;if(me._ownerReadableStream===void 0)return W(et("iterate"));var R=I(function(U,ee){Q=U,pe=ee});return _n(me,{_chunkSteps:function(U){P._ongoingPromise=void 0,_e(function(){return Q({value:U,done:!1})})},_closeSteps:function(){P._ongoingPromise=void 0,P._isFinished=!0,bt(me),Q({value:void 0,done:!0})},_errorSteps:function(U){P._ongoingPromise=void 0,P._isFinished=!0,bt(me),pe(U)}}),R},h.prototype._returnSteps=function(P){if(this._isFinished)return Promise.resolve({value:P,done:!0});this._isFinished=!0;var Q=this._reader;if(Q._ownerReadableStream===void 0)return W(et("finish iterating"));if(!this._preventCancel){var pe=ke(Q,P);return bt(Q),re(pe,function(){return{value:P,done:!0}})}return bt(Q),L({value:P,done:!0})},h}(),Mi={next:function(){return Ni(this)?this._asyncIteratorImpl.next():W(Ci("next"))},return:function(h){return Ni(this)?this._asyncIteratorImpl.return(h):W(Ci("return"))}};function Ni(h){if(!u(h)||!Object.prototype.hasOwnProperty.call(h,"_asyncIteratorImpl"))return!1;try{return h._asyncIteratorImpl instanceof Ln}catch{return!1}}function Ci(h){return new TypeError("ReadableStreamAsyncIterator."+h+" can only be used on a ReadableSteamAsyncIterator")}qn!==void 0&&Object.setPrototypeOf(Mi,qn);var si=Number.isNaN||function(h){return h!=h};function Jn(h){return h.slice()}function pi(h,P,Q,pe,me){new Uint8Array(h).set(new Uint8Array(Q,pe,me),P)}function Rn(h,P,Q){if(h.slice)return h.slice(P,Q);var pe=Q-P,me=new ArrayBuffer(pe);return pi(me,0,h,P,pe),me}function oo(h){var P=Rn(h.buffer,h.byteOffset,h.byteOffset+h.byteLength);return new Uint8Array(P)}function Li(h){var P=h._queue.shift();return h._queueTotalSize-=P.size,h._queueTotalSize<0&&(h._queueTotalSize=0),P.value}function Sn(h,P,Q){if(typeof(pe=Q)!="number"||si(pe)||pe<0||Q===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var pe;h._queue.push({value:P,size:Q}),h._queueTotalSize+=Q}function Wn(h){h._queue=new Ge,h._queueTotalSize=0}var ei=function(){function h(){throw new TypeError("Illegal constructor")}return Object.defineProperty(h.prototype,"view",{get:function(){if(!Ii(this))throw Wi("view");return this._view},enumerable:!1,configurable:!0}),h.prototype.respond=function(P){if(!Ii(this))throw Wi("respond");if(Zn(P,1,"respond"),P=io(P,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,mi(this._associatedReadableByteStreamController,P)},h.prototype.respondWithNewView=function(P){if(!Ii(this))throw Wi("respondWithNewView");if(Zn(P,1,"respondWithNewView"),!ArrayBuffer.isView(P))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");P.buffer,Hn(this._associatedReadableByteStreamController,P)},h}();Object.defineProperties(ei.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(ei.prototype,s.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var ti=function(){function h(){throw new TypeError("Illegal constructor")}return Object.defineProperty(h.prototype,"byobRequest",{get:function(){if(!wn(this))throw zn("byobRequest");return $i(this)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"desiredSize",{get:function(){if(!wn(this))throw zn("desiredSize");return ki(this)},enumerable:!1,configurable:!0}),h.prototype.close=function(){if(!wn(this))throw zn("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var P=this._controlledReadableByteStream._state;if(P!=="readable")throw new TypeError("The stream (in "+P+" state) is not in the readable state and cannot be closed");Et(this)},h.prototype.enqueue=function(P){if(!wn(this))throw zn("enqueue");if(Zn(P,1,"enqueue"),!ArrayBuffer.isView(P))throw new TypeError("chunk must be an array buffer view");if(P.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(P.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var Q=this._controlledReadableByteStream._state;if(Q!=="readable")throw new TypeError("The stream (in "+Q+" state) is not in the readable state and cannot be enqueued to");ji(this,P)},h.prototype.error=function(P){if(P===void 0&&(P=void 0),!wn(this))throw zn("error");ri(this,P)},h.prototype[Pn]=function(P){Vn(this),Wn(this);var Q=this._cancelAlgorithm(P);return Ti(this),Q},h.prototype[Kr]=function(P){var Q=this._controlledReadableByteStream;if(this._queueTotalSize>0){var pe=this._queue.shift();this._queueTotalSize-=pe.byteLength,Gi(this);var me=new Uint8Array(pe.buffer,pe.byteOffset,pe.byteLength);P._chunkSteps(me)}else{var R=this._autoAllocateChunkSize;if(R!==void 0){var U=void 0;try{U=new ArrayBuffer(R)}catch(ve){return void P._errorSteps(ve)}var ee={buffer:U,bufferByteLength:R,byteOffset:0,byteLength:R,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(ee)}Bi(Q,P),di(this)}},h}();function wn(h){return!!u(h)&&!!Object.prototype.hasOwnProperty.call(h,"_controlledReadableByteStream")&&h instanceof ti}function Ii(h){return!!u(h)&&!!Object.prototype.hasOwnProperty.call(h,"_associatedReadableByteStreamController")&&h instanceof ei}function di(h){(function(P){var Q=P._controlledReadableByteStream;return Q._state!=="readable"||P._closeRequested||!P._started?!1:!!(zi(Q)&&gi(Q)>0||wi(Q)&&to(Q)>0||ki(P)>0)})(h)&&(h._pulling?h._pullAgain=!0:(h._pulling=!0,ne(h._pullAlgorithm(),function(){h._pulling=!1,h._pullAgain&&(h._pullAgain=!1,di(h))},function(P){ri(h,P)})))}function Vn(h){_i(h),h._pendingPullIntos=new Ge}function xi(h,P){var Q=!1;h._state==="closed"&&(Q=!0);var pe=ao(P);P.readerType==="default"?Un(h,pe,Q):function(me,R,U){var ee=me._reader._readIntoRequests.shift();U?ee._closeSteps(R):ee._chunkSteps(R)}(h,pe,Q)}function ao(h){var P=h.bytesFilled,Q=h.elementSize;return new h.viewConstructor(h.buffer,h.byteOffset,P/Q)}function Ui(h,P,Q,pe){h._queue.push({buffer:P,byteOffset:Q,byteLength:pe}),h._queueTotalSize+=pe}function Yi(h,P){var Q=P.elementSize,pe=P.bytesFilled-P.bytesFilled%Q,me=Math.min(h._queueTotalSize,P.byteLength-P.bytesFilled),R=P.bytesFilled+me,U=R-R%Q,ee=me,ve=!1;U>pe&&(ee=U-P.bytesFilled,ve=!0);for(var He=h._queue;ee>0;){var Ke=He.peek(),ht=Math.min(ee,Ke.byteLength),Xe=P.byteOffset+P.bytesFilled;pi(P.buffer,Xe,Ke.buffer,Ke.byteOffset,ht),Ke.byteLength===ht?He.shift():(Ke.byteOffset+=ht,Ke.byteLength-=ht),h._queueTotalSize-=ht,Xi(h,ht,P),ee-=ht}return ve}function Xi(h,P,Q){Q.bytesFilled+=P}function Gi(h){h._queueTotalSize===0&&h._closeRequested?(Ti(h),ir(h._controlledReadableByteStream)):di(h)}function _i(h){h._byobRequest!==null&&(h._byobRequest._associatedReadableByteStreamController=void 0,h._byobRequest._view=null,h._byobRequest=null)}function Hi(h){for(;h._pendingPullIntos.length>0;){if(h._queueTotalSize===0)return;var P=h._pendingPullIntos.peek();Yi(h,P)&&(Ai(h),xi(h._controlledReadableByteStream,P))}}function so(h,P){var Q=h._pendingPullIntos.peek();_i(h),h._controlledReadableByteStream._state==="closed"?function(pe,me){var R=pe._controlledReadableByteStream;if(wi(R))for(;to(R)>0;)xi(R,Ai(pe))}(h):function(pe,me,R){if(Xi(0,me,R),!(R.bytesFilled<R.elementSize)){Ai(pe);var U=R.bytesFilled%R.elementSize;if(U>0){var ee=R.byteOffset+R.bytesFilled,ve=Rn(R.buffer,ee-U,ee);Ui(pe,ve,0,ve.byteLength)}R.bytesFilled-=U,xi(pe._controlledReadableByteStream,R),Hi(pe)}}(h,P,Q),di(h)}function Ai(h){return h._pendingPullIntos.shift()}function Ti(h){h._pullAlgorithm=void 0,h._cancelAlgorithm=void 0}function Et(h){var P=h._controlledReadableByteStream;if(!h._closeRequested&&P._state==="readable")if(h._queueTotalSize>0)h._closeRequested=!0;else{if(h._pendingPullIntos.length>0&&h._pendingPullIntos.peek().bytesFilled>0){var Q=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ri(h,Q),Q}Ti(h),ir(P)}}function ji(h,P){var Q=h._controlledReadableByteStream;if(!h._closeRequested&&Q._state==="readable"){var pe=P.buffer,me=P.byteOffset,R=P.byteLength,U=pe;if(h._pendingPullIntos.length>0){var ee=h._pendingPullIntos.peek();ee.buffer,ee.buffer=ee.buffer}_i(h),zi(Q)?gi(Q)===0?Ui(h,U,me,R):(h._pendingPullIntos.length>0&&Ai(h),Un(Q,new Uint8Array(U,me,R),!1)):wi(Q)?(Ui(h,U,me,R),Hi(h)):Ui(h,U,me,R),di(h)}}function ri(h,P){var Q=h._controlledReadableByteStream;Q._state==="readable"&&(Vn(h),Wn(h),Ti(h),lr(Q,P))}function $i(h){if(h._byobRequest===null&&h._pendingPullIntos.length>0){var P=h._pendingPullIntos.peek(),Q=new Uint8Array(P.buffer,P.byteOffset+P.bytesFilled,P.byteLength-P.bytesFilled),pe=Object.create(ei.prototype);(function(me,R,U){me._associatedReadableByteStreamController=R,me._view=U})(pe,h,Q),h._byobRequest=pe}return h._byobRequest}function ki(h){var P=h._controlledReadableByteStream._state;return P==="errored"?null:P==="closed"?0:h._strategyHWM-h._queueTotalSize}function mi(h,P){var Q=h._pendingPullIntos.peek();if(h._controlledReadableByteStream._state==="closed"){if(P!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(P===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(Q.bytesFilled+P>Q.byteLength)throw new RangeError("bytesWritten out of range")}Q.buffer=Q.buffer,so(h,P)}function Hn(h,P){var Q=h._pendingPullIntos.peek();if(h._controlledReadableByteStream._state==="closed"){if(P.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(P.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(Q.byteOffset+Q.bytesFilled!==P.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(Q.bufferByteLength!==P.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(Q.bytesFilled+P.byteLength>Q.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");var pe=P.byteLength;Q.buffer=P.buffer,so(h,pe)}function Qi(h,P,Q,pe,me,R,U){P._controlledReadableByteStream=h,P._pullAgain=!1,P._pulling=!1,P._byobRequest=null,P._queue=P._queueTotalSize=void 0,Wn(P),P._closeRequested=!1,P._started=!1,P._strategyHWM=R,P._pullAlgorithm=pe,P._cancelAlgorithm=me,P._autoAllocateChunkSize=U,P._pendingPullIntos=new Ge,h._readableStreamController=P,ne(L(Q()),function(){P._started=!0,di(P)},function(ee){ri(P,ee)})}function Wi(h){return new TypeError("ReadableStreamBYOBRequest.prototype."+h+" can only be used on a ReadableStreamBYOBRequest")}function zn(h){return new TypeError("ReadableByteStreamController.prototype."+h+" can only be used on a ReadableByteStreamController")}function Zi(h){return new yi(h)}function eo(h,P){h._reader._readIntoRequests.push(P)}function to(h){return h._reader._readIntoRequests.length}function wi(h){var P=h._reader;return P!==void 0&&!!ui(P)}Object.defineProperties(ti.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(ti.prototype,s.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var yi=function(){function h(P){if(Zn(P,1,"ReadableStreamBYOBReader"),Pi(P,"First parameter"),Cr(P))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!wn(P._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Ve(this,P),this._readIntoRequests=new Ge}return Object.defineProperty(h.prototype,"closed",{get:function(){return ui(this)?this._closedPromise:W(ci("closed"))},enumerable:!1,configurable:!0}),h.prototype.cancel=function(P){return P===void 0&&(P=void 0),ui(this)?this._ownerReadableStream===void 0?W(et("cancel")):ke(this,P):W(ci("cancel"))},h.prototype.read=function(P){if(!ui(this))return W(ci("read"));if(!ArrayBuffer.isView(P))return W(new TypeError("view must be an array buffer view"));if(P.byteLength===0)return W(new TypeError("view must have non-zero byteLength"));if(P.buffer.byteLength===0)return W(new TypeError("view's buffer must have non-zero byteLength"));if(P.buffer,this._ownerReadableStream===void 0)return W(et("read from"));var Q,pe,me=I(function(R,U){Q=R,pe=U});return vi(this,P,{_chunkSteps:function(R){return Q({value:R,done:!1})},_closeSteps:function(R){return Q({value:R,done:!0})},_errorSteps:function(R){return pe(R)}}),me},h.prototype.releaseLock=function(){if(!ui(this))throw ci("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");bt(this)}},h}();function ui(h){return!!u(h)&&!!Object.prototype.hasOwnProperty.call(h,"_readIntoRequests")&&h instanceof yi}function vi(h,P,Q){var pe=h._ownerReadableStream;pe._disturbed=!0,pe._state==="errored"?Q._errorSteps(pe._storedError):function(me,R,U){var ee=me._controlledReadableByteStream,ve=1;R.constructor!==DataView&&(ve=R.constructor.BYTES_PER_ELEMENT);var He=R.constructor,Ke=R.buffer,ht={buffer:Ke,bufferByteLength:Ke.byteLength,byteOffset:R.byteOffset,byteLength:R.byteLength,bytesFilled:0,elementSize:ve,viewConstructor:He,readerType:"byob"};if(me._pendingPullIntos.length>0)return me._pendingPullIntos.push(ht),void eo(ee,U);if(ee._state!=="closed"){if(me._queueTotalSize>0){if(Yi(me,ht)){var Xe=ao(ht);return Gi(me),void U._chunkSteps(Xe)}if(me._closeRequested){var pt=new TypeError("Insufficient bytes to fill elements in the given buffer");return ri(me,pt),void U._errorSteps(pt)}}me._pendingPullIntos.push(ht),eo(ee,U),di(me)}else{var Vt=new He(ht.buffer,ht.byteOffset,0);U._closeSteps(Vt)}}(pe._readableStreamController,P,Q)}function ci(h){return new TypeError("ReadableStreamBYOBReader.prototype."+h+" can only be used on a ReadableStreamBYOBReader")}function hi(h,P){var Q=h.highWaterMark;if(Q===void 0)return P;if(si(Q)||Q<0)throw new RangeError("Invalid highWaterMark");return Q}function we(h){var P=h.size;return P||function(){return 1}}function r(h,P){Br(h,P);var Q=h==null?void 0:h.highWaterMark,pe=h==null?void 0:h.size;return{highWaterMark:Q===void 0?void 0:Ei(Q),size:pe===void 0?void 0:Fe(pe,P+" has member 'size' that")}}function Fe(h,P){return ut(h,P),function(Q){return Ei(h(Q))}}function Ne(h,P,Q){return ut(h,Q),function(pe){return Ue(h,P,[pe])}}function Oe(h,P,Q){return ut(h,Q),function(){return Ue(h,P,[])}}function Ce(h,P,Q){return ut(h,Q),function(pe){return ye(h,P,[pe])}}function Ct(h,P,Q){return ut(h,Q),function(pe,me){return Ue(h,P,[pe,me])}}function at(h,P){if(!Ht(h))throw new TypeError(P+" is not a WritableStream.")}Object.defineProperties(yi.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(yi.prototype,s.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var At=typeof AbortController=="function",It=function(){function h(P,Q){P===void 0&&(P={}),Q===void 0&&(Q={}),P===void 0?P=null:F(P,"First parameter");var pe=r(Q,"Second parameter"),me=function(U,ee){Br(U,ee);var ve=U==null?void 0:U.abort,He=U==null?void 0:U.close,Ke=U==null?void 0:U.start,ht=U==null?void 0:U.type,Xe=U==null?void 0:U.write;return{abort:ve===void 0?void 0:Ne(ve,U,ee+" has member 'abort' that"),close:He===void 0?void 0:Oe(He,U,ee+" has member 'close' that"),start:Ke===void 0?void 0:Ce(Ke,U,ee+" has member 'start' that"),write:Xe===void 0?void 0:Ct(Xe,U,ee+" has member 'write' that"),type:ht}}(P,"First parameter");if(Kt(this),me.type!==void 0)throw new RangeError("Invalid type is specified");var R=we(pe);(function(U,ee,ve,He){var Ke=Object.create(an.prototype),ht=function(){},Xe=function(){return L(void 0)},pt=function(){return L(void 0)},Vt=function(){return L(void 0)};ee.start!==void 0&&(ht=function(){return ee.start(Ke)}),ee.write!==void 0&&(Xe=function(br){return ee.write(br,Ke)}),ee.close!==void 0&&(pt=function(){return ee.close()}),ee.abort!==void 0&&(Vt=function(br){return ee.abort(br)}),un(U,Ke,ht,Xe,pt,Vt,ve,He)})(this,me,hi(pe,1),R)}return Object.defineProperty(h.prototype,"locked",{get:function(){if(!Ht(this))throw We("locked");return Ot(this)},enumerable:!1,configurable:!0}),h.prototype.abort=function(P){return P===void 0&&(P=void 0),Ht(this)?Ot(this)?W(new TypeError("Cannot abort a stream that already has a writer")):ft(this,P):W(We("abort"))},h.prototype.close=function(){return Ht(this)?Ot(this)?W(new TypeError("Cannot close a stream that already has a writer")):Nt(this)?W(new TypeError("Cannot close an already-closing stream")):ct(this):W(We("close"))},h.prototype.getWriter=function(){if(!Ht(this))throw We("getWriter");return Lt(this)},h}();function Lt(h){return new jr(h)}function Kt(h){h._state="writable",h._storedError=void 0,h._writer=void 0,h._writableStreamController=void 0,h._writeRequests=new Ge,h._inFlightWriteRequest=void 0,h._closeRequest=void 0,h._inFlightCloseRequest=void 0,h._pendingAbortRequest=void 0,h._backpressure=!1}function Ht(h){return!!u(h)&&!!Object.prototype.hasOwnProperty.call(h,"_writableStreamController")&&h instanceof It}function Ot(h){return h._writer!==void 0}function ft(h,P){var Q;if(h._state==="closed"||h._state==="errored")return L(void 0);h._writableStreamController._abortReason=P,(Q=h._writableStreamController._abortController)===null||Q===void 0||Q.abort();var pe=h._state;if(pe==="closed"||pe==="errored")return L(void 0);if(h._pendingAbortRequest!==void 0)return h._pendingAbortRequest._promise;var me=!1;pe==="erroring"&&(me=!0,P=void 0);var R=I(function(U,ee){h._pendingAbortRequest={_promise:void 0,_resolve:U,_reject:ee,_reason:P,_wasAlreadyErroring:me}});return h._pendingAbortRequest._promise=R,me||Ar(h,P),R}function ct(h){var P=h._state;if(P==="closed"||P==="errored")return W(new TypeError("The stream (in "+P+" state) is not in the writable state and cannot be closed"));var Q,pe=I(function(R,U){var ee={_resolve:R,_reject:U};h._closeRequest=ee}),me=h._writer;return me!==void 0&&h._backpressure&&P==="writable"&&Lr(me),Sn(Q=h._writableStreamController,Bn,0),qe(Q),pe}function yt(h,P){h._state!=="writable"?Mr(h):Ar(h,P)}function Ar(h,P){var Q=h._writableStreamController;h._state="erroring",h._storedError=P;var pe=h._writer;pe!==void 0&&hn(pe,P),!function(me){return!(me._inFlightWriteRequest===void 0&&me._inFlightCloseRequest===void 0)}(h)&&Q._started&&Mr(h)}function Mr(h){h._state="errored",h._writableStreamController[K]();var P=h._storedError;if(h._writeRequests.forEach(function(pe){pe._reject(P)}),h._writeRequests=new Ge,h._pendingAbortRequest!==void 0){var Q=h._pendingAbortRequest;if(h._pendingAbortRequest=void 0,Q._wasAlreadyErroring)return Q._reject(P),void Jr(h);ne(h._writableStreamController[jt](Q._reason),function(){Q._resolve(),Jr(h)},function(pe){Q._reject(pe),Jr(h)})}else Jr(h)}function Nt(h){return h._closeRequest!==void 0||h._inFlightCloseRequest!==void 0}function Jr(h){h._closeRequest!==void 0&&(h._closeRequest._reject(h._storedError),h._closeRequest=void 0);var P=h._writer;P!==void 0&&Wr(P,h._storedError)}function Fr(h,P){var Q=h._writer;Q!==void 0&&P!==h._backpressure&&(P?function(pe){Nr(pe)}(Q):Lr(Q)),h._backpressure=P}Object.defineProperties(It.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(It.prototype,s.toStringTag,{value:"WritableStream",configurable:!0});var jr=function(){function h(P){if(Zn(P,1,"WritableStreamDefaultWriter"),at(P,"First parameter"),Ot(P))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=P,P._writer=this;var Q,pe=P._state;if(pe==="writable")!Nt(P)&&P._backpressure?Nr(this):cn(this),Bt(this);else if(pe==="erroring")rn(this,P._storedError),Bt(this);else if(pe==="closed")cn(this),Bt(Q=this),qt(Q);else{var me=P._storedError;rn(this,me),kr(this,me)}}return Object.defineProperty(h.prototype,"closed",{get:function(){return tn(this)?this._closedPromise:W(Je("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"desiredSize",{get:function(){if(!tn(this))throw Je("desiredSize");if(this._ownerWritableStream===void 0)throw tt("desiredSize");return function(P){var Q=P._ownerWritableStream,pe=Q._state;return pe==="errored"||pe==="erroring"?null:pe==="closed"?0:Jt(Q._writableStreamController)}(this)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"ready",{get:function(){return tn(this)?this._readyPromise:W(Je("ready"))},enumerable:!1,configurable:!0}),h.prototype.abort=function(P){return P===void 0&&(P=void 0),tn(this)?this._ownerWritableStream===void 0?W(tt("abort")):function(Q,pe){return ft(Q._ownerWritableStream,pe)}(this,P):W(Je("abort"))},h.prototype.close=function(){if(!tn(this))return W(Je("close"));var P=this._ownerWritableStream;return P===void 0?W(tt("close")):Nt(P)?W(new TypeError("Cannot close an already-closing stream")):$r(this)},h.prototype.releaseLock=function(){if(!tn(this))throw Je("releaseLock");this._ownerWritableStream!==void 0&&bn(this)},h.prototype.write=function(P){return P===void 0&&(P=void 0),tn(this)?this._ownerWritableStream===void 0?W(tt("write to")):En(this,P):W(Je("write"))},h}();function tn(h){return!!u(h)&&!!Object.prototype.hasOwnProperty.call(h,"_ownerWritableStream")&&h instanceof jr}function $r(h){return ct(h._ownerWritableStream)}function vn(h,P){h._closedPromiseState==="pending"?Wr(h,P):function(Q,pe){kr(Q,pe)}(h,P)}function hn(h,P){h._readyPromiseState==="pending"?gn(h,P):function(Q,pe){rn(Q,pe)}(h,P)}function bn(h){var P=h._ownerWritableStream,Q=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");hn(h,Q),vn(h,Q),P._writer=void 0,h._ownerWritableStream=void 0}function En(h,P){var Q=h._ownerWritableStream,pe=Q._writableStreamController,me=function(ee,ve){try{return ee._strategySizeAlgorithm(ve)}catch(He){return Tt(ee,He),1}}(pe,P);if(Q!==h._ownerWritableStream)return W(tt("write to"));var R=Q._state;if(R==="errored")return W(Q._storedError);if(Nt(Q)||R==="closed")return W(new TypeError("The stream is closing or closed and cannot be written to"));if(R==="erroring")return W(Q._storedError);var U=function(ee){return I(function(ve,He){var Ke={_resolve:ve,_reject:He};ee._writeRequests.push(Ke)})}(Q);return function(ee,ve,He){try{Sn(ee,ve,He)}catch(ht){return void Tt(ee,ht)}var Ke=ee._controlledWritableStream;!Nt(Ke)&&Ke._state==="writable"&&Fr(Ke,dt(ee)),qe(ee)}(pe,P,me),U}Object.defineProperties(jr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(jr.prototype,s.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Bn={},an=function(){function h(){throw new TypeError("Illegal constructor")}return Object.defineProperty(h.prototype,"abortReason",{get:function(){if(!sn(this))throw sr("abortReason");return this._abortReason},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"signal",{get:function(){if(!sn(this))throw sr("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal},enumerable:!1,configurable:!0}),h.prototype.error=function(P){if(P===void 0&&(P=void 0),!sn(this))throw sr("error");this._controlledWritableStream._state==="writable"&&Be(this,P)},h.prototype[jt]=function(P){var Q=this._abortAlgorithm(P);return Ft(this),Q},h.prototype[K]=function(){Wn(this)},h}();function sn(h){return!!u(h)&&!!Object.prototype.hasOwnProperty.call(h,"_controlledWritableStream")&&h instanceof an}function un(h,P,Q,pe,me,R,U,ee){P._controlledWritableStream=h,h._writableStreamController=P,P._queue=void 0,P._queueTotalSize=void 0,Wn(P),P._abortReason=void 0,P._abortController=function(){if(At)return new AbortController}(),P._started=!1,P._strategySizeAlgorithm=ee,P._strategyHWM=U,P._writeAlgorithm=pe,P._closeAlgorithm=me,P._abortAlgorithm=R;var ve=dt(P);Fr(h,ve),ne(L(Q()),function(){P._started=!0,qe(P)},function(He){P._started=!0,yt(h,He)})}function Ft(h){h._writeAlgorithm=void 0,h._closeAlgorithm=void 0,h._abortAlgorithm=void 0,h._strategySizeAlgorithm=void 0}function Jt(h){return h._strategyHWM-h._queueTotalSize}function qe(h){var P=h._controlledWritableStream;if(h._started&&P._inFlightWriteRequest===void 0)if(P._state!=="erroring"){if(h._queue.length!==0){var Q=h._queue.peek().value;Q===Bn?function(pe){var me=pe._controlledWritableStream;(function(U){U._inFlightCloseRequest=U._closeRequest,U._closeRequest=void 0})(me),Li(pe);var R=pe._closeAlgorithm();Ft(pe),ne(R,function(){(function(U){U._inFlightCloseRequest._resolve(void 0),U._inFlightCloseRequest=void 0,U._state==="erroring"&&(U._storedError=void 0,U._pendingAbortRequest!==void 0&&(U._pendingAbortRequest._resolve(),U._pendingAbortRequest=void 0)),U._state="closed";var ee=U._writer;ee!==void 0&&qt(ee)})(me)},function(U){(function(ee,ve){ee._inFlightCloseRequest._reject(ve),ee._inFlightCloseRequest=void 0,ee._pendingAbortRequest!==void 0&&(ee._pendingAbortRequest._reject(ve),ee._pendingAbortRequest=void 0),yt(ee,ve)})(me,U)})}(h):function(pe,me){var R=pe._controlledWritableStream;(function(U){U._inFlightWriteRequest=U._writeRequests.shift()})(R),ne(pe._writeAlgorithm(me),function(){(function(ve){ve._inFlightWriteRequest._resolve(void 0),ve._inFlightWriteRequest=void 0})(R);var U=R._state;if(Li(pe),!Nt(R)&&U==="writable"){var ee=dt(pe);Fr(R,ee)}qe(pe)},function(U){R._state==="writable"&&Ft(pe),function(ee,ve){ee._inFlightWriteRequest._reject(ve),ee._inFlightWriteRequest=void 0,yt(ee,ve)}(R,U)})}(h,Q)}}else Mr(P)}function Tt(h,P){h._controlledWritableStream._state==="writable"&&Be(h,P)}function dt(h){return Jt(h)<=0}function Be(h,P){var Q=h._controlledWritableStream;Ft(h),Ar(Q,P)}function We(h){return new TypeError("WritableStream.prototype."+h+" can only be used on a WritableStream")}function sr(h){return new TypeError("WritableStreamDefaultController.prototype."+h+" can only be used on a WritableStreamDefaultController")}function Je(h){return new TypeError("WritableStreamDefaultWriter.prototype."+h+" can only be used on a WritableStreamDefaultWriter")}function tt(h){return new TypeError("Cannot "+h+" a stream using a released writer")}function Bt(h){h._closedPromise=I(function(P,Q){h._closedPromise_resolve=P,h._closedPromise_reject=Q,h._closedPromiseState="pending"})}function kr(h,P){Bt(h),Wr(h,P)}function Wr(h,P){h._closedPromise_reject!==void 0&&(ce(h._closedPromise),h._closedPromise_reject(P),h._closedPromise_resolve=void 0,h._closedPromise_reject=void 0,h._closedPromiseState="rejected")}function qt(h){h._closedPromise_resolve!==void 0&&(h._closedPromise_resolve(void 0),h._closedPromise_resolve=void 0,h._closedPromise_reject=void 0,h._closedPromiseState="resolved")}function Nr(h){h._readyPromise=I(function(P,Q){h._readyPromise_resolve=P,h._readyPromise_reject=Q}),h._readyPromiseState="pending"}function rn(h,P){Nr(h),gn(h,P)}function cn(h){Nr(h),Lr(h)}function gn(h,P){h._readyPromise_reject!==void 0&&(ce(h._readyPromise),h._readyPromise_reject(P),h._readyPromise_resolve=void 0,h._readyPromise_reject=void 0,h._readyPromiseState="rejected")}function Lr(h){h._readyPromise_resolve!==void 0&&(h._readyPromise_resolve(void 0),h._readyPromise_resolve=void 0,h._readyPromise_reject=void 0,h._readyPromiseState="fulfilled")}Object.defineProperties(an.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(an.prototype,s.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var qr=typeof DOMException<"u"?DOMException:void 0,kt,mr=function(h){if(typeof h!="function"&&typeof h!="object")return!1;try{return new h,!0}catch{return!1}}(qr)?qr:((kt=function(h,P){this.message=h||"",this.name=P||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}).prototype=Object.create(Error.prototype),Object.defineProperty(kt.prototype,"constructor",{value:kt,writable:!0,configurable:!0}),kt);function zr(h,P,Q,pe,me,R){var U=mn(h),ee=Lt(P);h._disturbed=!0;var ve=!1,He=L(void 0);return I(function(Ke,ht){var Xe,pt,Vt,br;if(R!==void 0){if(Xe=function(){var $t=new mr("Aborted","AbortError"),mt=[];pe||mt.push(function(){return P._state==="writable"?ft(P,$t):L(void 0)}),me||mt.push(function(){return h._state==="readable"?Gt(h,$t):L(void 0)}),tr(function(){return Promise.all(mt.map(function(vt){return vt()}))},!0,$t)},R.aborted)return void Xe();R.addEventListener("abort",Xe)}if(fr(h,U._closedPromise,function($t){pe?Vr(!0,$t):tr(function(){return ft(P,$t)},!0,$t)}),fr(P,ee._closedPromise,function($t){me?Vr(!0,$t):tr(function(){return Gt(h,$t)},!0,$t)}),pt=h,Vt=U._closedPromise,br=function(){Q?Vr():tr(function(){return function($t){var mt=$t._ownerWritableStream,vt=mt._state;return Nt(mt)||vt==="closed"?L(void 0):vt==="errored"?W(mt._storedError):$r($t)}(ee)})},pt._state==="closed"?br():q(Vt,br),Nt(P)||P._state==="closed"){var Hr=new TypeError("the destination writable stream closed before all data could be piped to it");me?Vr(!0,Hr):tr(function(){return Gt(h,Hr)},!0,Hr)}function ur(){var $t=He;return le(He,function(){return $t!==He?ur():void 0})}function fr($t,mt,vt){$t._state==="errored"?vt($t._storedError):X(mt,vt)}function tr($t,mt,vt){function rr(){ne($t(),function(){return Tr(mt,vt)},function(Er){return Tr(!0,Er)})}ve||(ve=!0,P._state!=="writable"||Nt(P)?rr():q(ur(),rr))}function Vr($t,mt){ve||(ve=!0,P._state!=="writable"||Nt(P)?Tr($t,mt):q(ur(),function(){return Tr($t,mt)}))}function Tr($t,mt){bn(ee),bt(U),R!==void 0&&R.removeEventListener("abort",Xe),$t?ht(mt):Ke(void 0)}ce(I(function($t,mt){(function vt(rr){rr?$t():le(ve?L(!0):le(ee._readyPromise,function(){return I(function(Er,oe){_n(U,{_chunkSteps:function(fe){He=le(En(ee,fe),void 0,o),Er(!1)},_closeSteps:function(){return Er(!0)},_errorSteps:oe})})}),vt,mt)})(!1)}))})}var cr=function(){function h(){throw new TypeError("Illegal constructor")}return Object.defineProperty(h.prototype,"desiredSize",{get:function(){if(!Se(this))throw Qr("desiredSize");return Ut(this)},enumerable:!1,configurable:!0}),h.prototype.close=function(){if(!Se(this))throw Qr("close");if(!yr(this))throw new TypeError("The stream is not in a state that permits close");Ae(this)},h.prototype.enqueue=function(P){if(P===void 0&&(P=void 0),!Se(this))throw Qr("enqueue");if(!yr(this))throw new TypeError("The stream is not in a state that permits enqueue");return Ie(this,P)},h.prototype.error=function(P){if(P===void 0&&(P=void 0),!Se(this))throw Qr("error");Le(this,P)},h.prototype[Pn]=function(P){Wn(this);var Q=this._cancelAlgorithm(P);return ae(this),Q},h.prototype[Kr]=function(P){var Q=this._controlledReadableStream;if(this._queue.length>0){var pe=Li(this);this._closeRequested&&this._queue.length===0?(ae(this),ir(Q)):j(this),P._chunkSteps(pe)}else Bi(Q,P),j(this)},h}();function Se(h){return!!u(h)&&!!Object.prototype.hasOwnProperty.call(h,"_controlledReadableStream")&&h instanceof cr}function j(h){$(h)&&(h._pulling?h._pullAgain=!0:(h._pulling=!0,ne(h._pullAlgorithm(),function(){h._pulling=!1,h._pullAgain&&(h._pullAgain=!1,j(h))},function(P){Le(h,P)})))}function $(h){var P=h._controlledReadableStream;return!!yr(h)&&!!h._started&&(!!(Cr(P)&&gi(P)>0)||Ut(h)>0)}function ae(h){h._pullAlgorithm=void 0,h._cancelAlgorithm=void 0,h._strategySizeAlgorithm=void 0}function Ae(h){if(yr(h)){var P=h._controlledReadableStream;h._closeRequested=!0,h._queue.length===0&&(ae(h),ir(P))}}function Ie(h,P){if(yr(h)){var Q=h._controlledReadableStream;if(Cr(Q)&&gi(Q)>0)Un(Q,P,!1);else{var pe=void 0;try{pe=h._strategySizeAlgorithm(P)}catch(me){throw Le(h,me),me}try{Sn(h,P,pe)}catch(me){throw Le(h,me),me}}j(h)}}function Le(h,P){var Q=h._controlledReadableStream;Q._state==="readable"&&(Wn(h),ae(h),lr(Q,P))}function Ut(h){var P=h._controlledReadableStream._state;return P==="errored"?null:P==="closed"?0:h._strategyHWM-h._queueTotalSize}function yr(h){var P=h._controlledReadableStream._state;return!h._closeRequested&&P==="readable"}function Qt(h,P,Q,pe,me,R,U){P._controlledReadableStream=h,P._queue=void 0,P._queueTotalSize=void 0,Wn(P),P._started=!1,P._closeRequested=!1,P._pullAgain=!1,P._pulling=!1,P._strategySizeAlgorithm=U,P._strategyHWM=R,P._pullAlgorithm=pe,P._cancelAlgorithm=me,h._readableStreamController=P,ne(L(Q()),function(){P._started=!0,j(P)},function(ee){Le(P,ee)})}function Qr(h){return new TypeError("ReadableStreamDefaultController.prototype."+h+" can only be used on a ReadableStreamDefaultController")}function hr(h,P){return wn(h._readableStreamController)?function(Q){var pe,me,R,U,ee,ve=mn(Q),He=!1,Ke=!1,ht=!1,Xe=!1,pt=!1,Vt=I(function(mt){ee=mt});function br(mt){X(mt._closedPromise,function(vt){mt===ve&&(ri(R._readableStreamController,vt),ri(U._readableStreamController,vt),Xe&&pt||ee(void 0))})}function Hr(){ui(ve)&&(bt(ve),br(ve=mn(Q))),_n(ve,{_chunkSteps:function(mt){_e(function(){Ke=!1,ht=!1;var vt=mt,rr=mt;if(!Xe&&!pt)try{rr=oo(mt)}catch(Er){return ri(R._readableStreamController,Er),ri(U._readableStreamController,Er),void ee(Gt(Q,Er))}Xe||ji(R._readableStreamController,vt),pt||ji(U._readableStreamController,rr),He=!1,Ke?fr():ht&&tr()})},_closeSteps:function(){He=!1,Xe||Et(R._readableStreamController),pt||Et(U._readableStreamController),R._readableStreamController._pendingPullIntos.length>0&&mi(R._readableStreamController,0),U._readableStreamController._pendingPullIntos.length>0&&mi(U._readableStreamController,0),Xe&&pt||ee(void 0)},_errorSteps:function(){He=!1}})}function ur(mt,vt){ai(ve)&&(bt(ve),br(ve=Zi(Q)));var rr=vt?U:R,Er=vt?R:U;vi(ve,mt,{_chunkSteps:function(oe){_e(function(){Ke=!1,ht=!1;var fe=vt?pt:Xe;if(vt?Xe:pt)fe||Hn(rr._readableStreamController,oe);else{var he=void 0;try{he=oo(oe)}catch(Ee){return ri(rr._readableStreamController,Ee),ri(Er._readableStreamController,Ee),void ee(Gt(Q,Ee))}fe||Hn(rr._readableStreamController,oe),ji(Er._readableStreamController,he)}He=!1,Ke?fr():ht&&tr()})},_closeSteps:function(oe){He=!1;var fe=vt?pt:Xe,he=vt?Xe:pt;fe||Et(rr._readableStreamController),he||Et(Er._readableStreamController),oe!==void 0&&(fe||Hn(rr._readableStreamController,oe),!he&&Er._readableStreamController._pendingPullIntos.length>0&&mi(Er._readableStreamController,0)),fe&&he||ee(void 0)},_errorSteps:function(){He=!1}})}function fr(){if(He)return Ke=!0,L(void 0);He=!0;var mt=$i(R._readableStreamController);return mt===null?Hr():ur(mt._view,!1),L(void 0)}function tr(){if(He)return ht=!0,L(void 0);He=!0;var mt=$i(U._readableStreamController);return mt===null?Hr():ur(mt._view,!0),L(void 0)}function Vr(mt){if(Xe=!0,pe=mt,pt){var vt=Jn([pe,me]),rr=Gt(Q,vt);ee(rr)}return Vt}function Tr(mt){if(pt=!0,me=mt,Xe){var vt=Jn([pe,me]),rr=Gt(Q,vt);ee(rr)}return Vt}function $t(){}return R=Rt($t,fr,Vr),U=Rt($t,tr,Tr),br(ve),[R,U]}(h):function(Q,pe){var me,R,U,ee,ve,He=mn(Q),Ke=!1,ht=!1,Xe=!1,pt=!1,Vt=I(function(tr){ve=tr});function br(){return Ke?(ht=!0,L(void 0)):(Ke=!0,_n(He,{_chunkSteps:function(tr){_e(function(){ht=!1;var Vr=tr,Tr=tr;Xe||Ie(U._readableStreamController,Vr),pt||Ie(ee._readableStreamController,Tr),Ke=!1,ht&&br()})},_closeSteps:function(){Ke=!1,Xe||Ae(U._readableStreamController),pt||Ae(ee._readableStreamController),Xe&&pt||ve(void 0)},_errorSteps:function(){Ke=!1}}),L(void 0))}function Hr(tr){if(Xe=!0,me=tr,pt){var Vr=Jn([me,R]),Tr=Gt(Q,Vr);ve(Tr)}return Vt}function ur(tr){if(pt=!0,R=tr,Xe){var Vr=Jn([me,R]),Tr=Gt(Q,Vr);ve(Tr)}return Vt}function fr(){}return U=zt(fr,br,Hr),ee=zt(fr,br,ur),X(He._closedPromise,function(tr){Le(U._readableStreamController,tr),Le(ee._readableStreamController,tr),Xe&&pt||ve(void 0)}),[U,ee]}(h)}function Rr(h,P,Q){return ut(h,Q),function(pe){return Ue(h,P,[pe])}}function Or(h,P,Q){return ut(h,Q),function(pe){return Ue(h,P,[pe])}}function wr(h,P,Q){return ut(h,Q),function(pe){return ye(h,P,[pe])}}function vr(h,P){if((h=""+h)!="bytes")throw new TypeError(P+" '"+h+"' is not a valid enumeration value for ReadableStreamType");return h}function gr(h,P){if((h=""+h)!="byob")throw new TypeError(P+" '"+h+"' is not a valid enumeration value for ReadableStreamReaderMode");return h}function _t(h,P){Br(h,P);var Q=h==null?void 0:h.preventAbort,pe=h==null?void 0:h.preventCancel,me=h==null?void 0:h.preventClose,R=h==null?void 0:h.signal;return R!==void 0&&function(U,ee){if(!function(ve){if(typeof ve!="object"||ve===null)return!1;try{return typeof ve.aborted=="boolean"}catch{return!1}}(U))throw new TypeError(ee+" is not an AbortSignal.")}(R,P+" has member 'signal' that"),{preventAbort:Boolean(Q),preventCancel:Boolean(pe),preventClose:Boolean(me),signal:R}}Object.defineProperties(cr.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(cr.prototype,s.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var wt=function(){function h(P,Q){P===void 0&&(P={}),Q===void 0&&(Q={}),P===void 0?P=null:F(P,"First parameter");var pe=r(Q,"Second parameter"),me=function(U,ee){Br(U,ee);var ve=U,He=ve==null?void 0:ve.autoAllocateChunkSize,Ke=ve==null?void 0:ve.cancel,ht=ve==null?void 0:ve.pull,Xe=ve==null?void 0:ve.start,pt=ve==null?void 0:ve.type;return{autoAllocateChunkSize:He===void 0?void 0:io(He,ee+" has member 'autoAllocateChunkSize' that"),cancel:Ke===void 0?void 0:Rr(Ke,ve,ee+" has member 'cancel' that"),pull:ht===void 0?void 0:Or(ht,ve,ee+" has member 'pull' that"),start:Xe===void 0?void 0:wr(Xe,ve,ee+" has member 'start' that"),type:pt===void 0?void 0:vr(pt,ee+" has member 'type' that")}}(P,"First parameter");if(rt(this),me.type==="bytes"){if(pe.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");(function(U,ee,ve){var He=Object.create(ti.prototype),Ke=function(){},ht=function(){return L(void 0)},Xe=function(){return L(void 0)};ee.start!==void 0&&(Ke=function(){return ee.start(He)}),ee.pull!==void 0&&(ht=function(){return ee.pull(He)}),ee.cancel!==void 0&&(Xe=function(Vt){return ee.cancel(Vt)});var pt=ee.autoAllocateChunkSize;if(pt===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Qi(U,He,Ke,ht,Xe,ve,pt)})(this,me,hi(pe,0))}else{var R=we(pe);(function(U,ee,ve,He){var Ke=Object.create(cr.prototype),ht=function(){},Xe=function(){return L(void 0)},pt=function(){return L(void 0)};ee.start!==void 0&&(ht=function(){return ee.start(Ke)}),ee.pull!==void 0&&(Xe=function(){return ee.pull(Ke)}),ee.cancel!==void 0&&(pt=function(Vt){return ee.cancel(Vt)}),Qt(U,Ke,ht,Xe,pt,ve,He)})(this,me,hi(pe,1),R)}}return Object.defineProperty(h.prototype,"locked",{get:function(){if(!nr(this))throw Qe("locked");return Cr(this)},enumerable:!1,configurable:!0}),h.prototype.cancel=function(P){return P===void 0&&(P=void 0),nr(this)?Cr(this)?W(new TypeError("Cannot cancel a stream that already has a reader")):Gt(this,P):W(Qe("cancel"))},h.prototype.getReader=function(P){if(P===void 0&&(P=void 0),!nr(this))throw Qe("getReader");return function(Q,pe){Br(Q,pe);var me=Q==null?void 0:Q.mode;return{mode:me===void 0?void 0:gr(me,pe+" has member 'mode' that")}}(P,"First parameter").mode===void 0?mn(this):Zi(this)},h.prototype.pipeThrough=function(P,Q){if(Q===void 0&&(Q={}),!nr(this))throw Qe("pipeThrough");Zn(P,1,"pipeThrough");var pe=function(R,U){Br(R,U);var ee=R==null?void 0:R.readable;kn(ee,"readable","ReadableWritablePair"),Pi(ee,U+" has member 'readable' that");var ve=R==null?void 0:R.writable;return kn(ve,"writable","ReadableWritablePair"),at(ve,U+" has member 'writable' that"),{readable:ee,writable:ve}}(P,"First parameter"),me=_t(Q,"Second parameter");if(Cr(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ot(pe.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return ce(zr(this,pe.writable,me.preventClose,me.preventAbort,me.preventCancel,me.signal)),pe.readable},h.prototype.pipeTo=function(P,Q){if(Q===void 0&&(Q={}),!nr(this))return W(Qe("pipeTo"));if(P===void 0)return W("Parameter 1 is required in 'pipeTo'.");if(!Ht(P))return W(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var pe;try{pe=_t(Q,"Second parameter")}catch(me){return W(me)}return Cr(this)?W(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ot(P)?W(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):zr(this,P,pe.preventClose,pe.preventAbort,pe.preventCancel,pe.signal)},h.prototype.tee=function(){if(!nr(this))throw Qe("tee");return Jn(hr(this))},h.prototype.values=function(P){if(P===void 0&&(P=void 0),!nr(this))throw Qe("values");var Q,pe,me,R,U,ee=function(ve,He){Br(ve,He);var Ke=ve==null?void 0:ve.preventCancel;return{preventCancel:Boolean(Ke)}}(P,"First parameter");return Q=this,pe=ee.preventCancel,me=mn(Q),R=new Ln(me,pe),(U=Object.create(Mi))._asyncIteratorImpl=R,U},h}();function zt(h,P,Q,pe,me){pe===void 0&&(pe=1),me===void 0&&(me=function(){return 1});var R=Object.create(wt.prototype);return rt(R),Qt(R,Object.create(cr.prototype),h,P,Q,pe,me),R}function Rt(h,P,Q){var pe=Object.create(wt.prototype);return rt(pe),Qi(pe,Object.create(ti.prototype),h,P,Q,0,void 0),pe}function rt(h){h._state="readable",h._reader=void 0,h._storedError=void 0,h._disturbed=!1}function nr(h){return!!u(h)&&!!Object.prototype.hasOwnProperty.call(h,"_readableStreamController")&&h instanceof wt}function Cr(h){return h._reader!==void 0}function Gt(h,P){if(h._disturbed=!0,h._state==="closed")return L(void 0);if(h._state==="errored")return W(h._storedError);ir(h);var Q=h._reader;return Q!==void 0&&ui(Q)&&(Q._readIntoRequests.forEach(function(pe){pe._closeSteps(void 0)}),Q._readIntoRequests=new Ge),re(h._readableStreamController[Pn](P),o)}function ir(h){h._state="closed";var P=h._reader;P!==void 0&&(ot(P),ai(P)&&(P._readRequests.forEach(function(Q){Q._closeSteps()}),P._readRequests=new Ge))}function lr(h,P){h._state="errored",h._storedError=P;var Q=h._reader;Q!==void 0&&(Ze(Q,P),ai(Q)?(Q._readRequests.forEach(function(pe){pe._errorSteps(P)}),Q._readRequests=new Ge):(Q._readIntoRequests.forEach(function(pe){pe._errorSteps(P)}),Q._readIntoRequests=new Ge))}function Qe(h){return new TypeError("ReadableStream.prototype."+h+" can only be used on a ReadableStream")}function Zt(h,P){Br(h,P);var Q=h==null?void 0:h.highWaterMark;return kn(Q,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Ei(Q)}}Object.defineProperties(wt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(wt.prototype,s.toStringTag,{value:"ReadableStream",configurable:!0}),typeof s.asyncIterator=="symbol"&&Object.defineProperty(wt.prototype,s.asyncIterator,{value:wt.prototype.values,writable:!0,configurable:!0});var St=function(h){return h.byteLength};try{Object.defineProperty(St,"name",{value:"size",configurable:!0})}catch{}var Wt=function(){function h(P){Zn(P,1,"ByteLengthQueuingStrategy"),P=Zt(P,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=P.highWaterMark}return Object.defineProperty(h.prototype,"highWaterMark",{get:function(){if(!pr(this))throw Yt("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"size",{get:function(){if(!pr(this))throw Yt("size");return St},enumerable:!1,configurable:!0}),h}();function Yt(h){return new TypeError("ByteLengthQueuingStrategy.prototype."+h+" can only be used on a ByteLengthQueuingStrategy")}function pr(h){return!!u(h)&&!!Object.prototype.hasOwnProperty.call(h,"_byteLengthQueuingStrategyHighWaterMark")&&h instanceof Wt}Object.defineProperties(Wt.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(Wt.prototype,s.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Sr=function(){return 1};try{Object.defineProperty(Sr,"name",{value:"size",configurable:!0})}catch{}var Dt=function(){function h(P){Zn(P,1,"CountQueuingStrategy"),P=Zt(P,"First parameter"),this._countQueuingStrategyHighWaterMark=P.highWaterMark}return Object.defineProperty(h.prototype,"highWaterMark",{get:function(){if(!Xt(this))throw or("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"size",{get:function(){if(!Xt(this))throw or("size");return Sr},enumerable:!1,configurable:!0}),h}();function or(h){return new TypeError("CountQueuingStrategy.prototype."+h+" can only be used on a CountQueuingStrategy")}function Xt(h){return!!u(h)&&!!Object.prototype.hasOwnProperty.call(h,"_countQueuingStrategyHighWaterMark")&&h instanceof Dt}function nt(h,P,Q){return ut(h,Q),function(pe){return Ue(h,P,[pe])}}function dr(h,P,Q){return ut(h,Q),function(pe){return ye(h,P,[pe])}}function xr(h,P,Q){return ut(h,Q),function(pe,me){return Ue(h,P,[pe,me])}}Object.defineProperties(Dt.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(Dt.prototype,s.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var Mt=function(){function h(P,Q,pe){P===void 0&&(P={}),Q===void 0&&(Q={}),pe===void 0&&(pe={}),P===void 0&&(P=null);var me=r(Q,"Second parameter"),R=r(pe,"Third parameter"),U=function(Xe,pt){Br(Xe,pt);var Vt=Xe==null?void 0:Xe.flush,br=Xe==null?void 0:Xe.readableType,Hr=Xe==null?void 0:Xe.start,ur=Xe==null?void 0:Xe.transform,fr=Xe==null?void 0:Xe.writableType;return{flush:Vt===void 0?void 0:nt(Vt,Xe,pt+" has member 'flush' that"),readableType:br,start:Hr===void 0?void 0:dr(Hr,Xe,pt+" has member 'start' that"),transform:ur===void 0?void 0:xr(ur,Xe,pt+" has member 'transform' that"),writableType:fr}}(P,"First parameter");if(U.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(U.writableType!==void 0)throw new RangeError("Invalid writableType specified");var ee,ve=hi(R,0),He=we(R),Ke=hi(me,1),ht=we(me);(function(Xe,pt,Vt,br,Hr,ur){function fr(){return pt}function tr(vt){return function(rr,Er){var oe=rr._transformStreamController;return rr._backpressure?re(rr._backpressureChangePromise,function(){var fe=rr._writable;if(fe._state==="erroring")throw fe._storedError;return on(oe,Er)}):on(oe,Er)}(Xe,vt)}function Vr(vt){return function(rr,Er){return er(rr,Er),L(void 0)}(Xe,vt)}function Tr(){return function(vt){var rr=vt._readable,Er=vt._transformStreamController,oe=Er._flushAlgorithm();return nn(Er),re(oe,function(){if(rr._state==="errored")throw rr._storedError;Ae(rr._readableStreamController)},function(fe){throw er(vt,fe),rr._storedError})}(Xe)}function $t(){return function(vt){return fn(vt,!1),vt._backpressureChangePromise}(Xe)}function mt(vt){return Ur(Xe,vt),L(void 0)}Xe._writable=function(vt,rr,Er,oe,fe,he){fe===void 0&&(fe=1),he===void 0&&(he=function(){return 1});var Ee=Object.create(It.prototype);return Kt(Ee),un(Ee,Object.create(an.prototype),vt,rr,Er,oe,fe,he),Ee}(fr,tr,Tr,Vr,Vt,br),Xe._readable=zt(fr,$t,mt,Hr,ur),Xe._backpressure=void 0,Xe._backpressureChangePromise=void 0,Xe._backpressureChangePromise_resolve=void 0,fn(Xe,!0),Xe._transformStreamController=void 0})(this,I(function(Xe){ee=Xe}),Ke,ht,ve,He),function(Xe,pt){var Vt=Object.create(Gr.prototype),br=function(ur){try{return Dn(Vt,ur),L(void 0)}catch(fr){return W(fr)}},Hr=function(){return L(void 0)};pt.transform!==void 0&&(br=function(ur){return pt.transform(ur,Vt)}),pt.flush!==void 0&&(Hr=function(){return pt.flush(Vt)}),function(ur,fr,tr,Vr){fr._controlledTransformStream=ur,ur._transformStreamController=fr,fr._transformAlgorithm=tr,fr._flushAlgorithm=Vr}(Xe,Vt,br,Hr)}(this,U),U.start!==void 0?ee(U.start(this._transformStreamController)):ee(void 0)}return Object.defineProperty(h.prototype,"readable",{get:function(){if(!Dr(this))throw An("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"writable",{get:function(){if(!Dr(this))throw An("writable");return this._writable},enumerable:!1,configurable:!0}),h}();function Dr(h){return!!u(h)&&!!Object.prototype.hasOwnProperty.call(h,"_transformStreamController")&&h instanceof Mt}function er(h,P){Le(h._readable._readableStreamController,P),Ur(h,P)}function Ur(h,P){nn(h._transformStreamController),Tt(h._writable._writableStreamController,P),h._backpressure&&fn(h,!1)}function fn(h,P){h._backpressureChangePromise!==void 0&&h._backpressureChangePromise_resolve(),h._backpressureChangePromise=I(function(Q){h._backpressureChangePromise_resolve=Q}),h._backpressure=P}Object.defineProperties(Mt.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(Mt.prototype,s.toStringTag,{value:"TransformStream",configurable:!0});var Gr=function(){function h(){throw new TypeError("Illegal constructor")}return Object.defineProperty(h.prototype,"desiredSize",{get:function(){if(!Pr(this))throw Cn("desiredSize");return Ut(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),h.prototype.enqueue=function(P){if(P===void 0&&(P=void 0),!Pr(this))throw Cn("enqueue");Dn(this,P)},h.prototype.error=function(P){if(P===void 0&&(P=void 0),!Pr(this))throw Cn("error");var Q;Q=P,er(this._controlledTransformStream,Q)},h.prototype.terminate=function(){if(!Pr(this))throw Cn("terminate");(function(P){var Q=P._controlledTransformStream;Ae(Q._readable._readableStreamController);var pe=new TypeError("TransformStream terminated");Ur(Q,pe)})(this)},h}();function Pr(h){return!!u(h)&&!!Object.prototype.hasOwnProperty.call(h,"_controlledTransformStream")&&h instanceof Gr}function nn(h){h._transformAlgorithm=void 0,h._flushAlgorithm=void 0}function Dn(h,P){var Q=h._controlledTransformStream,pe=Q._readable._readableStreamController;if(!yr(pe))throw new TypeError("Readable side is not in a state that permits enqueue");try{Ie(pe,P)}catch(me){throw Ur(Q,me),Q._readable._storedError}(function(me){return!$(me)})(pe)!==Q._backpressure&&fn(Q,!0)}function on(h,P){return re(h._transformAlgorithm(P),void 0,function(Q){throw er(h._controlledTransformStream,Q),Q})}function Cn(h){return new TypeError("TransformStreamDefaultController.prototype."+h+" can only be used on a TransformStreamDefaultController")}function An(h){return new TypeError("TransformStream.prototype."+h+" can only be used on a TransformStream")}Object.defineProperties(Gr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof s.toStringTag=="symbol"&&Object.defineProperty(Gr.prototype,s.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var In={ReadableStream:wt,ReadableStreamDefaultController:cr,ReadableByteStreamController:ti,ReadableStreamBYOBRequest:ei,ReadableStreamDefaultReader:On,ReadableStreamBYOBReader:yi,WritableStream:It,WritableStreamDefaultController:an,WritableStreamDefaultWriter:jr,ByteLengthQueuingStrategy:Wt,CountQueuingStrategy:Dt,TransformStream:Mt,TransformStreamDefaultController:Gr};if(i!==void 0)for(var yn in In)Object.prototype.hasOwnProperty.call(In,yn)&&Object.defineProperty(i,yn,{value:In[yn],writable:!0,configurable:!0});t.ByteLengthQueuingStrategy=Wt,t.CountQueuingStrategy=Dt,t.ReadableByteStreamController=ti,t.ReadableStream=wt,t.ReadableStreamBYOBReader=yi,t.ReadableStreamBYOBRequest=ei,t.ReadableStreamDefaultController=cr,t.ReadableStreamDefaultReader=On,t.TransformStream=Mt,t.TransformStreamDefaultController=Gr,t.WritableStream=It,t.WritableStreamDefaultController=an,t.WritableStreamDefaultWriter=jr,Object.defineProperty(t,"__esModule",{value:!0})})}(d_,Ba)),Ba}var kc;function h_(){if(kc)return Zo;kc=1,Object.defineProperty(Zo,"__esModule",{value:!0});var n=Zr,e=Zr,t=Zr,s=Zr,o=p_(),i=__();function u(we){return we.startsWith("file://")&&(we=t.fileURLToPath(we)),we}function p(we,r,Fe=""){return we({locateFile(Ne){return Ne.endsWith(".wasm")?u(r):Ne.endsWith(".worker.js")?u(Fe):Ne}})}const _=()=>(async we=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(we)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));var B=function(){return function(r){r=r||{};var r=typeof r<"u"?r:{},Fe,Ne;r.ready=new Promise(function(S,G){Fe=S,Ne=G});var Oe={},Ce;for(Ce in r)r.hasOwnProperty(Ce)&&(Oe[Ce]=r[Ce]);var Ct="./this.program",at=function(S,G){throw G},At=!1,It="";function Lt(S){return r.locateFile?r.locateFile(S,It):It+S}var Kt,Ht,Ot,ft;It=__dirname+"/",Kt=function(G,J){return Ot||(Ot=Zr),ft||(ft=Zr),G=ft.normalize(G),Ot.readFileSync(G,J?null:"utf8")},Ht=function(G){var J=Kt(G,!0);return J.buffer||(J=new Uint8Array(J)),Fr(J.buffer),J},process.argv.length>1&&(Ct=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),at=function(S){process.exit(S)},r.inspect=function(){return"[Emscripten Module object]"};var ct=r.print||console.log.bind(console),yt=r.printErr||console.warn.bind(console);for(Ce in Oe)Oe.hasOwnProperty(Ce)&&(r[Ce]=Oe[Ce]);Oe=null,r.arguments&&r.arguments,r.thisProgram&&(Ct=r.thisProgram),r.quit&&(at=r.quit);var Ar;r.wasmBinary&&(Ar=r.wasmBinary);var Mr=r.noExitRuntime||!0;typeof WebAssembly!="object"&&Ae("no native wasm support detected");var Nt,Jr=!1;function Fr(S,G){S||Ae("Assertion failed: "+G)}var jr=new TextDecoder("utf8");function tn(S,G,J){for(var ie=G+J,de=G;S[de]&&!(de>=ie);)++de;return jr.decode(S.subarray?S.subarray(G,de):new Uint8Array(S.slice(G,de)))}function $r(S,G){if(!S)return"";for(var J=S+G,ie=S;!(ie>=J)&&We[ie];)++ie;return jr.decode(We.subarray(S,ie))}function vn(S,G,J,ie){if(!(ie>0))return 0;for(var de=J,De=J+ie-1,xe=0;xe<S.length;++xe){var Re=S.charCodeAt(xe);if(Re>=55296&&Re<=57343){var je=S.charCodeAt(++xe);Re=65536+((Re&1023)<<10)|je&1023}if(Re<=127){if(J>=De)break;G[J++]=Re}else if(Re<=2047){if(J+1>=De)break;G[J++]=192|Re>>6,G[J++]=128|Re&63}else if(Re<=65535){if(J+2>=De)break;G[J++]=224|Re>>12,G[J++]=128|Re>>6&63,G[J++]=128|Re&63}else{if(J+3>=De)break;G[J++]=240|Re>>18,G[J++]=128|Re>>12&63,G[J++]=128|Re>>6&63,G[J++]=128|Re&63}}return G[J]=0,J-de}function hn(S,G,J){return vn(S,We,G,J)}function bn(S){for(var G=0,J=0;J<S.length;++J){var ie=S.charCodeAt(J);ie>=55296&&ie<=57343&&(ie=65536+((ie&1023)<<10)|S.charCodeAt(++J)&1023),ie<=127?++G:ie<=2047?G+=2:ie<=65535?G+=3:G+=4}return G}var En=new TextDecoder("utf-16le");function Bn(S,G){for(var J=S,ie=J>>1,de=ie+G/2;!(ie>=de)&&Je[ie];)++ie;return J=ie<<1,En.decode(We.subarray(S,J))}function an(S,G,J){if(J===void 0&&(J=2147483647),J<2)return 0;J-=2;for(var ie=G,de=J<S.length*2?J/2:S.length,De=0;De<de;++De){var xe=S.charCodeAt(De);sr[G>>1]=xe,G+=2}return sr[G>>1]=0,G-ie}function sn(S){return S.length*2}function un(S,G){for(var J=0,ie="";!(J>=G/4);){var de=tt[S+J*4>>2];if(de==0)break;if(++J,de>=65536){var De=de-65536;ie+=String.fromCharCode(55296|De>>10,56320|De&1023)}else ie+=String.fromCharCode(de)}return ie}function Ft(S,G,J){if(J===void 0&&(J=2147483647),J<4)return 0;for(var ie=G,de=ie+J-4,De=0;De<S.length;++De){var xe=S.charCodeAt(De);if(xe>=55296&&xe<=57343){var Re=S.charCodeAt(++De);xe=65536+((xe&1023)<<10)|Re&1023}if(tt[G>>2]=xe,G+=4,G+4>de)break}return tt[G>>2]=0,G-ie}function Jt(S){for(var G=0,J=0;J<S.length;++J){var ie=S.charCodeAt(J);ie>=55296&&ie<=57343&&++J,G+=4}return G}function qe(S,G,J){for(var ie=0;ie<S.length;++ie)Be[G++>>0]=S.charCodeAt(ie);J||(Be[G>>0]=0)}function Tt(S,G){return S%G>0&&(S+=G-S%G),S}var dt,Be,We,sr,Je,tt,Bt,kr,Wr;function qt(S){dt=S,r.HEAP8=Be=new Int8Array(S),r.HEAP16=sr=new Int16Array(S),r.HEAP32=tt=new Int32Array(S),r.HEAPU8=We=new Uint8Array(S),r.HEAPU16=Je=new Uint16Array(S),r.HEAPU32=Bt=new Uint32Array(S),r.HEAPF32=kr=new Float32Array(S),r.HEAPF64=Wr=new Float64Array(S)}r.INITIAL_MEMORY;var Nr,rn=[],cn=[],gn=[];function Lr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)mr(r.preRun.shift());hr(rn)}function qr(){hr(cn)}function kt(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)cr(r.postRun.shift());hr(gn)}function mr(S){rn.unshift(S)}function zr(S){cn.unshift(S)}function cr(S){gn.unshift(S)}var Se=0,j=null;function $(S){Se++,r.monitorRunDependencies&&r.monitorRunDependencies(Se)}function ae(S){if(Se--,r.monitorRunDependencies&&r.monitorRunDependencies(Se),Se==0&&j){var G=j;j=null,G()}}r.preloadedImages={},r.preloadedAudios={};function Ae(S){r.onAbort&&r.onAbort(S),S+="",yt(S),Jr=!0,S="abort("+S+"). Build with -s ASSERTIONS=1 for more info.";var G=new WebAssembly.RuntimeError(S);throw Ne(G),G}var Ie="data:application/octet-stream;base64,";function Le(S){return S.startsWith(Ie)}if(r.locateFile){var Ut="mozjpeg_node_enc.wasm";Le(Ut)||(Ut=Lt(Ut))}else var Ut=new URL("mozjpeg_node_enc.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href).toString();function yr(S){try{if(S==Ut&&Ar)return new Uint8Array(Ar);if(Ht)return Ht(S);throw"both async and sync fetching of the wasm failed"}catch(G){Ae(G)}}function Qt(){return!Ar&&At&&typeof fetch=="function"?fetch(Ut,{credentials:"same-origin"}).then(function(S){if(!S.ok)throw"failed to load wasm binary file at '"+Ut+"'";return S.arrayBuffer()}).catch(function(){return yr(Ut)}):Promise.resolve().then(function(){return yr(Ut)})}function Qr(){var S={a:w};function G(xe,Re){var je=xe.exports;r.asm=je,Nt=r.asm.C,qt(Nt.buffer),Nr=r.asm.I,zr(r.asm.D),ae()}$();function J(xe){G(xe.instance)}function ie(xe){return Qt().then(function(Re){var je=WebAssembly.instantiate(Re,S);return je}).then(xe,function(Re){yt("failed to asynchronously prepare wasm: "+Re),Ae(Re)})}function de(){return!Ar&&typeof WebAssembly.instantiateStreaming=="function"&&!Le(Ut)&&typeof fetch=="function"?fetch(Ut,{credentials:"same-origin"}).then(function(xe){var Re=WebAssembly.instantiateStreaming(xe,S);return Re.then(J,function(je){return yt("wasm streaming compile failed: "+je),yt("falling back to ArrayBuffer instantiation"),ie(J)})}):ie(J)}if(r.instantiateWasm)try{var De=r.instantiateWasm(S,G);return De}catch(xe){return yt("Module.instantiateWasm callback failed with error: "+xe),!1}return de().catch(Ne),{}}function hr(S){for(;S.length>0;){var G=S.shift();if(typeof G=="function"){G(r);continue}var J=G.func;typeof J=="number"?G.arg===void 0?Nr.get(J)():Nr.get(J)(G.arg):J(G.arg===void 0?null:G.arg)}}var Rr=0;function Or(){return Mr||Rr>0}function wr(S,G){}function vr(S,G){return void 0}var gr={};function _t(S){for(;S.length;){var G=S.pop(),J=S.pop();J(G)}}function wt(S){return this.fromWireType(Bt[S>>2])}var zt={},Rt={},rt={},nr=48,Cr=57;function Gt(S){if(S===void 0)return"_unknown";S=S.replace(/[^a-zA-Z0-9_]/g,"$");var G=S.charCodeAt(0);return G>=nr&&G<=Cr?"_"+S:S}function ir(S,G){return S=Gt(S),new Function("body","return function "+S+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(G)}function lr(S,G){var J=ir(G,function(ie){this.name=G,this.message=ie;var de=new Error(ie).stack;de!==void 0&&(this.stack=this.toString()+`
`+de.replace(/^Error(:[^\n]*)?\n/,""))});return J.prototype=Object.create(S.prototype),J.prototype.constructor=J,J.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},J}var Qe=void 0;function Zt(S){throw new Qe(S)}function St(S,G,J){S.forEach(function(Re){rt[Re]=G});function ie(Re){var je=J(Re);je.length!==S.length&&Zt("Mismatched type converter count");for(var gt=0;gt<S.length;++gt)dr(S[gt],je[gt])}var de=new Array(G.length),De=[],xe=0;G.forEach(function(Re,je){Rt.hasOwnProperty(Re)?de[je]=Rt[Re]:(De.push(Re),zt.hasOwnProperty(Re)||(zt[Re]=[]),zt[Re].push(function(){de[je]=Rt[Re],++xe,xe===De.length&&ie(de)}))}),De.length===0&&ie(de)}function Wt(S){var G=gr[S];delete gr[S];var J=G.rawConstructor,ie=G.rawDestructor,de=G.fields,De=de.map(function(xe){return xe.getterReturnType}).concat(de.map(function(xe){return xe.setterArgumentType}));St([S],De,function(xe){var Re={};return de.forEach(function(je,gt){var Y=je.fieldName,C=xe[gt],O=je.getter,g=je.getterContext,b=xe[gt+de.length],H=je.setter,Z=je.setterContext;Re[Y]={read:function(se){return C.fromWireType(O(g,se))},write:function(se,ue){var ge=[];H(Z,se,b.toWireType(ge,ue)),_t(ge)}}}),[{name:G.name,fromWireType:function(je){var gt={};for(var Y in Re)gt[Y]=Re[Y].read(je);return ie(je),gt},toWireType:function(je,gt){for(var Y in Re)if(!(Y in gt))throw new TypeError('Missing field:  "'+Y+'"');var C=J();for(Y in Re)Re[Y].write(C,gt[Y]);return je!==null&&je.push(ie,C),C},argPackAdvance:8,readValueFromPointer:wt,destructorFunction:ie}]})}function Yt(S,G,J,ie,de){}function pr(S){switch(S){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+S)}}function Sr(){for(var S=new Array(256),G=0;G<256;++G)S[G]=String.fromCharCode(G);Dt=S}var Dt=void 0;function or(S){for(var G="",J=S;We[J];)G+=Dt[We[J++]];return G}var Xt=void 0;function nt(S){throw new Xt(S)}function dr(S,G,J){if(J=J||{},!("argPackAdvance"in G))throw new TypeError("registerType registeredInstance requires argPackAdvance");var ie=G.name;if(S||nt('type "'+ie+'" must have a positive integer typeid pointer'),Rt.hasOwnProperty(S)){if(J.ignoreDuplicateRegistrations)return;nt("Cannot register type '"+ie+"' twice")}if(Rt[S]=G,delete rt[S],zt.hasOwnProperty(S)){var de=zt[S];delete zt[S],de.forEach(function(De){De()})}}function xr(S,G,J,ie,de){var De=pr(J);G=or(G),dr(S,{name:G,fromWireType:function(xe){return!!xe},toWireType:function(xe,Re){return Re?ie:de},argPackAdvance:8,readValueFromPointer:function(xe){var Re;if(J===1)Re=Be;else if(J===2)Re=sr;else if(J===4)Re=tt;else throw new TypeError("Unknown boolean type size: "+G);return this.fromWireType(Re[xe>>De])},destructorFunction:null})}var Mt=[],Dr=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function er(S){S>4&&--Dr[S].refcount===0&&(Dr[S]=void 0,Mt.push(S))}function Ur(){for(var S=0,G=5;G<Dr.length;++G)Dr[G]!==void 0&&++S;return S}function fn(){for(var S=5;S<Dr.length;++S)if(Dr[S]!==void 0)return Dr[S];return null}function Gr(){r.count_emval_handles=Ur,r.get_first_emval=fn}function Pr(S){switch(S){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var G=Mt.length?Mt.pop():Dr.length;return Dr[G]={refcount:1,value:S},G}}}function nn(S,G){G=or(G),dr(S,{name:G,fromWireType:function(J){var ie=Dr[J].value;return er(J),ie},toWireType:function(J,ie){return Pr(ie)},argPackAdvance:8,readValueFromPointer:wt,destructorFunction:null})}function Dn(S){if(S===null)return"null";var G=typeof S;return G==="object"||G==="array"||G==="function"?S.toString():""+S}function on(S,G){switch(G){case 2:return function(J){return this.fromWireType(kr[J>>2])};case 3:return function(J){return this.fromWireType(Wr[J>>3])};default:throw new TypeError("Unknown float type: "+S)}}function Cn(S,G,J){var ie=pr(J);G=or(G),dr(S,{name:G,fromWireType:function(de){return de},toWireType:function(de,De){if(typeof De!="number"&&typeof De!="boolean")throw new TypeError('Cannot convert "'+Dn(De)+'" to '+this.name);return De},argPackAdvance:8,readValueFromPointer:on(G,ie),destructorFunction:null})}function An(S,G){if(!(S instanceof Function))throw new TypeError("new_ called with constructor type "+typeof S+" which is not a function");var J=ir(S.name||"unknownFunctionName",function(){});J.prototype=S.prototype;var ie=new J,de=S.apply(ie,G);return de instanceof Object?de:ie}function In(S,G,J,ie,de){var De=G.length;De<2&&nt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var xe=G[1]!==null&&J!==null,Re=!1,je=1;je<G.length;++je)if(G[je]!==null&&G[je].destructorFunction===void 0){Re=!0;break}for(var gt=G[0].name!=="void",Y="",C="",je=0;je<De-2;++je)Y+=(je!==0?", ":"")+"arg"+je,C+=(je!==0?", ":"")+"arg"+je+"Wired";var O="return function "+Gt(S)+"("+Y+`) {
if (arguments.length !== `+(De-2)+`) {
throwBindingError('function `+S+" called with ' + arguments.length + ' arguments, expected "+(De-2)+` args!');
}
`;Re&&(O+=`var destructors = [];
`);var g=Re?"destructors":"null",b=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],H=[nt,ie,de,_t,G[0],G[1]];xe&&(O+="var thisWired = classParam.toWireType("+g+`, this);
`);for(var je=0;je<De-2;++je)O+="var arg"+je+"Wired = argType"+je+".toWireType("+g+", arg"+je+"); // "+G[je+2].name+`
`,b.push("argType"+je),H.push(G[je+2]);if(xe&&(C="thisWired"+(C.length>0?", ":"")+C),O+=(gt?"var rv = ":"")+"invoker(fn"+(C.length>0?", ":"")+C+`);
`,Re)O+=`runDestructors(destructors);
`;else for(var je=xe?1:2;je<G.length;++je){var Z=je===1?"thisWired":"arg"+(je-2)+"Wired";G[je].destructorFunction!==null&&(O+=Z+"_dtor("+Z+"); // "+G[je].name+`
`,b.push(Z+"_dtor"),H.push(G[je].destructorFunction))}gt&&(O+=`var ret = retType.fromWireType(rv);
return ret;
`),O+=`}
`,b.push(O);var se=An(Function,b).apply(null,H);return se}function yn(S,G,J){if(S[G].overloadTable===void 0){var ie=S[G];S[G]=function(){return S[G].overloadTable.hasOwnProperty(arguments.length)||nt("Function '"+J+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+S[G].overloadTable+")!"),S[G].overloadTable[arguments.length].apply(this,arguments)},S[G].overloadTable=[],S[G].overloadTable[ie.argCount]=ie}}function h(S,G,J){r.hasOwnProperty(S)?((J===void 0||r[S].overloadTable!==void 0&&r[S].overloadTable[J]!==void 0)&&nt("Cannot register public name '"+S+"' twice"),yn(r,S,S),r.hasOwnProperty(J)&&nt("Cannot register multiple overloads of a function with the same number of arguments ("+J+")!"),r[S].overloadTable[J]=G):(r[S]=G,J!==void 0&&(r[S].numArguments=J))}function P(S,G){for(var J=[],ie=0;ie<S;ie++)J.push(tt[(G>>2)+ie]);return J}function Q(S,G,J){r.hasOwnProperty(S)||Zt("Replacing nonexistant public symbol"),r[S].overloadTable!==void 0&&J!==void 0?r[S].overloadTable[J]=G:(r[S]=G,r[S].argCount=J)}function pe(S,G,J){var ie=r["dynCall_"+S];return J&&J.length?ie.apply(null,[G].concat(J)):ie.call(null,G)}function me(S,G,J){return S.includes("j")?pe(S,G,J):Nr.get(G).apply(null,J)}function R(S,G){var J=[];return function(){J.length=arguments.length;for(var ie=0;ie<arguments.length;ie++)J[ie]=arguments[ie];return me(S,G,J)}}function U(S,G){S=or(S);function J(){return S.includes("j")?R(S,G):Nr.get(G)}var ie=J();return typeof ie!="function"&&nt("unknown function pointer with signature "+S+": "+G),ie}var ee=void 0;function ve(S){var G=M(S),J=or(G);return te(G),J}function He(S,G){var J=[],ie={};function de(De){if(!ie[De]&&!Rt[De]){if(rt[De]){rt[De].forEach(de);return}J.push(De),ie[De]=!0}}throw G.forEach(de),new ee(S+": "+J.map(ve).join([", "]))}function Ke(S,G,J,ie,de,De){var xe=P(G,J);S=or(S),de=U(ie,de),h(S,function(){He("Cannot call "+S+" due to unbound types",xe)},G-1),St([],xe,function(Re){var je=[Re[0],null].concat(Re.slice(1));return Q(S,In(S,je,null,de,De),G-1),[]})}function ht(S,G,J){switch(G){case 0:return J?function(de){return Be[de]}:function(de){return We[de]};case 1:return J?function(de){return sr[de>>1]}:function(de){return Je[de>>1]};case 2:return J?function(de){return tt[de>>2]}:function(de){return Bt[de>>2]};default:throw new TypeError("Unknown integer type: "+S)}}function Xe(S,G,J,ie,de){G=or(G),de===-1&&(de=4294967295);var De=pr(J),xe=function(gt){return gt};if(ie===0){var Re=32-8*J;xe=function(gt){return gt<<Re>>>Re}}var je=G.includes("unsigned");dr(S,{name:G,fromWireType:xe,toWireType:function(gt,Y){if(typeof Y!="number"&&typeof Y!="boolean")throw new TypeError('Cannot convert "'+Dn(Y)+'" to '+this.name);if(Y<ie||Y>de)throw new TypeError('Passing a number "'+Dn(Y)+'" from JS side to C/C++ side to an argument of type "'+G+'", which is outside the valid range ['+ie+", "+de+"]!");return je?Y>>>0:Y|0},argPackAdvance:8,readValueFromPointer:ht(G,De,ie!==0),destructorFunction:null})}function pt(S,G,J){var ie=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],de=ie[G];function De(xe){xe=xe>>2;var Re=Bt,je=Re[xe],gt=Re[xe+1];return new de(dt,gt,je)}J=or(J),dr(S,{name:J,fromWireType:De,argPackAdvance:8,readValueFromPointer:De},{ignoreDuplicateRegistrations:!0})}function Vt(S,G){G=or(G);var J=G==="std::string";dr(S,{name:G,fromWireType:function(ie){var de=Bt[ie>>2],De;if(J)for(var xe=ie+4,Re=0;Re<=de;++Re){var je=ie+4+Re;if(Re==de||We[je]==0){var gt=je-xe,Y=$r(xe,gt);De===void 0?De=Y:(De+=String.fromCharCode(0),De+=Y),xe=je+1}}else{for(var C=new Array(de),Re=0;Re<de;++Re)C[Re]=String.fromCharCode(We[ie+4+Re]);De=C.join("")}return te(ie),De},toWireType:function(ie,de){de instanceof ArrayBuffer&&(de=new Uint8Array(de));var De,xe=typeof de=="string";xe||de instanceof Uint8Array||de instanceof Uint8ClampedArray||de instanceof Int8Array||nt("Cannot pass non-string to std::string"),J&&xe?De=function(){return bn(de)}:De=function(){return de.length};var Re=De(),je=k(4+Re+1);if(Bt[je>>2]=Re,J&&xe)hn(de,je+4,Re+1);else if(xe)for(var gt=0;gt<Re;++gt){var Y=de.charCodeAt(gt);Y>255&&(te(je),nt("String has UTF-16 code units that do not fit in 8 bits")),We[je+4+gt]=Y}else for(var gt=0;gt<Re;++gt)We[je+4+gt]=de[gt];return ie!==null&&ie.push(te,je),je},argPackAdvance:8,readValueFromPointer:wt,destructorFunction:function(ie){te(ie)}})}function br(S,G,J){J=or(J);var ie,de,De,xe,Re;G===2?(ie=Bn,de=an,xe=sn,De=function(){return Je},Re=1):G===4&&(ie=un,de=Ft,xe=Jt,De=function(){return Bt},Re=2),dr(S,{name:J,fromWireType:function(je){for(var gt=Bt[je>>2],Y=De(),C,O=je+4,g=0;g<=gt;++g){var b=je+4+g*G;if(g==gt||Y[b>>Re]==0){var H=b-O,Z=ie(O,H);C===void 0?C=Z:(C+=String.fromCharCode(0),C+=Z),O=b+G}}return te(je),C},toWireType:function(je,gt){typeof gt!="string"&&nt("Cannot pass non-string to C++ string type "+J);var Y=xe(gt),C=k(4+Y+G);return Bt[C>>2]=Y>>Re,de(gt,C+4,Y+G),je!==null&&je.push(te,C),C},argPackAdvance:8,readValueFromPointer:wt,destructorFunction:function(je){te(je)}})}function Hr(S,G,J,ie,de,De){gr[S]={name:or(G),rawConstructor:U(J,ie),rawDestructor:U(de,De),fields:[]}}function ur(S,G,J,ie,de,De,xe,Re,je,gt){gr[S].fields.push({fieldName:or(G),getterReturnType:J,getter:U(ie,de),getterContext:De,setterArgumentType:xe,setter:U(Re,je),setterContext:gt})}function fr(S,G){G=or(G),dr(S,{isVoid:!0,name:G,argPackAdvance:0,fromWireType:function(){},toWireType:function(J,ie){}})}var tr={};function Vr(S){var G=tr[S];return G===void 0?or(S):G}function Tr(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function $t(S){return S===0?Pr(Tr()):(S=Vr(S),Pr(Tr()[S]))}function mt(S){S>4&&(Dr[S].refcount+=1)}function vt(S,G){var J=Rt[S];return J===void 0&&nt(G+" has unknown type "+ve(S)),J}function rr(S){for(var G="",J=0;J<S;++J)G+=(J!==0?", ":"")+"arg"+J;for(var ie="return function emval_allocator_"+S+`(constructor, argTypes, args) {
`,J=0;J<S;++J)ie+="var argType"+J+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+J+'], "parameter '+J+`");
var arg`+J+" = argType"+J+`.readValueFromPointer(args);
args += argType`+J+`['argPackAdvance'];
`;return ie+="var obj = new constructor("+G+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",ie)(vt,r,Pr)}var Er={};function oe(S){return S||nt("Cannot use deleted val. handle = "+S),Dr[S].value}function fe(S,G,J,ie){S=oe(S);var de=Er[G];return de||(de=rr(G),Er[G]=de),de(S,J,ie)}function he(){Ae()}function Ee(S,G,J){We.copyWithin(S,G,G+J)}function Pe(S){try{return Nt.grow(S-dt.byteLength+65535>>>16),qt(Nt.buffer),1}catch{}}function Ye(S){var G=We.length;S=S>>>0;var J=2147483648;if(S>J)return!1;for(var ie=1;ie<=4;ie*=2){var de=G*(1+.2/ie);de=Math.min(de,S+100663296);var De=Math.min(J,Tt(Math.max(S,de),65536)),xe=Pe(De);if(xe)return!0}return!1}var it={};function E(){return Ct||"./this.program"}function l(){if(!l.strings){var S=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",G={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:S,_:E()};for(var J in it)G[J]=it[J];var ie=[];for(var J in G)ie.push(J+"="+G[J]);l.strings=ie}return l.strings}var c={mappings:{},buffers:[null,[],[]],printChar:function(S,G){var J=c.buffers[S];G===0||G===10?((S===1?ct:yt)(tn(J,0)),J.length=0):J.push(G)},varargs:void 0,get:function(){c.varargs+=4;var S=tt[c.varargs-4>>2];return S},getStr:function(S){var G=$r(S);return G},get64:function(S,G){return S}};function A(S,G){var J=0;return l().forEach(function(ie,de){var De=G+J;tt[S+de*4>>2]=De,qe(ie,De),J+=ie.length+1}),0}function a(S,G){var J=l();tt[S>>2]=J.length;var ie=0;return J.forEach(function(de){ie+=de.length+1}),tt[G>>2]=ie,0}function f(S){z(S)}function v(S){return 0}function D(S,G,J,ie,de){}function N(S,G,J,ie){for(var de=0,De=0;De<J;De++){for(var xe=tt[G+De*8>>2],Re=tt[G+(De*8+4)>>2],je=0;je<Re;je++)c.printChar(S,We[xe+je]);de+=Re}return tt[ie>>2]=de,0}function y(S){}Qe=r.InternalError=lr(Error,"InternalError"),Sr(),Xt=r.BindingError=lr(Error,"BindingError"),Gr(),ee=r.UnboundTypeError=lr(Error,"UnboundTypeError");var w={B:vr,l:Wt,p:Yt,y:xr,x:nn,i:Cn,f:Ke,c:Xe,b:pt,j:Vt,e:br,m:Hr,a:ur,z:fr,g:er,u:$t,k:mt,n:fe,h:he,r:Ee,d:Ye,s:A,t:a,A:f,w:v,o:D,v:N,q:y};Qr(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.D).apply(null,arguments)};var k=r._malloc=function(){return(k=r._malloc=r.asm.E).apply(null,arguments)},te=r._free=function(){return(te=r._free=r.asm.F).apply(null,arguments)},M=r.___getTypeName=function(){return(M=r.___getTypeName=r.asm.G).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.H).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.J).apply(null,arguments)};var m;function T(S){this.name="ExitStatus",this.message="Program terminated with exit("+S+")",this.status=S}j=function S(){m||x(),m||(j=S)};function x(S){if(Se>0||(Lr(),Se>0))return;function G(){m||(m=!0,r.calledRun=!0,!Jr&&(qr(),Fe(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),kt()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),G()},1)):G()}r.run=x;function z(S,G){G&&Or()&&S===0||(Or()||(r.onExit&&r.onExit(S),Jr=!0),at(S,new T(S)))}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return x(),r.ready}}(),d=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/mozjpeg_node_enc-7b3a94eb.wasm").href:new URL("mozjpeg_node_enc-7b3a94eb.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,V=function(){return function(r){r=r||{};var r=typeof r<"u"?r:{},Fe,Ne;r.ready=new Promise(function(m,T){Fe=m,Ne=T});var Oe={},Ce;for(Ce in r)r.hasOwnProperty(Ce)&&(Oe[Ce]=r[Ce]);var Ct="./this.program",at=function(m,T){throw T},At=!1,It="";function Lt(m){return r.locateFile?r.locateFile(m,It):It+m}var Kt,Ht,Ot,ft;It=__dirname+"/",Kt=function(T,x){return Ot||(Ot=Zr),ft||(ft=Zr),T=ft.normalize(T),Ot.readFileSync(T,x?null:"utf8")},Ht=function(T){var x=Kt(T,!0);return x.buffer||(x=new Uint8Array(x)),Fr(x.buffer),x},process.argv.length>1&&(Ct=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),at=function(m){process.exit(m)},r.inspect=function(){return"[Emscripten Module object]"};var ct=r.print||console.log.bind(console),yt=r.printErr||console.warn.bind(console);for(Ce in Oe)Oe.hasOwnProperty(Ce)&&(r[Ce]=Oe[Ce]);Oe=null,r.arguments&&r.arguments,r.thisProgram&&(Ct=r.thisProgram),r.quit&&(at=r.quit);var Ar;r.wasmBinary&&(Ar=r.wasmBinary);var Mr=r.noExitRuntime||!0;typeof WebAssembly!="object"&&Ae("no native wasm support detected");var Nt,Jr=!1;function Fr(m,T){m||Ae("Assertion failed: "+T)}var jr=new TextDecoder("utf8");function tn(m,T,x){for(var z=T+x,S=T;m[S]&&!(S>=z);)++S;return jr.decode(m.subarray?m.subarray(T,S):new Uint8Array(m.slice(T,S)))}function $r(m,T){if(!m)return"";for(var x=m+T,z=m;!(z>=x)&&We[z];)++z;return jr.decode(We.subarray(m,z))}function vn(m,T,x,z){if(!(z>0))return 0;for(var S=x,G=x+z-1,J=0;J<m.length;++J){var ie=m.charCodeAt(J);if(ie>=55296&&ie<=57343){var de=m.charCodeAt(++J);ie=65536+((ie&1023)<<10)|de&1023}if(ie<=127){if(x>=G)break;T[x++]=ie}else if(ie<=2047){if(x+1>=G)break;T[x++]=192|ie>>6,T[x++]=128|ie&63}else if(ie<=65535){if(x+2>=G)break;T[x++]=224|ie>>12,T[x++]=128|ie>>6&63,T[x++]=128|ie&63}else{if(x+3>=G)break;T[x++]=240|ie>>18,T[x++]=128|ie>>12&63,T[x++]=128|ie>>6&63,T[x++]=128|ie&63}}return T[x]=0,x-S}function hn(m,T,x){return vn(m,We,T,x)}function bn(m){for(var T=0,x=0;x<m.length;++x){var z=m.charCodeAt(x);z>=55296&&z<=57343&&(z=65536+((z&1023)<<10)|m.charCodeAt(++x)&1023),z<=127?++T:z<=2047?T+=2:z<=65535?T+=3:T+=4}return T}var En=new TextDecoder("utf-16le");function Bn(m,T){for(var x=m,z=x>>1,S=z+T/2;!(z>=S)&&Je[z];)++z;return x=z<<1,En.decode(We.subarray(m,x))}function an(m,T,x){if(x===void 0&&(x=2147483647),x<2)return 0;x-=2;for(var z=T,S=x<m.length*2?x/2:m.length,G=0;G<S;++G){var J=m.charCodeAt(G);sr[T>>1]=J,T+=2}return sr[T>>1]=0,T-z}function sn(m){return m.length*2}function un(m,T){for(var x=0,z="";!(x>=T/4);){var S=tt[m+x*4>>2];if(S==0)break;if(++x,S>=65536){var G=S-65536;z+=String.fromCharCode(55296|G>>10,56320|G&1023)}else z+=String.fromCharCode(S)}return z}function Ft(m,T,x){if(x===void 0&&(x=2147483647),x<4)return 0;for(var z=T,S=z+x-4,G=0;G<m.length;++G){var J=m.charCodeAt(G);if(J>=55296&&J<=57343){var ie=m.charCodeAt(++G);J=65536+((J&1023)<<10)|ie&1023}if(tt[T>>2]=J,T+=4,T+4>S)break}return tt[T>>2]=0,T-z}function Jt(m){for(var T=0,x=0;x<m.length;++x){var z=m.charCodeAt(x);z>=55296&&z<=57343&&++x,T+=4}return T}function qe(m,T,x){for(var z=0;z<m.length;++z)Be[T++>>0]=m.charCodeAt(z);x||(Be[T>>0]=0)}function Tt(m,T){return m%T>0&&(m+=T-m%T),m}var dt,Be,We,sr,Je,tt,Bt,kr,Wr;function qt(m){dt=m,r.HEAP8=Be=new Int8Array(m),r.HEAP16=sr=new Int16Array(m),r.HEAP32=tt=new Int32Array(m),r.HEAPU8=We=new Uint8Array(m),r.HEAPU16=Je=new Uint16Array(m),r.HEAPU32=Bt=new Uint32Array(m),r.HEAPF32=kr=new Float32Array(m),r.HEAPF64=Wr=new Float64Array(m)}r.INITIAL_MEMORY;var Nr,rn=[],cn=[],gn=[];function Lr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)mr(r.preRun.shift());hr(rn)}function qr(){hr(cn)}function kt(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)cr(r.postRun.shift());hr(gn)}function mr(m){rn.unshift(m)}function zr(m){cn.unshift(m)}function cr(m){gn.unshift(m)}var Se=0,j=null;function $(m){Se++,r.monitorRunDependencies&&r.monitorRunDependencies(Se)}function ae(m){if(Se--,r.monitorRunDependencies&&r.monitorRunDependencies(Se),Se==0&&j){var T=j;j=null,T()}}r.preloadedImages={},r.preloadedAudios={};function Ae(m){r.onAbort&&r.onAbort(m),m+="",yt(m),Jr=!0,m="abort("+m+"). Build with -s ASSERTIONS=1 for more info.";var T=new WebAssembly.RuntimeError(m);throw Ne(T),T}var Ie="data:application/octet-stream;base64,";function Le(m){return m.startsWith(Ie)}if(r.locateFile){var Ut="mozjpeg_node_dec.wasm";Le(Ut)||(Ut=Lt(Ut))}else var Ut=new URL("mozjpeg_node_dec.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href).toString();function yr(m){try{if(m==Ut&&Ar)return new Uint8Array(Ar);if(Ht)return Ht(m);throw"both async and sync fetching of the wasm failed"}catch(T){Ae(T)}}function Qt(){return!Ar&&At&&typeof fetch=="function"?fetch(Ut,{credentials:"same-origin"}).then(function(m){if(!m.ok)throw"failed to load wasm binary file at '"+Ut+"'";return m.arrayBuffer()}).catch(function(){return yr(Ut)}):Promise.resolve().then(function(){return yr(Ut)})}function Qr(){var m={a:v};function T(J,ie){var de=J.exports;r.asm=de,Nt=r.asm.z,qt(Nt.buffer),Nr=r.asm.F,zr(r.asm.A),ae()}$();function x(J){T(J.instance)}function z(J){return Qt().then(function(ie){var de=WebAssembly.instantiate(ie,m);return de}).then(J,function(ie){yt("failed to asynchronously prepare wasm: "+ie),Ae(ie)})}function S(){return!Ar&&typeof WebAssembly.instantiateStreaming=="function"&&!Le(Ut)&&typeof fetch=="function"?fetch(Ut,{credentials:"same-origin"}).then(function(J){var ie=WebAssembly.instantiateStreaming(J,m);return ie.then(x,function(de){return yt("wasm streaming compile failed: "+de),yt("falling back to ArrayBuffer instantiation"),z(x)})}):z(x)}if(r.instantiateWasm)try{var G=r.instantiateWasm(m,T);return G}catch(J){return yt("Module.instantiateWasm callback failed with error: "+J),!1}return S().catch(Ne),{}}function hr(m){for(;m.length>0;){var T=m.shift();if(typeof T=="function"){T(r);continue}var x=T.func;typeof x=="number"?T.arg===void 0?Nr.get(x)():Nr.get(x)(T.arg):x(T.arg===void 0?null:T.arg)}}var Rr=0;function Or(){return Mr||Rr>0}function wr(m,T){}function vr(m,T){return void 0}function gr(m,T,x,z,S){}function _t(m){switch(m){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+m)}}function wt(){for(var m=new Array(256),T=0;T<256;++T)m[T]=String.fromCharCode(T);zt=m}var zt=void 0;function Rt(m){for(var T="",x=m;We[x];)T+=zt[We[x++]];return T}var rt={},nr={},Cr={},Gt=48,ir=57;function lr(m){if(m===void 0)return"_unknown";m=m.replace(/[^a-zA-Z0-9_]/g,"$");var T=m.charCodeAt(0);return T>=Gt&&T<=ir?"_"+m:m}function Qe(m,T){return m=lr(m),new Function("body","return function "+m+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(T)}function Zt(m,T){var x=Qe(T,function(z){this.name=T,this.message=z;var S=new Error(z).stack;S!==void 0&&(this.stack=this.toString()+`
`+S.replace(/^Error(:[^\n]*)?\n/,""))});return x.prototype=Object.create(m.prototype),x.prototype.constructor=x,x.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},x}var St=void 0;function Wt(m){throw new St(m)}var Yt=void 0;function pr(m){throw new Yt(m)}function Sr(m,T,x){m.forEach(function(ie){Cr[ie]=T});function z(ie){var de=x(ie);de.length!==m.length&&pr("Mismatched type converter count");for(var De=0;De<m.length;++De)Dt(m[De],de[De])}var S=new Array(T.length),G=[],J=0;T.forEach(function(ie,de){nr.hasOwnProperty(ie)?S[de]=nr[ie]:(G.push(ie),rt.hasOwnProperty(ie)||(rt[ie]=[]),rt[ie].push(function(){S[de]=nr[ie],++J,J===G.length&&z(S)}))}),G.length===0&&z(S)}function Dt(m,T,x){if(x=x||{},!("argPackAdvance"in T))throw new TypeError("registerType registeredInstance requires argPackAdvance");var z=T.name;if(m||Wt('type "'+z+'" must have a positive integer typeid pointer'),nr.hasOwnProperty(m)){if(x.ignoreDuplicateRegistrations)return;Wt("Cannot register type '"+z+"' twice")}if(nr[m]=T,delete Cr[m],rt.hasOwnProperty(m)){var S=rt[m];delete rt[m],S.forEach(function(G){G()})}}function or(m,T,x,z,S){var G=_t(x);T=Rt(T),Dt(m,{name:T,fromWireType:function(J){return!!J},toWireType:function(J,ie){return ie?z:S},argPackAdvance:8,readValueFromPointer:function(J){var ie;if(x===1)ie=Be;else if(x===2)ie=sr;else if(x===4)ie=tt;else throw new TypeError("Unknown boolean type size: "+T);return this.fromWireType(ie[J>>G])},destructorFunction:null})}var Xt=[],nt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function dr(m){m>4&&--nt[m].refcount===0&&(nt[m]=void 0,Xt.push(m))}function xr(){for(var m=0,T=5;T<nt.length;++T)nt[T]!==void 0&&++m;return m}function Mt(){for(var m=5;m<nt.length;++m)if(nt[m]!==void 0)return nt[m];return null}function Dr(){r.count_emval_handles=xr,r.get_first_emval=Mt}function er(m){switch(m){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var T=Xt.length?Xt.pop():nt.length;return nt[T]={refcount:1,value:m},T}}}function Ur(m){return this.fromWireType(Bt[m>>2])}function fn(m,T){T=Rt(T),Dt(m,{name:T,fromWireType:function(x){var z=nt[x].value;return dr(x),z},toWireType:function(x,z){return er(z)},argPackAdvance:8,readValueFromPointer:Ur,destructorFunction:null})}function Gr(m){if(m===null)return"null";var T=typeof m;return T==="object"||T==="array"||T==="function"?m.toString():""+m}function Pr(m,T){switch(T){case 2:return function(x){return this.fromWireType(kr[x>>2])};case 3:return function(x){return this.fromWireType(Wr[x>>3])};default:throw new TypeError("Unknown float type: "+m)}}function nn(m,T,x){var z=_t(x);T=Rt(T),Dt(m,{name:T,fromWireType:function(S){return S},toWireType:function(S,G){if(typeof G!="number"&&typeof G!="boolean")throw new TypeError('Cannot convert "'+Gr(G)+'" to '+this.name);return G},argPackAdvance:8,readValueFromPointer:Pr(T,z),destructorFunction:null})}function Dn(m,T){if(!(m instanceof Function))throw new TypeError("new_ called with constructor type "+typeof m+" which is not a function");var x=Qe(m.name||"unknownFunctionName",function(){});x.prototype=m.prototype;var z=new x,S=m.apply(z,T);return S instanceof Object?S:z}function on(m){for(;m.length;){var T=m.pop(),x=m.pop();x(T)}}function Cn(m,T,x,z,S){var G=T.length;G<2&&Wt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var J=T[1]!==null&&x!==null,ie=!1,de=1;de<T.length;++de)if(T[de]!==null&&T[de].destructorFunction===void 0){ie=!0;break}for(var De=T[0].name!=="void",xe="",Re="",de=0;de<G-2;++de)xe+=(de!==0?", ":"")+"arg"+de,Re+=(de!==0?", ":"")+"arg"+de+"Wired";var je="return function "+lr(m)+"("+xe+`) {
if (arguments.length !== `+(G-2)+`) {
throwBindingError('function `+m+" called with ' + arguments.length + ' arguments, expected "+(G-2)+` args!');
}
`;ie&&(je+=`var destructors = [];
`);var gt=ie?"destructors":"null",Y=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],C=[Wt,z,S,on,T[0],T[1]];J&&(je+="var thisWired = classParam.toWireType("+gt+`, this);
`);for(var de=0;de<G-2;++de)je+="var arg"+de+"Wired = argType"+de+".toWireType("+gt+", arg"+de+"); // "+T[de+2].name+`
`,Y.push("argType"+de),C.push(T[de+2]);if(J&&(Re="thisWired"+(Re.length>0?", ":"")+Re),je+=(De?"var rv = ":"")+"invoker(fn"+(Re.length>0?", ":"")+Re+`);
`,ie)je+=`runDestructors(destructors);
`;else for(var de=J?1:2;de<T.length;++de){var O=de===1?"thisWired":"arg"+(de-2)+"Wired";T[de].destructorFunction!==null&&(je+=O+"_dtor("+O+"); // "+T[de].name+`
`,Y.push(O+"_dtor"),C.push(T[de].destructorFunction))}De&&(je+=`var ret = retType.fromWireType(rv);
return ret;
`),je+=`}
`,Y.push(je);var g=Dn(Function,Y).apply(null,C);return g}function An(m,T,x){if(m[T].overloadTable===void 0){var z=m[T];m[T]=function(){return m[T].overloadTable.hasOwnProperty(arguments.length)||Wt("Function '"+x+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+m[T].overloadTable+")!"),m[T].overloadTable[arguments.length].apply(this,arguments)},m[T].overloadTable=[],m[T].overloadTable[z.argCount]=z}}function In(m,T,x){r.hasOwnProperty(m)?((x===void 0||r[m].overloadTable!==void 0&&r[m].overloadTable[x]!==void 0)&&Wt("Cannot register public name '"+m+"' twice"),An(r,m,m),r.hasOwnProperty(x)&&Wt("Cannot register multiple overloads of a function with the same number of arguments ("+x+")!"),r[m].overloadTable[x]=T):(r[m]=T,x!==void 0&&(r[m].numArguments=x))}function yn(m,T){for(var x=[],z=0;z<m;z++)x.push(tt[(T>>2)+z]);return x}function h(m,T,x){r.hasOwnProperty(m)||pr("Replacing nonexistant public symbol"),r[m].overloadTable!==void 0&&x!==void 0?r[m].overloadTable[x]=T:(r[m]=T,r[m].argCount=x)}function P(m,T,x){var z=r["dynCall_"+m];return x&&x.length?z.apply(null,[T].concat(x)):z.call(null,T)}function Q(m,T,x){return m.includes("j")?P(m,T,x):Nr.get(T).apply(null,x)}function pe(m,T){var x=[];return function(){x.length=arguments.length;for(var z=0;z<arguments.length;z++)x[z]=arguments[z];return Q(m,T,x)}}function me(m,T){m=Rt(m);function x(){return m.includes("j")?pe(m,T):Nr.get(T)}var z=x();return typeof z!="function"&&Wt("unknown function pointer with signature "+m+": "+T),z}var R=void 0;function U(m){var T=y(m),x=Rt(T);return N(T),x}function ee(m,T){var x=[],z={};function S(G){if(!z[G]&&!nr[G]){if(Cr[G]){Cr[G].forEach(S);return}x.push(G),z[G]=!0}}throw T.forEach(S),new R(m+": "+x.map(U).join([", "]))}function ve(m,T,x,z,S,G){var J=yn(T,x);m=Rt(m),S=me(z,S),In(m,function(){ee("Cannot call "+m+" due to unbound types",J)},T-1),Sr([],J,function(ie){var de=[ie[0],null].concat(ie.slice(1));return h(m,Cn(m,de,null,S,G),T-1),[]})}function He(m,T,x){switch(T){case 0:return x?function(S){return Be[S]}:function(S){return We[S]};case 1:return x?function(S){return sr[S>>1]}:function(S){return Je[S>>1]};case 2:return x?function(S){return tt[S>>2]}:function(S){return Bt[S>>2]};default:throw new TypeError("Unknown integer type: "+m)}}function Ke(m,T,x,z,S){T=Rt(T),S===-1&&(S=4294967295);var G=_t(x),J=function(De){return De};if(z===0){var ie=32-8*x;J=function(De){return De<<ie>>>ie}}var de=T.includes("unsigned");Dt(m,{name:T,fromWireType:J,toWireType:function(De,xe){if(typeof xe!="number"&&typeof xe!="boolean")throw new TypeError('Cannot convert "'+Gr(xe)+'" to '+this.name);if(xe<z||xe>S)throw new TypeError('Passing a number "'+Gr(xe)+'" from JS side to C/C++ side to an argument of type "'+T+'", which is outside the valid range ['+z+", "+S+"]!");return de?xe>>>0:xe|0},argPackAdvance:8,readValueFromPointer:He(T,G,z!==0),destructorFunction:null})}function ht(m,T,x){var z=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],S=z[T];function G(J){J=J>>2;var ie=Bt,de=ie[J],De=ie[J+1];return new S(dt,De,de)}x=Rt(x),Dt(m,{name:x,fromWireType:G,argPackAdvance:8,readValueFromPointer:G},{ignoreDuplicateRegistrations:!0})}function Xe(m,T){T=Rt(T);var x=T==="std::string";Dt(m,{name:T,fromWireType:function(z){var S=Bt[z>>2],G;if(x)for(var J=z+4,ie=0;ie<=S;++ie){var de=z+4+ie;if(ie==S||We[de]==0){var De=de-J,xe=$r(J,De);G===void 0?G=xe:(G+=String.fromCharCode(0),G+=xe),J=de+1}}else{for(var Re=new Array(S),ie=0;ie<S;++ie)Re[ie]=String.fromCharCode(We[z+4+ie]);G=Re.join("")}return N(z),G},toWireType:function(z,S){S instanceof ArrayBuffer&&(S=new Uint8Array(S));var G,J=typeof S=="string";J||S instanceof Uint8Array||S instanceof Uint8ClampedArray||S instanceof Int8Array||Wt("Cannot pass non-string to std::string"),x&&J?G=function(){return bn(S)}:G=function(){return S.length};var ie=G(),de=D(4+ie+1);if(Bt[de>>2]=ie,x&&J)hn(S,de+4,ie+1);else if(J)for(var De=0;De<ie;++De){var xe=S.charCodeAt(De);xe>255&&(N(de),Wt("String has UTF-16 code units that do not fit in 8 bits")),We[de+4+De]=xe}else for(var De=0;De<ie;++De)We[de+4+De]=S[De];return z!==null&&z.push(N,de),de},argPackAdvance:8,readValueFromPointer:Ur,destructorFunction:function(z){N(z)}})}function pt(m,T,x){x=Rt(x);var z,S,G,J,ie;T===2?(z=Bn,S=an,J=sn,G=function(){return Je},ie=1):T===4&&(z=un,S=Ft,J=Jt,G=function(){return Bt},ie=2),Dt(m,{name:x,fromWireType:function(de){for(var De=Bt[de>>2],xe=G(),Re,je=de+4,gt=0;gt<=De;++gt){var Y=de+4+gt*T;if(gt==De||xe[Y>>ie]==0){var C=Y-je,O=z(je,C);Re===void 0?Re=O:(Re+=String.fromCharCode(0),Re+=O),je=Y+T}}return N(de),Re},toWireType:function(de,De){typeof De!="string"&&Wt("Cannot pass non-string to C++ string type "+x);var xe=J(De),Re=D(4+xe+T);return Bt[Re>>2]=xe>>ie,S(De,Re+4,xe+T),de!==null&&de.push(N,Re),Re},argPackAdvance:8,readValueFromPointer:Ur,destructorFunction:function(de){N(de)}})}function Vt(m,T){T=Rt(T),Dt(m,{isVoid:!0,name:T,argPackAdvance:0,fromWireType:function(){},toWireType:function(x,z){}})}var br={};function Hr(m){var T=br[m];return T===void 0?Rt(m):T}function ur(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function fr(m){return m===0?er(ur()):(m=Hr(m),er(ur()[m]))}function tr(m){m>4&&(nt[m].refcount+=1)}function Vr(m,T){var x=nr[m];return x===void 0&&Wt(T+" has unknown type "+U(m)),x}function Tr(m){for(var T="",x=0;x<m;++x)T+=(x!==0?", ":"")+"arg"+x;for(var z="return function emval_allocator_"+m+`(constructor, argTypes, args) {
`,x=0;x<m;++x)z+="var argType"+x+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+x+'], "parameter '+x+`");
var arg`+x+" = argType"+x+`.readValueFromPointer(args);
args += argType`+x+`['argPackAdvance'];
`;return z+="var obj = new constructor("+T+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",z)(Vr,r,er)}var $t={};function mt(m){return m||Wt("Cannot use deleted val. handle = "+m),nt[m].value}function vt(m,T,x,z){m=mt(m);var S=$t[T];return S||(S=Tr(T),$t[T]=S),S(m,x,z)}function rr(){Ae()}function Er(m,T,x){We.copyWithin(m,T,T+x)}function oe(m){try{return Nt.grow(m-dt.byteLength+65535>>>16),qt(Nt.buffer),1}catch{}}function fe(m){var T=We.length;m=m>>>0;var x=2147483648;if(m>x)return!1;for(var z=1;z<=4;z*=2){var S=T*(1+.2/z);S=Math.min(S,m+100663296);var G=Math.min(x,Tt(Math.max(m,S),65536)),J=oe(G);if(J)return!0}return!1}var he={};function Ee(){return Ct||"./this.program"}function Pe(){if(!Pe.strings){var m=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",T={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:m,_:Ee()};for(var x in he)T[x]=he[x];var z=[];for(var x in T)z.push(x+"="+T[x]);Pe.strings=z}return Pe.strings}var Ye={mappings:{},buffers:[null,[],[]],printChar:function(m,T){var x=Ye.buffers[m];T===0||T===10?((m===1?ct:yt)(tn(x,0)),x.length=0):x.push(T)},varargs:void 0,get:function(){Ye.varargs+=4;var m=tt[Ye.varargs-4>>2];return m},getStr:function(m){var T=$r(m);return T},get64:function(m,T){return m}};function it(m,T){var x=0;return Pe().forEach(function(z,S){var G=T+x;tt[m+S*4>>2]=G,qe(z,G),x+=z.length+1}),0}function E(m,T){var x=Pe();tt[m>>2]=x.length;var z=0;return x.forEach(function(S){z+=S.length+1}),tt[T>>2]=z,0}function l(m){M(m)}function c(m){return 0}function A(m,T,x,z,S){}function a(m,T,x,z){for(var S=0,G=0;G<x;G++){for(var J=tt[T+G*8>>2],ie=tt[T+(G*8+4)>>2],de=0;de<ie;de++)Ye.printChar(m,We[J+de]);S+=ie}return tt[z>>2]=S,0}function f(m){}wt(),St=r.BindingError=Zt(Error,"BindingError"),Yt=r.InternalError=Zt(Error,"InternalError"),Dr(),R=r.UnboundTypeError=Zt(Error,"UnboundTypeError");var v={e:vr,q:gr,m:or,x:fn,l:nn,o:ve,b:Ke,a:ht,h:Xe,g:pt,n:Vt,c:dr,d:fr,i:tr,j:vt,k:rr,s:Er,f:fe,t:it,u:E,y:l,w:c,p:A,v:a,r:f};Qr(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.A).apply(null,arguments)};var D=r._malloc=function(){return(D=r._malloc=r.asm.B).apply(null,arguments)},N=r._free=function(){return(N=r._free=r.asm.C).apply(null,arguments)},y=r.___getTypeName=function(){return(y=r.___getTypeName=r.asm.D).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.E).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.G).apply(null,arguments)};var w;function k(m){this.name="ExitStatus",this.message="Program terminated with exit("+m+")",this.status=m}j=function m(){w||te(),w||(j=m)};function te(m){if(Se>0||(Lr(),Se>0))return;function T(){w||(w=!0,r.calledRun=!0,!Jr&&(qr(),Fe(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),kt()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),T()},1)):T()}r.run=te;function M(m,T){T&&Or()&&m===0||(Or()||(r.onExit&&r.onExit(m),Jr=!0),at(m,new k(m)))}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return te(),r.ready}}(),I=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/mozjpeg_node_dec-4fa549e7.wasm").href:new URL("mozjpeg_node_dec-4fa549e7.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,L=function(){return function(r){r=r||{};var r=typeof r<"u"?r:{},Fe,Ne;r.ready=new Promise(function(E,l){Fe=E,Ne=l});var Oe={},Ce;for(Ce in r)r.hasOwnProperty(Ce)&&(Oe[Ce]=r[Ce]);var Ct=!1,at="";function At(E){return r.locateFile?r.locateFile(E,at):at+E}var It,Lt,Kt,Ht;at=__dirname+"/",It=function(l,c){return Kt||(Kt=Zr),Ht||(Ht=Zr),l=Ht.normalize(l),Kt.readFileSync(l,c?null:"utf8")},Lt=function(l){var c=It(l,!0);return c.buffer||(c=new Uint8Array(c)),Ar(c.buffer),c},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),r.inspect=function(){return"[Emscripten Module object]"},r.print||console.log.bind(console);var Ot=r.printErr||console.warn.bind(console);for(Ce in Oe)Oe.hasOwnProperty(Ce)&&(r[Ce]=Oe[Ce]);Oe=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var ft;r.wasmBinary&&(ft=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&zr("no native wasm support detected");var ct,yt=!1;function Ar(E,l){E||zr("Assertion failed: "+l)}var Mr=new TextDecoder("utf8");function Nt(E,l){if(!E)return"";for(var c=E+l,A=E;!(A>=c)&&Ft[A];)++A;return Mr.decode(Ft.subarray(E,A))}function Jr(E,l,c,A){if(!(A>0))return 0;for(var a=c,f=c+A-1,v=0;v<E.length;++v){var D=E.charCodeAt(v);if(D>=55296&&D<=57343){var N=E.charCodeAt(++v);D=65536+((D&1023)<<10)|N&1023}if(D<=127){if(c>=f)break;l[c++]=D}else if(D<=2047){if(c+1>=f)break;l[c++]=192|D>>6,l[c++]=128|D&63}else if(D<=65535){if(c+2>=f)break;l[c++]=224|D>>12,l[c++]=128|D>>6&63,l[c++]=128|D&63}else{if(c+3>=f)break;l[c++]=240|D>>18,l[c++]=128|D>>12&63,l[c++]=128|D>>6&63,l[c++]=128|D&63}}return l[c]=0,c-a}function Fr(E,l,c){return Jr(E,Ft,l,c)}function jr(E){for(var l=0,c=0;c<E.length;++c){var A=E.charCodeAt(c);A>=55296&&A<=57343&&(A=65536+((A&1023)<<10)|E.charCodeAt(++c)&1023),A<=127?++l:A<=2047?l+=2:A<=65535?l+=3:l+=4}return l}var tn=new TextDecoder("utf-16le");function $r(E,l){for(var c=E,A=c>>1,a=A+l/2;!(A>=a)&&qe[A];)++A;return c=A<<1,tn.decode(Ft.subarray(E,c))}function vn(E,l,c){if(c===void 0&&(c=2147483647),c<2)return 0;c-=2;for(var A=l,a=c<E.length*2?c/2:E.length,f=0;f<a;++f){var v=E.charCodeAt(f);Jt[l>>1]=v,l+=2}return Jt[l>>1]=0,l-A}function hn(E){return E.length*2}function bn(E,l){for(var c=0,A="";!(c>=l/4);){var a=Tt[E+c*4>>2];if(a==0)break;if(++c,a>=65536){var f=a-65536;A+=String.fromCharCode(55296|f>>10,56320|f&1023)}else A+=String.fromCharCode(a)}return A}function En(E,l,c){if(c===void 0&&(c=2147483647),c<4)return 0;for(var A=l,a=A+c-4,f=0;f<E.length;++f){var v=E.charCodeAt(f);if(v>=55296&&v<=57343){var D=E.charCodeAt(++f);v=65536+((v&1023)<<10)|D&1023}if(Tt[l>>2]=v,l+=4,l+4>a)break}return Tt[l>>2]=0,l-A}function Bn(E){for(var l=0,c=0;c<E.length;++c){var A=E.charCodeAt(c);A>=55296&&A<=57343&&++c,l+=4}return l}function an(E,l){return E%l>0&&(E+=l-E%l),E}var sn,un,Ft,Jt,qe,Tt,dt,Be,We;function sr(E){sn=E,r.HEAP8=un=new Int8Array(E),r.HEAP16=Jt=new Int16Array(E),r.HEAP32=Tt=new Int32Array(E),r.HEAPU8=Ft=new Uint8Array(E),r.HEAPU16=qe=new Uint16Array(E),r.HEAPU32=dt=new Uint32Array(E),r.HEAPF32=Be=new Float32Array(E),r.HEAPF64=We=new Float64Array(E)}r.INITIAL_MEMORY;var Je,tt=[],Bt=[],kr=[];function Wr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)rn(r.preRun.shift());Ie(tt)}function qt(){Ie(Bt)}function Nr(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)gn(r.postRun.shift());Ie(kr)}function rn(E){tt.unshift(E)}function cn(E){Bt.unshift(E)}function gn(E){kr.unshift(E)}var Lr=0,qr=null;function kt(E){Lr++,r.monitorRunDependencies&&r.monitorRunDependencies(Lr)}function mr(E){if(Lr--,r.monitorRunDependencies&&r.monitorRunDependencies(Lr),Lr==0&&qr){var l=qr;qr=null,l()}}r.preloadedImages={},r.preloadedAudios={};function zr(E){r.onAbort&&r.onAbort(E),E+="",Ot(E),yt=!0,E="abort("+E+"). Build with -s ASSERTIONS=1 for more info.";var l=new WebAssembly.RuntimeError(E);throw Ne(l),l}var cr="data:application/octet-stream;base64,";function Se(E){return E.startsWith(cr)}if(r.locateFile){var j="webp_node_enc.wasm";Se(j)||(j=At(j))}else var j=new URL("webp_node_enc.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href).toString();function $(E){try{if(E==j&&ft)return new Uint8Array(ft);if(Lt)return Lt(E);throw"both async and sync fetching of the wasm failed"}catch(l){zr(l)}}function ae(){return!ft&&Ct&&typeof fetch=="function"?fetch(j,{credentials:"same-origin"}).then(function(E){if(!E.ok)throw"failed to load wasm binary file at '"+j+"'";return E.arrayBuffer()}).catch(function(){return $(j)}):Promise.resolve().then(function(){return $(j)})}function Ae(){var E={a:fe};function l(v,D){var N=v.exports;r.asm=N,ct=r.asm.x,sr(ct.buffer),Je=r.asm.D,cn(r.asm.y),mr()}kt();function c(v){l(v.instance)}function A(v){return ae().then(function(D){var N=WebAssembly.instantiate(D,E);return N}).then(v,function(D){Ot("failed to asynchronously prepare wasm: "+D),zr(D)})}function a(){return!ft&&typeof WebAssembly.instantiateStreaming=="function"&&!Se(j)&&typeof fetch=="function"?fetch(j,{credentials:"same-origin"}).then(function(v){var D=WebAssembly.instantiateStreaming(v,E);return D.then(c,function(N){return Ot("wasm streaming compile failed: "+N),Ot("falling back to ArrayBuffer instantiation"),A(c)})}):A(c)}if(r.instantiateWasm)try{var f=r.instantiateWasm(E,l);return f}catch(v){return Ot("Module.instantiateWasm callback failed with error: "+v),!1}return a().catch(Ne),{}}function Ie(E){for(;E.length>0;){var l=E.shift();if(typeof l=="function"){l(r);continue}var c=l.func;typeof c=="number"?l.arg===void 0?Je.get(c)():Je.get(c)(l.arg):c(l.arg===void 0?null:l.arg)}}function Le(E,l){}function Ut(E,l){return void 0}var yr={};function Qt(E){for(;E.length;){var l=E.pop(),c=E.pop();c(l)}}function Qr(E){return this.fromWireType(dt[E>>2])}var hr={},Rr={},Or={},wr=48,vr=57;function gr(E){if(E===void 0)return"_unknown";E=E.replace(/[^a-zA-Z0-9_]/g,"$");var l=E.charCodeAt(0);return l>=wr&&l<=vr?"_"+E:E}function _t(E,l){return E=gr(E),new Function("body","return function "+E+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(l)}function wt(E,l){var c=_t(l,function(A){this.name=l,this.message=A;var a=new Error(A).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return c.prototype=Object.create(E.prototype),c.prototype.constructor=c,c.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},c}var zt=void 0;function Rt(E){throw new zt(E)}function rt(E,l,c){E.forEach(function(D){Or[D]=l});function A(D){var N=c(D);N.length!==E.length&&Rt("Mismatched type converter count");for(var y=0;y<E.length;++y)Wt(E[y],N[y])}var a=new Array(l.length),f=[],v=0;l.forEach(function(D,N){Rr.hasOwnProperty(D)?a[N]=Rr[D]:(f.push(D),hr.hasOwnProperty(D)||(hr[D]=[]),hr[D].push(function(){a[N]=Rr[D],++v,v===f.length&&A(a)}))}),f.length===0&&A(a)}function nr(E){var l=yr[E];delete yr[E];var c=l.rawConstructor,A=l.rawDestructor,a=l.fields,f=a.map(function(v){return v.getterReturnType}).concat(a.map(function(v){return v.setterArgumentType}));rt([E],f,function(v){var D={};return a.forEach(function(N,y){var w=N.fieldName,k=v[y],te=N.getter,M=N.getterContext,m=v[y+a.length],T=N.setter,x=N.setterContext;D[w]={read:function(z){return k.fromWireType(te(M,z))},write:function(z,S){var G=[];T(x,z,m.toWireType(G,S)),Qt(G)}}}),[{name:l.name,fromWireType:function(N){var y={};for(var w in D)y[w]=D[w].read(N);return A(N),y},toWireType:function(N,y){for(var w in D)if(!(w in y))throw new TypeError('Missing field:  "'+w+'"');var k=c();for(w in D)D[w].write(k,y[w]);return N!==null&&N.push(A,k),k},argPackAdvance:8,readValueFromPointer:Qr,destructorFunction:A}]})}function Cr(E,l,c,A,a){}function Gt(E){switch(E){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+E)}}function ir(){for(var E=new Array(256),l=0;l<256;++l)E[l]=String.fromCharCode(l);lr=E}var lr=void 0;function Qe(E){for(var l="",c=E;Ft[c];)l+=lr[Ft[c++]];return l}var Zt=void 0;function St(E){throw new Zt(E)}function Wt(E,l,c){if(c=c||{},!("argPackAdvance"in l))throw new TypeError("registerType registeredInstance requires argPackAdvance");var A=l.name;if(E||St('type "'+A+'" must have a positive integer typeid pointer'),Rr.hasOwnProperty(E)){if(c.ignoreDuplicateRegistrations)return;St("Cannot register type '"+A+"' twice")}if(Rr[E]=l,delete Or[E],hr.hasOwnProperty(E)){var a=hr[E];delete hr[E],a.forEach(function(f){f()})}}function Yt(E,l,c,A,a){var f=Gt(c);l=Qe(l),Wt(E,{name:l,fromWireType:function(v){return!!v},toWireType:function(v,D){return D?A:a},argPackAdvance:8,readValueFromPointer:function(v){var D;if(c===1)D=un;else if(c===2)D=Jt;else if(c===4)D=Tt;else throw new TypeError("Unknown boolean type size: "+l);return this.fromWireType(D[v>>f])},destructorFunction:null})}var pr=[],Sr=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Dt(E){E>4&&--Sr[E].refcount===0&&(Sr[E]=void 0,pr.push(E))}function or(){for(var E=0,l=5;l<Sr.length;++l)Sr[l]!==void 0&&++E;return E}function Xt(){for(var E=5;E<Sr.length;++E)if(Sr[E]!==void 0)return Sr[E];return null}function nt(){r.count_emval_handles=or,r.get_first_emval=Xt}function dr(E){switch(E){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var l=pr.length?pr.pop():Sr.length;return Sr[l]={refcount:1,value:E},l}}}function xr(E,l){l=Qe(l),Wt(E,{name:l,fromWireType:function(c){var A=Sr[c].value;return Dt(c),A},toWireType:function(c,A){return dr(A)},argPackAdvance:8,readValueFromPointer:Qr,destructorFunction:null})}function Mt(E,l,c){if(E[l].overloadTable===void 0){var A=E[l];E[l]=function(){return E[l].overloadTable.hasOwnProperty(arguments.length)||St("Function '"+c+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+E[l].overloadTable+")!"),E[l].overloadTable[arguments.length].apply(this,arguments)},E[l].overloadTable=[],E[l].overloadTable[A.argCount]=A}}function Dr(E,l,c){r.hasOwnProperty(E)?((c===void 0||r[E].overloadTable!==void 0&&r[E].overloadTable[c]!==void 0)&&St("Cannot register public name '"+E+"' twice"),Mt(r,E,E),r.hasOwnProperty(c)&&St("Cannot register multiple overloads of a function with the same number of arguments ("+c+")!"),r[E].overloadTable[c]=l):(r[E]=l,c!==void 0&&(r[E].numArguments=c))}function er(E,l,c){switch(l){case 0:return function(A){var a=c?un:Ft;return this.fromWireType(a[A])};case 1:return function(A){var a=c?Jt:qe;return this.fromWireType(a[A>>1])};case 2:return function(A){var a=c?Tt:dt;return this.fromWireType(a[A>>2])};default:throw new TypeError("Unknown integer type: "+E)}}function Ur(E,l,c,A){var a=Gt(c);l=Qe(l);function f(){}f.values={},Wt(E,{name:l,constructor:f,fromWireType:function(v){return this.constructor.values[v]},toWireType:function(v,D){return D.value},argPackAdvance:8,readValueFromPointer:er(l,a,A),destructorFunction:null}),Dr(l,f)}function fn(E){var l=Pe(E),c=Qe(l);return Ee(l),c}function Gr(E,l){var c=Rr[E];return c===void 0&&St(l+" has unknown type "+fn(E)),c}function Pr(E,l,c){var A=Gr(E,"enum");l=Qe(l);var a=A.constructor,f=Object.create(A.constructor.prototype,{value:{value:c},constructor:{value:_t(A.name+"_"+l,function(){})}});a.values[c]=f,a[l]=f}function nn(E){if(E===null)return"null";var l=typeof E;return l==="object"||l==="array"||l==="function"?E.toString():""+E}function Dn(E,l){switch(l){case 2:return function(c){return this.fromWireType(Be[c>>2])};case 3:return function(c){return this.fromWireType(We[c>>3])};default:throw new TypeError("Unknown float type: "+E)}}function on(E,l,c){var A=Gt(c);l=Qe(l),Wt(E,{name:l,fromWireType:function(a){return a},toWireType:function(a,f){if(typeof f!="number"&&typeof f!="boolean")throw new TypeError('Cannot convert "'+nn(f)+'" to '+this.name);return f},argPackAdvance:8,readValueFromPointer:Dn(l,A),destructorFunction:null})}function Cn(E,l){if(!(E instanceof Function))throw new TypeError("new_ called with constructor type "+typeof E+" which is not a function");var c=_t(E.name||"unknownFunctionName",function(){});c.prototype=E.prototype;var A=new c,a=E.apply(A,l);return a instanceof Object?a:A}function An(E,l,c,A,a){var f=l.length;f<2&&St("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var v=l[1]!==null&&c!==null,D=!1,N=1;N<l.length;++N)if(l[N]!==null&&l[N].destructorFunction===void 0){D=!0;break}for(var y=l[0].name!=="void",w="",k="",N=0;N<f-2;++N)w+=(N!==0?", ":"")+"arg"+N,k+=(N!==0?", ":"")+"arg"+N+"Wired";var te="return function "+gr(E)+"("+w+`) {
if (arguments.length !== `+(f-2)+`) {
throwBindingError('function `+E+" called with ' + arguments.length + ' arguments, expected "+(f-2)+` args!');
}
`;D&&(te+=`var destructors = [];
`);var M=D?"destructors":"null",m=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],T=[St,A,a,Qt,l[0],l[1]];v&&(te+="var thisWired = classParam.toWireType("+M+`, this);
`);for(var N=0;N<f-2;++N)te+="var arg"+N+"Wired = argType"+N+".toWireType("+M+", arg"+N+"); // "+l[N+2].name+`
`,m.push("argType"+N),T.push(l[N+2]);if(v&&(k="thisWired"+(k.length>0?", ":"")+k),te+=(y?"var rv = ":"")+"invoker(fn"+(k.length>0?", ":"")+k+`);
`,D)te+=`runDestructors(destructors);
`;else for(var N=v?1:2;N<l.length;++N){var x=N===1?"thisWired":"arg"+(N-2)+"Wired";l[N].destructorFunction!==null&&(te+=x+"_dtor("+x+"); // "+l[N].name+`
`,m.push(x+"_dtor"),T.push(l[N].destructorFunction))}y&&(te+=`var ret = retType.fromWireType(rv);
return ret;
`),te+=`}
`,m.push(te);var z=Cn(Function,m).apply(null,T);return z}function In(E,l){for(var c=[],A=0;A<E;A++)c.push(Tt[(l>>2)+A]);return c}function yn(E,l,c){r.hasOwnProperty(E)||Rt("Replacing nonexistant public symbol"),r[E].overloadTable!==void 0&&c!==void 0?r[E].overloadTable[c]=l:(r[E]=l,r[E].argCount=c)}function h(E,l,c){var A=r["dynCall_"+E];return c&&c.length?A.apply(null,[l].concat(c)):A.call(null,l)}function P(E,l,c){return E.includes("j")?h(E,l,c):Je.get(l).apply(null,c)}function Q(E,l){var c=[];return function(){c.length=arguments.length;for(var A=0;A<arguments.length;A++)c[A]=arguments[A];return P(E,l,c)}}function pe(E,l){E=Qe(E);function c(){return E.includes("j")?Q(E,l):Je.get(l)}var A=c();return typeof A!="function"&&St("unknown function pointer with signature "+E+": "+l),A}var me=void 0;function R(E,l){var c=[],A={};function a(f){if(!A[f]&&!Rr[f]){if(Or[f]){Or[f].forEach(a);return}c.push(f),A[f]=!0}}throw l.forEach(a),new me(E+": "+c.map(fn).join([", "]))}function U(E,l,c,A,a,f){var v=In(l,c);E=Qe(E),a=pe(A,a),Dr(E,function(){R("Cannot call "+E+" due to unbound types",v)},l-1),rt([],v,function(D){var N=[D[0],null].concat(D.slice(1));return yn(E,An(E,N,null,a,f),l-1),[]})}function ee(E,l,c){switch(l){case 0:return c?function(a){return un[a]}:function(a){return Ft[a]};case 1:return c?function(a){return Jt[a>>1]}:function(a){return qe[a>>1]};case 2:return c?function(a){return Tt[a>>2]}:function(a){return dt[a>>2]};default:throw new TypeError("Unknown integer type: "+E)}}function ve(E,l,c,A,a){l=Qe(l),a===-1&&(a=4294967295);var f=Gt(c),v=function(y){return y};if(A===0){var D=32-8*c;v=function(y){return y<<D>>>D}}var N=l.includes("unsigned");Wt(E,{name:l,fromWireType:v,toWireType:function(y,w){if(typeof w!="number"&&typeof w!="boolean")throw new TypeError('Cannot convert "'+nn(w)+'" to '+this.name);if(w<A||w>a)throw new TypeError('Passing a number "'+nn(w)+'" from JS side to C/C++ side to an argument of type "'+l+'", which is outside the valid range ['+A+", "+a+"]!");return N?w>>>0:w|0},argPackAdvance:8,readValueFromPointer:ee(l,f,A!==0),destructorFunction:null})}function He(E,l,c){var A=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=A[l];function f(v){v=v>>2;var D=dt,N=D[v],y=D[v+1];return new a(sn,y,N)}c=Qe(c),Wt(E,{name:c,fromWireType:f,argPackAdvance:8,readValueFromPointer:f},{ignoreDuplicateRegistrations:!0})}function Ke(E,l){l=Qe(l);var c=l==="std::string";Wt(E,{name:l,fromWireType:function(A){var a=dt[A>>2],f;if(c)for(var v=A+4,D=0;D<=a;++D){var N=A+4+D;if(D==a||Ft[N]==0){var y=N-v,w=Nt(v,y);f===void 0?f=w:(f+=String.fromCharCode(0),f+=w),v=N+1}}else{for(var k=new Array(a),D=0;D<a;++D)k[D]=String.fromCharCode(Ft[A+4+D]);f=k.join("")}return Ee(A),f},toWireType:function(A,a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));var f,v=typeof a=="string";v||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int8Array||St("Cannot pass non-string to std::string"),c&&v?f=function(){return jr(a)}:f=function(){return a.length};var D=f(),N=he(4+D+1);if(dt[N>>2]=D,c&&v)Fr(a,N+4,D+1);else if(v)for(var y=0;y<D;++y){var w=a.charCodeAt(y);w>255&&(Ee(N),St("String has UTF-16 code units that do not fit in 8 bits")),Ft[N+4+y]=w}else for(var y=0;y<D;++y)Ft[N+4+y]=a[y];return A!==null&&A.push(Ee,N),N},argPackAdvance:8,readValueFromPointer:Qr,destructorFunction:function(A){Ee(A)}})}function ht(E,l,c){c=Qe(c);var A,a,f,v,D;l===2?(A=$r,a=vn,v=hn,f=function(){return qe},D=1):l===4&&(A=bn,a=En,v=Bn,f=function(){return dt},D=2),Wt(E,{name:c,fromWireType:function(N){for(var y=dt[N>>2],w=f(),k,te=N+4,M=0;M<=y;++M){var m=N+4+M*l;if(M==y||w[m>>D]==0){var T=m-te,x=A(te,T);k===void 0?k=x:(k+=String.fromCharCode(0),k+=x),te=m+l}}return Ee(N),k},toWireType:function(N,y){typeof y!="string"&&St("Cannot pass non-string to C++ string type "+c);var w=v(y),k=he(4+w+l);return dt[k>>2]=w>>D,a(y,k+4,w+l),N!==null&&N.push(Ee,k),k},argPackAdvance:8,readValueFromPointer:Qr,destructorFunction:function(N){Ee(N)}})}function Xe(E,l,c,A,a,f){yr[E]={name:Qe(l),rawConstructor:pe(c,A),rawDestructor:pe(a,f),fields:[]}}function pt(E,l,c,A,a,f,v,D,N,y){yr[E].fields.push({fieldName:Qe(l),getterReturnType:c,getter:pe(A,a),getterContext:f,setterArgumentType:v,setter:pe(D,N),setterContext:y})}function Vt(E,l){l=Qe(l),Wt(E,{isVoid:!0,name:l,argPackAdvance:0,fromWireType:function(){},toWireType:function(c,A){}})}var br={};function Hr(E){var l=br[E];return l===void 0?Qe(E):l}function ur(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function fr(E){return E===0?dr(ur()):(E=Hr(E),dr(ur()[E]))}function tr(E){E>4&&(Sr[E].refcount+=1)}function Vr(E){for(var l="",c=0;c<E;++c)l+=(c!==0?", ":"")+"arg"+c;for(var A="return function emval_allocator_"+E+`(constructor, argTypes, args) {
`,c=0;c<E;++c)A+="var argType"+c+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+c+'], "parameter '+c+`");
var arg`+c+" = argType"+c+`.readValueFromPointer(args);
args += argType`+c+`['argPackAdvance'];
`;return A+="var obj = new constructor("+l+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",A)(Gr,r,dr)}var Tr={};function $t(E){return E||St("Cannot use deleted val. handle = "+E),Sr[E].value}function mt(E,l,c,A){E=$t(E);var a=Tr[l];return a||(a=Vr(l),Tr[l]=a),a(E,c,A)}function vt(){zr()}function rr(E,l,c){Ft.copyWithin(E,l,l+c)}function Er(E){try{return ct.grow(E-sn.byteLength+65535>>>16),sr(ct.buffer),1}catch{}}function oe(E){var l=Ft.length;E=E>>>0;var c=2147483648;if(E>c)return!1;for(var A=1;A<=4;A*=2){var a=l*(1+.2/A);a=Math.min(a,E+100663296);var f=Math.min(c,an(Math.max(E,a),65536)),v=Er(f);if(v)return!0}return!1}zt=r.InternalError=wt(Error,"InternalError"),ir(),Zt=r.BindingError=wt(Error,"BindingError"),nt(),me=r.UnboundTypeError=wt(Error,"UnboundTypeError");var fe={w:Ut,l:nr,p:Cr,s:Yt,r:xr,n:Ur,d:Pr,j:on,h:U,c:ve,b:He,k:Ke,g:ht,m:Xe,a:pt,t:Vt,f:Dt,v:fr,u:tr,o:mt,i:vt,q:rr,e:oe};Ae(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.y).apply(null,arguments)};var he=r._malloc=function(){return(he=r._malloc=r.asm.z).apply(null,arguments)},Ee=r._free=function(){return(Ee=r._free=r.asm.A).apply(null,arguments)},Pe=r.___getTypeName=function(){return(Pe=r.___getTypeName=r.asm.B).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.C).apply(null,arguments)};var Ye;qr=function E(){Ye||it(),Ye||(qr=E)};function it(E){if(Lr>0||(Wr(),Lr>0))return;function l(){Ye||(Ye=!0,r.calledRun=!0,!yt&&(qt(),Fe(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),Nr()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),l()},1)):l()}if(r.run=it,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return it(),r.ready}}(),W=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/webp_node_enc-21e7a82d.wasm").href:new URL("webp_node_enc-21e7a82d.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,le=function(){return function(r){r=r||{};var r=typeof r<"u"?r:{},Fe,Ne;r.ready=new Promise(function(oe,fe){Fe=oe,Ne=fe});var Oe={},Ce;for(Ce in r)r.hasOwnProperty(Ce)&&(Oe[Ce]=r[Ce]);var Ct=!1,at="";function At(oe){return r.locateFile?r.locateFile(oe,at):at+oe}var It,Lt,Kt,Ht;at=__dirname+"/",It=function(fe,he){return Kt||(Kt=Zr),Ht||(Ht=Zr),fe=Ht.normalize(fe),Kt.readFileSync(fe,he?null:"utf8")},Lt=function(fe){var he=It(fe,!0);return he.buffer||(he=new Uint8Array(he)),Ar(he.buffer),he},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),r.inspect=function(){return"[Emscripten Module object]"},r.print||console.log.bind(console);var Ot=r.printErr||console.warn.bind(console);for(Ce in Oe)Oe.hasOwnProperty(Ce)&&(r[Ce]=Oe[Ce]);Oe=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var ft;r.wasmBinary&&(ft=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&zr("no native wasm support detected");var ct,yt=!1;function Ar(oe,fe){oe||zr("Assertion failed: "+fe)}var Mr=new TextDecoder("utf8");function Nt(oe,fe){if(!oe)return"";for(var he=oe+fe,Ee=oe;!(Ee>=he)&&Ft[Ee];)++Ee;return Mr.decode(Ft.subarray(oe,Ee))}function Jr(oe,fe,he,Ee){if(!(Ee>0))return 0;for(var Pe=he,Ye=he+Ee-1,it=0;it<oe.length;++it){var E=oe.charCodeAt(it);if(E>=55296&&E<=57343){var l=oe.charCodeAt(++it);E=65536+((E&1023)<<10)|l&1023}if(E<=127){if(he>=Ye)break;fe[he++]=E}else if(E<=2047){if(he+1>=Ye)break;fe[he++]=192|E>>6,fe[he++]=128|E&63}else if(E<=65535){if(he+2>=Ye)break;fe[he++]=224|E>>12,fe[he++]=128|E>>6&63,fe[he++]=128|E&63}else{if(he+3>=Ye)break;fe[he++]=240|E>>18,fe[he++]=128|E>>12&63,fe[he++]=128|E>>6&63,fe[he++]=128|E&63}}return fe[he]=0,he-Pe}function Fr(oe,fe,he){return Jr(oe,Ft,fe,he)}function jr(oe){for(var fe=0,he=0;he<oe.length;++he){var Ee=oe.charCodeAt(he);Ee>=55296&&Ee<=57343&&(Ee=65536+((Ee&1023)<<10)|oe.charCodeAt(++he)&1023),Ee<=127?++fe:Ee<=2047?fe+=2:Ee<=65535?fe+=3:fe+=4}return fe}var tn=new TextDecoder("utf-16le");function $r(oe,fe){for(var he=oe,Ee=he>>1,Pe=Ee+fe/2;!(Ee>=Pe)&&qe[Ee];)++Ee;return he=Ee<<1,tn.decode(Ft.subarray(oe,he))}function vn(oe,fe,he){if(he===void 0&&(he=2147483647),he<2)return 0;he-=2;for(var Ee=fe,Pe=he<oe.length*2?he/2:oe.length,Ye=0;Ye<Pe;++Ye){var it=oe.charCodeAt(Ye);Jt[fe>>1]=it,fe+=2}return Jt[fe>>1]=0,fe-Ee}function hn(oe){return oe.length*2}function bn(oe,fe){for(var he=0,Ee="";!(he>=fe/4);){var Pe=Tt[oe+he*4>>2];if(Pe==0)break;if(++he,Pe>=65536){var Ye=Pe-65536;Ee+=String.fromCharCode(55296|Ye>>10,56320|Ye&1023)}else Ee+=String.fromCharCode(Pe)}return Ee}function En(oe,fe,he){if(he===void 0&&(he=2147483647),he<4)return 0;for(var Ee=fe,Pe=Ee+he-4,Ye=0;Ye<oe.length;++Ye){var it=oe.charCodeAt(Ye);if(it>=55296&&it<=57343){var E=oe.charCodeAt(++Ye);it=65536+((it&1023)<<10)|E&1023}if(Tt[fe>>2]=it,fe+=4,fe+4>Pe)break}return Tt[fe>>2]=0,fe-Ee}function Bn(oe){for(var fe=0,he=0;he<oe.length;++he){var Ee=oe.charCodeAt(he);Ee>=55296&&Ee<=57343&&++he,fe+=4}return fe}function an(oe,fe){return oe%fe>0&&(oe+=fe-oe%fe),oe}var sn,un,Ft,Jt,qe,Tt,dt,Be,We;function sr(oe){sn=oe,r.HEAP8=un=new Int8Array(oe),r.HEAP16=Jt=new Int16Array(oe),r.HEAP32=Tt=new Int32Array(oe),r.HEAPU8=Ft=new Uint8Array(oe),r.HEAPU16=qe=new Uint16Array(oe),r.HEAPU32=dt=new Uint32Array(oe),r.HEAPF32=Be=new Float32Array(oe),r.HEAPF64=We=new Float64Array(oe)}r.INITIAL_MEMORY;var Je,tt=[],Bt=[],kr=[];function Wr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)rn(r.preRun.shift());Ie(tt)}function qt(){Ie(Bt)}function Nr(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)gn(r.postRun.shift());Ie(kr)}function rn(oe){tt.unshift(oe)}function cn(oe){Bt.unshift(oe)}function gn(oe){kr.unshift(oe)}var Lr=0,qr=null;function kt(oe){Lr++,r.monitorRunDependencies&&r.monitorRunDependencies(Lr)}function mr(oe){if(Lr--,r.monitorRunDependencies&&r.monitorRunDependencies(Lr),Lr==0&&qr){var fe=qr;qr=null,fe()}}r.preloadedImages={},r.preloadedAudios={};function zr(oe){r.onAbort&&r.onAbort(oe),oe+="",Ot(oe),yt=!0,oe="abort("+oe+"). Build with -s ASSERTIONS=1 for more info.";var fe=new WebAssembly.RuntimeError(oe);throw Ne(fe),fe}var cr="data:application/octet-stream;base64,";function Se(oe){return oe.startsWith(cr)}if(r.locateFile){var j="webp_node_dec.wasm";Se(j)||(j=At(j))}else var j=new URL("webp_node_dec.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href).toString();function $(oe){try{if(oe==j&&ft)return new Uint8Array(ft);if(Lt)return Lt(oe);throw"both async and sync fetching of the wasm failed"}catch(fe){zr(fe)}}function ae(){return!ft&&Ct&&typeof fetch=="function"?fetch(j,{credentials:"same-origin"}).then(function(oe){if(!oe.ok)throw"failed to load wasm binary file at '"+j+"'";return oe.arrayBuffer()}).catch(function(){return $(j)}):Promise.resolve().then(function(){return $(j)})}function Ae(){var oe={a:Tr};function fe(it,E){var l=it.exports;r.asm=l,ct=r.asm.s,sr(ct.buffer),Je=r.asm.y,cn(r.asm.t),mr()}kt();function he(it){fe(it.instance)}function Ee(it){return ae().then(function(E){var l=WebAssembly.instantiate(E,oe);return l}).then(it,function(E){Ot("failed to asynchronously prepare wasm: "+E),zr(E)})}function Pe(){return!ft&&typeof WebAssembly.instantiateStreaming=="function"&&!Se(j)&&typeof fetch=="function"?fetch(j,{credentials:"same-origin"}).then(function(it){var E=WebAssembly.instantiateStreaming(it,oe);return E.then(he,function(l){return Ot("wasm streaming compile failed: "+l),Ot("falling back to ArrayBuffer instantiation"),Ee(he)})}):Ee(he)}if(r.instantiateWasm)try{var Ye=r.instantiateWasm(oe,fe);return Ye}catch(it){return Ot("Module.instantiateWasm callback failed with error: "+it),!1}return Pe().catch(Ne),{}}function Ie(oe){for(;oe.length>0;){var fe=oe.shift();if(typeof fe=="function"){fe(r);continue}var he=fe.func;typeof he=="number"?fe.arg===void 0?Je.get(he)():Je.get(he)(fe.arg):he(fe.arg===void 0?null:fe.arg)}}function Le(oe,fe){}function Ut(oe,fe){return void 0}function yr(oe,fe,he,Ee,Pe){}function Qt(oe){switch(oe){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+oe)}}function Qr(){for(var oe=new Array(256),fe=0;fe<256;++fe)oe[fe]=String.fromCharCode(fe);hr=oe}var hr=void 0;function Rr(oe){for(var fe="",he=oe;Ft[he];)fe+=hr[Ft[he++]];return fe}var Or={},wr={},vr={},gr=48,_t=57;function wt(oe){if(oe===void 0)return"_unknown";oe=oe.replace(/[^a-zA-Z0-9_]/g,"$");var fe=oe.charCodeAt(0);return fe>=gr&&fe<=_t?"_"+oe:oe}function zt(oe,fe){return oe=wt(oe),new Function("body","return function "+oe+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(fe)}function Rt(oe,fe){var he=zt(fe,function(Ee){this.name=fe,this.message=Ee;var Pe=new Error(Ee).stack;Pe!==void 0&&(this.stack=this.toString()+`
`+Pe.replace(/^Error(:[^\n]*)?\n/,""))});return he.prototype=Object.create(oe.prototype),he.prototype.constructor=he,he.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},he}var rt=void 0;function nr(oe){throw new rt(oe)}var Cr=void 0;function Gt(oe){throw new Cr(oe)}function ir(oe,fe,he){oe.forEach(function(E){vr[E]=fe});function Ee(E){var l=he(E);l.length!==oe.length&&Gt("Mismatched type converter count");for(var c=0;c<oe.length;++c)lr(oe[c],l[c])}var Pe=new Array(fe.length),Ye=[],it=0;fe.forEach(function(E,l){wr.hasOwnProperty(E)?Pe[l]=wr[E]:(Ye.push(E),Or.hasOwnProperty(E)||(Or[E]=[]),Or[E].push(function(){Pe[l]=wr[E],++it,it===Ye.length&&Ee(Pe)}))}),Ye.length===0&&Ee(Pe)}function lr(oe,fe,he){if(he=he||{},!("argPackAdvance"in fe))throw new TypeError("registerType registeredInstance requires argPackAdvance");var Ee=fe.name;if(oe||nr('type "'+Ee+'" must have a positive integer typeid pointer'),wr.hasOwnProperty(oe)){if(he.ignoreDuplicateRegistrations)return;nr("Cannot register type '"+Ee+"' twice")}if(wr[oe]=fe,delete vr[oe],Or.hasOwnProperty(oe)){var Pe=Or[oe];delete Or[oe],Pe.forEach(function(Ye){Ye()})}}function Qe(oe,fe,he,Ee,Pe){var Ye=Qt(he);fe=Rr(fe),lr(oe,{name:fe,fromWireType:function(it){return!!it},toWireType:function(it,E){return E?Ee:Pe},argPackAdvance:8,readValueFromPointer:function(it){var E;if(he===1)E=un;else if(he===2)E=Jt;else if(he===4)E=Tt;else throw new TypeError("Unknown boolean type size: "+fe);return this.fromWireType(E[it>>Ye])},destructorFunction:null})}var Zt=[],St=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Wt(oe){oe>4&&--St[oe].refcount===0&&(St[oe]=void 0,Zt.push(oe))}function Yt(){for(var oe=0,fe=5;fe<St.length;++fe)St[fe]!==void 0&&++oe;return oe}function pr(){for(var oe=5;oe<St.length;++oe)if(St[oe]!==void 0)return St[oe];return null}function Sr(){r.count_emval_handles=Yt,r.get_first_emval=pr}function Dt(oe){switch(oe){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var fe=Zt.length?Zt.pop():St.length;return St[fe]={refcount:1,value:oe},fe}}}function or(oe){return this.fromWireType(dt[oe>>2])}function Xt(oe,fe){fe=Rr(fe),lr(oe,{name:fe,fromWireType:function(he){var Ee=St[he].value;return Wt(he),Ee},toWireType:function(he,Ee){return Dt(Ee)},argPackAdvance:8,readValueFromPointer:or,destructorFunction:null})}function nt(oe){if(oe===null)return"null";var fe=typeof oe;return fe==="object"||fe==="array"||fe==="function"?oe.toString():""+oe}function dr(oe,fe){switch(fe){case 2:return function(he){return this.fromWireType(Be[he>>2])};case 3:return function(he){return this.fromWireType(We[he>>3])};default:throw new TypeError("Unknown float type: "+oe)}}function xr(oe,fe,he){var Ee=Qt(he);fe=Rr(fe),lr(oe,{name:fe,fromWireType:function(Pe){return Pe},toWireType:function(Pe,Ye){if(typeof Ye!="number"&&typeof Ye!="boolean")throw new TypeError('Cannot convert "'+nt(Ye)+'" to '+this.name);return Ye},argPackAdvance:8,readValueFromPointer:dr(fe,Ee),destructorFunction:null})}function Mt(oe,fe){if(!(oe instanceof Function))throw new TypeError("new_ called with constructor type "+typeof oe+" which is not a function");var he=zt(oe.name||"unknownFunctionName",function(){});he.prototype=oe.prototype;var Ee=new he,Pe=oe.apply(Ee,fe);return Pe instanceof Object?Pe:Ee}function Dr(oe){for(;oe.length;){var fe=oe.pop(),he=oe.pop();he(fe)}}function er(oe,fe,he,Ee,Pe){var Ye=fe.length;Ye<2&&nr("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var it=fe[1]!==null&&he!==null,E=!1,l=1;l<fe.length;++l)if(fe[l]!==null&&fe[l].destructorFunction===void 0){E=!0;break}for(var c=fe[0].name!=="void",A="",a="",l=0;l<Ye-2;++l)A+=(l!==0?", ":"")+"arg"+l,a+=(l!==0?", ":"")+"arg"+l+"Wired";var f="return function "+wt(oe)+"("+A+`) {
if (arguments.length !== `+(Ye-2)+`) {
throwBindingError('function `+oe+" called with ' + arguments.length + ' arguments, expected "+(Ye-2)+` args!');
}
`;E&&(f+=`var destructors = [];
`);var v=E?"destructors":"null",D=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],N=[nr,Ee,Pe,Dr,fe[0],fe[1]];it&&(f+="var thisWired = classParam.toWireType("+v+`, this);
`);for(var l=0;l<Ye-2;++l)f+="var arg"+l+"Wired = argType"+l+".toWireType("+v+", arg"+l+"); // "+fe[l+2].name+`
`,D.push("argType"+l),N.push(fe[l+2]);if(it&&(a="thisWired"+(a.length>0?", ":"")+a),f+=(c?"var rv = ":"")+"invoker(fn"+(a.length>0?", ":"")+a+`);
`,E)f+=`runDestructors(destructors);
`;else for(var l=it?1:2;l<fe.length;++l){var y=l===1?"thisWired":"arg"+(l-2)+"Wired";fe[l].destructorFunction!==null&&(f+=y+"_dtor("+y+"); // "+fe[l].name+`
`,D.push(y+"_dtor"),N.push(fe[l].destructorFunction))}c&&(f+=`var ret = retType.fromWireType(rv);
return ret;
`),f+=`}
`,D.push(f);var w=Mt(Function,D).apply(null,N);return w}function Ur(oe,fe,he){if(oe[fe].overloadTable===void 0){var Ee=oe[fe];oe[fe]=function(){return oe[fe].overloadTable.hasOwnProperty(arguments.length)||nr("Function '"+he+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+oe[fe].overloadTable+")!"),oe[fe].overloadTable[arguments.length].apply(this,arguments)},oe[fe].overloadTable=[],oe[fe].overloadTable[Ee.argCount]=Ee}}function fn(oe,fe,he){r.hasOwnProperty(oe)?((he===void 0||r[oe].overloadTable!==void 0&&r[oe].overloadTable[he]!==void 0)&&nr("Cannot register public name '"+oe+"' twice"),Ur(r,oe,oe),r.hasOwnProperty(he)&&nr("Cannot register multiple overloads of a function with the same number of arguments ("+he+")!"),r[oe].overloadTable[he]=fe):(r[oe]=fe,he!==void 0&&(r[oe].numArguments=he))}function Gr(oe,fe){for(var he=[],Ee=0;Ee<oe;Ee++)he.push(Tt[(fe>>2)+Ee]);return he}function Pr(oe,fe,he){r.hasOwnProperty(oe)||Gt("Replacing nonexistant public symbol"),r[oe].overloadTable!==void 0&&he!==void 0?r[oe].overloadTable[he]=fe:(r[oe]=fe,r[oe].argCount=he)}function nn(oe,fe,he){var Ee=r["dynCall_"+oe];return he&&he.length?Ee.apply(null,[fe].concat(he)):Ee.call(null,fe)}function Dn(oe,fe,he){return oe.includes("j")?nn(oe,fe,he):Je.get(fe).apply(null,he)}function on(oe,fe){var he=[];return function(){he.length=arguments.length;for(var Ee=0;Ee<arguments.length;Ee++)he[Ee]=arguments[Ee];return Dn(oe,fe,he)}}function Cn(oe,fe){oe=Rr(oe);function he(){return oe.includes("j")?on(oe,fe):Je.get(fe)}var Ee=he();return typeof Ee!="function"&&nr("unknown function pointer with signature "+oe+": "+fe),Ee}var An=void 0;function In(oe){var fe=vt(oe),he=Rr(fe);return mt(fe),he}function yn(oe,fe){var he=[],Ee={};function Pe(Ye){if(!Ee[Ye]&&!wr[Ye]){if(vr[Ye]){vr[Ye].forEach(Pe);return}he.push(Ye),Ee[Ye]=!0}}throw fe.forEach(Pe),new An(oe+": "+he.map(In).join([", "]))}function h(oe,fe,he,Ee,Pe,Ye){var it=Gr(fe,he);oe=Rr(oe),Pe=Cn(Ee,Pe),fn(oe,function(){yn("Cannot call "+oe+" due to unbound types",it)},fe-1),ir([],it,function(E){var l=[E[0],null].concat(E.slice(1));return Pr(oe,er(oe,l,null,Pe,Ye),fe-1),[]})}function P(oe,fe,he){switch(fe){case 0:return he?function(Pe){return un[Pe]}:function(Pe){return Ft[Pe]};case 1:return he?function(Pe){return Jt[Pe>>1]}:function(Pe){return qe[Pe>>1]};case 2:return he?function(Pe){return Tt[Pe>>2]}:function(Pe){return dt[Pe>>2]};default:throw new TypeError("Unknown integer type: "+oe)}}function Q(oe,fe,he,Ee,Pe){fe=Rr(fe),Pe===-1&&(Pe=4294967295);var Ye=Qt(he),it=function(c){return c};if(Ee===0){var E=32-8*he;it=function(c){return c<<E>>>E}}var l=fe.includes("unsigned");lr(oe,{name:fe,fromWireType:it,toWireType:function(c,A){if(typeof A!="number"&&typeof A!="boolean")throw new TypeError('Cannot convert "'+nt(A)+'" to '+this.name);if(A<Ee||A>Pe)throw new TypeError('Passing a number "'+nt(A)+'" from JS side to C/C++ side to an argument of type "'+fe+'", which is outside the valid range ['+Ee+", "+Pe+"]!");return l?A>>>0:A|0},argPackAdvance:8,readValueFromPointer:P(fe,Ye,Ee!==0),destructorFunction:null})}function pe(oe,fe,he){var Ee=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Pe=Ee[fe];function Ye(it){it=it>>2;var E=dt,l=E[it],c=E[it+1];return new Pe(sn,c,l)}he=Rr(he),lr(oe,{name:he,fromWireType:Ye,argPackAdvance:8,readValueFromPointer:Ye},{ignoreDuplicateRegistrations:!0})}function me(oe,fe){fe=Rr(fe);var he=fe==="std::string";lr(oe,{name:fe,fromWireType:function(Ee){var Pe=dt[Ee>>2],Ye;if(he)for(var it=Ee+4,E=0;E<=Pe;++E){var l=Ee+4+E;if(E==Pe||Ft[l]==0){var c=l-it,A=Nt(it,c);Ye===void 0?Ye=A:(Ye+=String.fromCharCode(0),Ye+=A),it=l+1}}else{for(var a=new Array(Pe),E=0;E<Pe;++E)a[E]=String.fromCharCode(Ft[Ee+4+E]);Ye=a.join("")}return mt(Ee),Ye},toWireType:function(Ee,Pe){Pe instanceof ArrayBuffer&&(Pe=new Uint8Array(Pe));var Ye,it=typeof Pe=="string";it||Pe instanceof Uint8Array||Pe instanceof Uint8ClampedArray||Pe instanceof Int8Array||nr("Cannot pass non-string to std::string"),he&&it?Ye=function(){return jr(Pe)}:Ye=function(){return Pe.length};var E=Ye(),l=$t(4+E+1);if(dt[l>>2]=E,he&&it)Fr(Pe,l+4,E+1);else if(it)for(var c=0;c<E;++c){var A=Pe.charCodeAt(c);A>255&&(mt(l),nr("String has UTF-16 code units that do not fit in 8 bits")),Ft[l+4+c]=A}else for(var c=0;c<E;++c)Ft[l+4+c]=Pe[c];return Ee!==null&&Ee.push(mt,l),l},argPackAdvance:8,readValueFromPointer:or,destructorFunction:function(Ee){mt(Ee)}})}function R(oe,fe,he){he=Rr(he);var Ee,Pe,Ye,it,E;fe===2?(Ee=$r,Pe=vn,it=hn,Ye=function(){return qe},E=1):fe===4&&(Ee=bn,Pe=En,it=Bn,Ye=function(){return dt},E=2),lr(oe,{name:he,fromWireType:function(l){for(var c=dt[l>>2],A=Ye(),a,f=l+4,v=0;v<=c;++v){var D=l+4+v*fe;if(v==c||A[D>>E]==0){var N=D-f,y=Ee(f,N);a===void 0?a=y:(a+=String.fromCharCode(0),a+=y),f=D+fe}}return mt(l),a},toWireType:function(l,c){typeof c!="string"&&nr("Cannot pass non-string to C++ string type "+he);var A=it(c),a=$t(4+A+fe);return dt[a>>2]=A>>E,Pe(c,a+4,A+fe),l!==null&&l.push(mt,a),a},argPackAdvance:8,readValueFromPointer:or,destructorFunction:function(l){mt(l)}})}function U(oe,fe){fe=Rr(fe),lr(oe,{isVoid:!0,name:fe,argPackAdvance:0,fromWireType:function(){},toWireType:function(he,Ee){}})}var ee={};function ve(oe){var fe=ee[oe];return fe===void 0?Rr(oe):fe}function He(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function Ke(oe){return oe===0?Dt(He()):(oe=ve(oe),Dt(He()[oe]))}function ht(oe){oe>4&&(St[oe].refcount+=1)}function Xe(oe,fe){var he=wr[oe];return he===void 0&&nr(fe+" has unknown type "+In(oe)),he}function pt(oe){for(var fe="",he=0;he<oe;++he)fe+=(he!==0?", ":"")+"arg"+he;for(var Ee="return function emval_allocator_"+oe+`(constructor, argTypes, args) {
`,he=0;he<oe;++he)Ee+="var argType"+he+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+he+'], "parameter '+he+`");
var arg`+he+" = argType"+he+`.readValueFromPointer(args);
args += argType`+he+`['argPackAdvance'];
`;return Ee+="var obj = new constructor("+fe+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",Ee)(Xe,r,Dt)}var Vt={};function br(oe){return oe||nr("Cannot use deleted val. handle = "+oe),St[oe].value}function Hr(oe,fe,he,Ee){oe=br(oe);var Pe=Vt[fe];return Pe||(Pe=pt(fe),Vt[fe]=Pe),Pe(oe,he,Ee)}function ur(){zr()}function fr(oe,fe,he){Ft.copyWithin(oe,fe,fe+he)}function tr(oe){try{return ct.grow(oe-sn.byteLength+65535>>>16),sr(ct.buffer),1}catch{}}function Vr(oe){var fe=Ft.length;oe=oe>>>0;var he=2147483648;if(oe>he)return!1;for(var Ee=1;Ee<=4;Ee*=2){var Pe=fe*(1+.2/Ee);Pe=Math.min(Pe,oe+100663296);var Ye=Math.min(he,an(Math.max(oe,Pe),65536)),it=tr(Ye);if(it)return!0}return!1}Qr(),rt=r.BindingError=Rt(Error,"BindingError"),Cr=r.InternalError=Rt(Error,"InternalError"),Sr(),An=r.UnboundTypeError=Rt(Error,"UnboundTypeError");var Tr={e:Ut,p:yr,n:Qe,r:Xt,m:xr,i:h,b:Q,a:pe,h:me,f:R,o:U,c:Wt,d:Ke,j:ht,k:Hr,l:ur,q:fr,g:Vr};Ae(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.t).apply(null,arguments)};var $t=r._malloc=function(){return($t=r._malloc=r.asm.u).apply(null,arguments)},mt=r._free=function(){return(mt=r._free=r.asm.v).apply(null,arguments)},vt=r.___getTypeName=function(){return(vt=r.___getTypeName=r.asm.w).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.x).apply(null,arguments)};var rr;qr=function oe(){rr||Er(),rr||(qr=oe)};function Er(oe){if(Lr>0||(Wr(),Lr>0))return;function fe(){rr||(rr=!0,r.calledRun=!0,!yt&&(qt(),Fe(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),Nr()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),fe()},1)):fe()}if(r.run=Er,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return Er(),r.ready}}(),ne=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/webp_node_dec-dde61ffa.wasm").href:new URL("webp_node_dec-dde61ffa.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,q=function(){return function(r){r=r||{};var r=typeof r<"u"?r:{},Fe,Ne;r.ready=new Promise(function(Y,C){Fe=Y,Ne=C});var Oe={},Ce;for(Ce in r)r.hasOwnProperty(Ce)&&(Oe[Ce]=r[Ce]);var Ct=!1,at="";function At(Y){return r.locateFile?r.locateFile(Y,at):at+Y}var It,Lt,Kt,Ht;at=__dirname+"/",It=function(C,O){return Kt||(Kt=Zr),Ht||(Ht=Zr),C=Ht.normalize(C),Kt.readFileSync(C,O?null:"utf8")},Lt=function(C){var O=It(C,!0);return O.buffer||(O=new Uint8Array(O)),Fr(O.buffer),O},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),r.inspect=function(){return"[Emscripten Module object]"};var Ot=r.print||console.log.bind(console),ft=r.printErr||console.warn.bind(console);for(Ce in Oe)Oe.hasOwnProperty(Ce)&&(r[Ce]=Oe[Ce]);Oe=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var ct=0,yt=function(Y){ct=Y},Ar=function(){return ct},Mr;r.wasmBinary&&(Mr=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&ae("no native wasm support detected");var Nt,Jr=!1;function Fr(Y,C){Y||ae("Assertion failed: "+C)}var jr=new TextDecoder("utf8");function tn(Y,C,O){for(var g=C+O,b=C;Y[b]&&!(b>=g);)++b;return jr.decode(Y.subarray?Y.subarray(C,b):new Uint8Array(Y.slice(C,b)))}function $r(Y,C){if(!Y)return"";for(var O=Y+C,g=Y;!(g>=O)&&Be[g];)++g;return jr.decode(Be.subarray(Y,g))}function vn(Y,C,O,g){if(!(g>0))return 0;for(var b=O,H=O+g-1,Z=0;Z<Y.length;++Z){var se=Y.charCodeAt(Z);if(se>=55296&&se<=57343){var ue=Y.charCodeAt(++Z);se=65536+((se&1023)<<10)|ue&1023}if(se<=127){if(O>=H)break;C[O++]=se}else if(se<=2047){if(O+1>=H)break;C[O++]=192|se>>6,C[O++]=128|se&63}else if(se<=65535){if(O+2>=H)break;C[O++]=224|se>>12,C[O++]=128|se>>6&63,C[O++]=128|se&63}else{if(O+3>=H)break;C[O++]=240|se>>18,C[O++]=128|se>>12&63,C[O++]=128|se>>6&63,C[O++]=128|se&63}}return C[O]=0,O-b}function hn(Y,C,O){return vn(Y,Be,C,O)}function bn(Y){for(var C=0,O=0;O<Y.length;++O){var g=Y.charCodeAt(O);g>=55296&&g<=57343&&(g=65536+((g&1023)<<10)|Y.charCodeAt(++O)&1023),g<=127?++C:g<=2047?C+=2:g<=65535?C+=3:C+=4}return C}var En=new TextDecoder("utf-16le");function Bn(Y,C){for(var O=Y,g=O>>1,b=g+C/2;!(g>=b)&&sr[g];)++g;return O=g<<1,En.decode(Be.subarray(Y,O))}function an(Y,C,O){if(O===void 0&&(O=2147483647),O<2)return 0;O-=2;for(var g=C,b=O<Y.length*2?O/2:Y.length,H=0;H<b;++H){var Z=Y.charCodeAt(H);We[C>>1]=Z,C+=2}return We[C>>1]=0,C-g}function sn(Y){return Y.length*2}function un(Y,C){for(var O=0,g="";!(O>=C/4);){var b=Je[Y+O*4>>2];if(b==0)break;if(++O,b>=65536){var H=b-65536;g+=String.fromCharCode(55296|H>>10,56320|H&1023)}else g+=String.fromCharCode(b)}return g}function Ft(Y,C,O){if(O===void 0&&(O=2147483647),O<4)return 0;for(var g=C,b=g+O-4,H=0;H<Y.length;++H){var Z=Y.charCodeAt(H);if(Z>=55296&&Z<=57343){var se=Y.charCodeAt(++H);Z=65536+((Z&1023)<<10)|se&1023}if(Je[C>>2]=Z,C+=4,C+4>b)break}return Je[C>>2]=0,C-g}function Jt(Y){for(var C=0,O=0;O<Y.length;++O){var g=Y.charCodeAt(O);g>=55296&&g<=57343&&++O,C+=4}return C}function qe(Y,C){return Y%C>0&&(Y+=C-Y%C),Y}var Tt,dt,Be,We,sr,Je,tt,Bt,kr;function Wr(Y){Tt=Y,r.HEAP8=dt=new Int8Array(Y),r.HEAP16=We=new Int16Array(Y),r.HEAP32=Je=new Int32Array(Y),r.HEAPU8=Be=new Uint8Array(Y),r.HEAPU16=sr=new Uint16Array(Y),r.HEAPU32=tt=new Uint32Array(Y),r.HEAPF32=Bt=new Float32Array(Y),r.HEAPF64=kr=new Float64Array(Y)}r.INITIAL_MEMORY;var qt,Nr=[],rn=[],cn=[];function gn(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)kt(r.preRun.shift());Qr(Nr)}function Lr(){Qr(rn)}function qr(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)zr(r.postRun.shift());Qr(cn)}function kt(Y){Nr.unshift(Y)}function mr(Y){rn.unshift(Y)}function zr(Y){cn.unshift(Y)}var cr=0,Se=null;function j(Y){cr++,r.monitorRunDependencies&&r.monitorRunDependencies(cr)}function $(Y){if(cr--,r.monitorRunDependencies&&r.monitorRunDependencies(cr),cr==0&&Se){var C=Se;Se=null,C()}}r.preloadedImages={},r.preloadedAudios={};function ae(Y){r.onAbort&&r.onAbort(Y),Y+="",ft(Y),Jr=!0,Y="abort("+Y+"). Build with -s ASSERTIONS=1 for more info.";var C=new WebAssembly.RuntimeError(Y);throw Ne(C),C}var Ae="data:application/octet-stream;base64,";function Ie(Y){return Y.startsWith(Ae)}if(r.locateFile){var Le="avif_node_enc.wasm";Ie(Le)||(Le=At(Le))}else var Le=new URL("avif_node_enc.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href).toString();function Ut(Y){try{if(Y==Le&&Mr)return new Uint8Array(Mr);if(Lt)return Lt(Y);throw"both async and sync fetching of the wasm failed"}catch(C){ae(C)}}function yr(){return!Mr&&Ct&&typeof fetch=="function"?fetch(Le,{credentials:"same-origin"}).then(function(Y){if(!Y.ok)throw"failed to load wasm binary file at '"+Le+"'";return Y.arrayBuffer()}).catch(function(){return Ut(Le)}):Promise.resolve().then(function(){return Ut(Le)})}function Qt(){var Y={a:y};function C(Z,se){var ue=Z.exports;r.asm=ue,Nt=r.asm.P,Wr(Nt.buffer),qt=r.asm.Y,mr(r.asm.Q),$()}j();function O(Z){C(Z.instance)}function g(Z){return yr().then(function(se){var ue=WebAssembly.instantiate(se,Y);return ue}).then(Z,function(se){ft("failed to asynchronously prepare wasm: "+se),ae(se)})}function b(){return!Mr&&typeof WebAssembly.instantiateStreaming=="function"&&!Ie(Le)&&typeof fetch=="function"?fetch(Le,{credentials:"same-origin"}).then(function(Z){var se=WebAssembly.instantiateStreaming(Z,Y);return se.then(O,function(ue){return ft("wasm streaming compile failed: "+ue),ft("falling back to ArrayBuffer instantiation"),g(O)})}):g(O)}if(r.instantiateWasm)try{var H=r.instantiateWasm(Y,C);return H}catch(Z){return ft("Module.instantiateWasm callback failed with error: "+Z),!1}return b().catch(Ne),{}}function Qr(Y){for(;Y.length>0;){var C=Y.shift();if(typeof C=="function"){C(r);continue}var O=C.func;typeof O=="number"?C.arg===void 0?qt.get(O)():qt.get(O)(C.arg):O(C.arg===void 0?null:C.arg)}}function hr(Y,C){}function Rr(Y,C){return void 0}var Or={mappings:{},buffers:[null,[],[]],printChar:function(Y,C){var O=Or.buffers[Y];C===0||C===10?((Y===1?Ot:ft)(tn(O,0)),O.length=0):O.push(C)},varargs:void 0,get:function(){Or.varargs+=4;var Y=Je[Or.varargs-4>>2];return Y},getStr:function(Y){var C=$r(Y);return C},get64:function(Y,C){return Y}};function wr(Y,C,O){return Or.varargs=O,0}function vr(Y,C,O){return Or.varargs=O,0}function gr(Y,C,O){Or.varargs=O}var _t={};function wt(Y){for(;Y.length;){var C=Y.pop(),O=Y.pop();O(C)}}function zt(Y){return this.fromWireType(tt[Y>>2])}var Rt={},rt={},nr={},Cr=48,Gt=57;function ir(Y){if(Y===void 0)return"_unknown";Y=Y.replace(/[^a-zA-Z0-9_]/g,"$");var C=Y.charCodeAt(0);return C>=Cr&&C<=Gt?"_"+Y:Y}function lr(Y,C){return Y=ir(Y),new Function("body","return function "+Y+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(C)}function Qe(Y,C){var O=lr(C,function(g){this.name=C,this.message=g;var b=new Error(g).stack;b!==void 0&&(this.stack=this.toString()+`
`+b.replace(/^Error(:[^\n]*)?\n/,""))});return O.prototype=Object.create(Y.prototype),O.prototype.constructor=O,O.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},O}var Zt=void 0;function St(Y){throw new Zt(Y)}function Wt(Y,C,O){Y.forEach(function(se){nr[se]=C});function g(se){var ue=O(se);ue.length!==Y.length&&St("Mismatched type converter count");for(var ge=0;ge<Y.length;++ge)xr(Y[ge],ue[ge])}var b=new Array(C.length),H=[],Z=0;C.forEach(function(se,ue){rt.hasOwnProperty(se)?b[ue]=rt[se]:(H.push(se),Rt.hasOwnProperty(se)||(Rt[se]=[]),Rt[se].push(function(){b[ue]=rt[se],++Z,Z===H.length&&g(b)}))}),H.length===0&&g(b)}function Yt(Y){var C=_t[Y];delete _t[Y];var O=C.rawConstructor,g=C.rawDestructor,b=C.fields,H=b.map(function(Z){return Z.getterReturnType}).concat(b.map(function(Z){return Z.setterArgumentType}));Wt([Y],H,function(Z){var se={};return b.forEach(function(ue,ge){var be=ue.fieldName,Te=Z[ge],ze=ue.getter,lt=ue.getterContext,ar=Z[ge+b.length],Ir=ue.setter,Yr=ue.setterContext;se[be]={read:function(Tn){return Te.fromWireType(ze(lt,Tn))},write:function(Tn,Kn){var $e=[];Ir(Yr,Tn,ar.toWireType($e,Kn)),wt($e)}}}),[{name:C.name,fromWireType:function(ue){var ge={};for(var be in se)ge[be]=se[be].read(ue);return g(ue),ge},toWireType:function(ue,ge){for(var be in se)if(!(be in ge))throw new TypeError('Missing field:  "'+be+'"');var Te=O();for(be in se)se[be].write(Te,ge[be]);return ue!==null&&ue.push(g,Te),Te},argPackAdvance:8,readValueFromPointer:zt,destructorFunction:g}]})}function pr(Y,C,O,g,b){}function Sr(Y){switch(Y){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+Y)}}function Dt(){for(var Y=new Array(256),C=0;C<256;++C)Y[C]=String.fromCharCode(C);or=Y}var or=void 0;function Xt(Y){for(var C="",O=Y;Be[O];)C+=or[Be[O++]];return C}var nt=void 0;function dr(Y){throw new nt(Y)}function xr(Y,C,O){if(O=O||{},!("argPackAdvance"in C))throw new TypeError("registerType registeredInstance requires argPackAdvance");var g=C.name;if(Y||dr('type "'+g+'" must have a positive integer typeid pointer'),rt.hasOwnProperty(Y)){if(O.ignoreDuplicateRegistrations)return;dr("Cannot register type '"+g+"' twice")}if(rt[Y]=C,delete nr[Y],Rt.hasOwnProperty(Y)){var b=Rt[Y];delete Rt[Y],b.forEach(function(H){H()})}}function Mt(Y,C,O,g,b){var H=Sr(O);C=Xt(C),xr(Y,{name:C,fromWireType:function(Z){return!!Z},toWireType:function(Z,se){return se?g:b},argPackAdvance:8,readValueFromPointer:function(Z){var se;if(O===1)se=dt;else if(O===2)se=We;else if(O===4)se=Je;else throw new TypeError("Unknown boolean type size: "+C);return this.fromWireType(se[Z>>H])},destructorFunction:null})}var Dr=[],er=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Ur(Y){Y>4&&--er[Y].refcount===0&&(er[Y]=void 0,Dr.push(Y))}function fn(){for(var Y=0,C=5;C<er.length;++C)er[C]!==void 0&&++Y;return Y}function Gr(){for(var Y=5;Y<er.length;++Y)if(er[Y]!==void 0)return er[Y];return null}function Pr(){r.count_emval_handles=fn,r.get_first_emval=Gr}function nn(Y){switch(Y){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var C=Dr.length?Dr.pop():er.length;return er[C]={refcount:1,value:Y},C}}}function Dn(Y,C){C=Xt(C),xr(Y,{name:C,fromWireType:function(O){var g=er[O].value;return Ur(O),g},toWireType:function(O,g){return nn(g)},argPackAdvance:8,readValueFromPointer:zt,destructorFunction:null})}function on(Y){if(Y===null)return"null";var C=typeof Y;return C==="object"||C==="array"||C==="function"?Y.toString():""+Y}function Cn(Y,C){switch(C){case 2:return function(O){return this.fromWireType(Bt[O>>2])};case 3:return function(O){return this.fromWireType(kr[O>>3])};default:throw new TypeError("Unknown float type: "+Y)}}function An(Y,C,O){var g=Sr(O);C=Xt(C),xr(Y,{name:C,fromWireType:function(b){return b},toWireType:function(b,H){if(typeof H!="number"&&typeof H!="boolean")throw new TypeError('Cannot convert "'+on(H)+'" to '+this.name);return H},argPackAdvance:8,readValueFromPointer:Cn(C,g),destructorFunction:null})}function In(Y,C){if(!(Y instanceof Function))throw new TypeError("new_ called with constructor type "+typeof Y+" which is not a function");var O=lr(Y.name||"unknownFunctionName",function(){});O.prototype=Y.prototype;var g=new O,b=Y.apply(g,C);return b instanceof Object?b:g}function yn(Y,C,O,g,b){var H=C.length;H<2&&dr("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var Z=C[1]!==null&&O!==null,se=!1,ue=1;ue<C.length;++ue)if(C[ue]!==null&&C[ue].destructorFunction===void 0){se=!0;break}for(var ge=C[0].name!=="void",be="",Te="",ue=0;ue<H-2;++ue)be+=(ue!==0?", ":"")+"arg"+ue,Te+=(ue!==0?", ":"")+"arg"+ue+"Wired";var ze="return function "+ir(Y)+"("+be+`) {
if (arguments.length !== `+(H-2)+`) {
throwBindingError('function `+Y+" called with ' + arguments.length + ' arguments, expected "+(H-2)+` args!');
}
`;se&&(ze+=`var destructors = [];
`);var lt=se?"destructors":"null",ar=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Ir=[dr,g,b,wt,C[0],C[1]];Z&&(ze+="var thisWired = classParam.toWireType("+lt+`, this);
`);for(var ue=0;ue<H-2;++ue)ze+="var arg"+ue+"Wired = argType"+ue+".toWireType("+lt+", arg"+ue+"); // "+C[ue+2].name+`
`,ar.push("argType"+ue),Ir.push(C[ue+2]);if(Z&&(Te="thisWired"+(Te.length>0?", ":"")+Te),ze+=(ge?"var rv = ":"")+"invoker(fn"+(Te.length>0?", ":"")+Te+`);
`,se)ze+=`runDestructors(destructors);
`;else for(var ue=Z?1:2;ue<C.length;++ue){var Yr=ue===1?"thisWired":"arg"+(ue-2)+"Wired";C[ue].destructorFunction!==null&&(ze+=Yr+"_dtor("+Yr+"); // "+C[ue].name+`
`,ar.push(Yr+"_dtor"),Ir.push(C[ue].destructorFunction))}ge&&(ze+=`var ret = retType.fromWireType(rv);
return ret;
`),ze+=`}
`,ar.push(ze);var Tn=In(Function,ar).apply(null,Ir);return Tn}function h(Y,C,O){if(Y[C].overloadTable===void 0){var g=Y[C];Y[C]=function(){return Y[C].overloadTable.hasOwnProperty(arguments.length)||dr("Function '"+O+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+Y[C].overloadTable+")!"),Y[C].overloadTable[arguments.length].apply(this,arguments)},Y[C].overloadTable=[],Y[C].overloadTable[g.argCount]=g}}function P(Y,C,O){r.hasOwnProperty(Y)?((O===void 0||r[Y].overloadTable!==void 0&&r[Y].overloadTable[O]!==void 0)&&dr("Cannot register public name '"+Y+"' twice"),h(r,Y,Y),r.hasOwnProperty(O)&&dr("Cannot register multiple overloads of a function with the same number of arguments ("+O+")!"),r[Y].overloadTable[O]=C):(r[Y]=C,O!==void 0&&(r[Y].numArguments=O))}function Q(Y,C){for(var O=[],g=0;g<Y;g++)O.push(Je[(C>>2)+g]);return O}function pe(Y,C,O){r.hasOwnProperty(Y)||St("Replacing nonexistant public symbol"),r[Y].overloadTable!==void 0&&O!==void 0?r[Y].overloadTable[O]=C:(r[Y]=C,r[Y].argCount=O)}function me(Y,C,O){var g=r["dynCall_"+Y];return O&&O.length?g.apply(null,[C].concat(O)):g.call(null,C)}function R(Y,C,O){return Y.includes("j")?me(Y,C,O):qt.get(C).apply(null,O)}function U(Y,C){var O=[];return function(){O.length=arguments.length;for(var g=0;g<arguments.length;g++)O[g]=arguments[g];return R(Y,C,O)}}function ee(Y,C){Y=Xt(Y);function O(){return Y.includes("j")?U(Y,C):qt.get(C)}var g=O();return typeof g!="function"&&dr("unknown function pointer with signature "+Y+": "+C),g}var ve=void 0;function He(Y){var C=te(Y),O=Xt(C);return k(C),O}function Ke(Y,C){var O=[],g={};function b(H){if(!g[H]&&!rt[H]){if(nr[H]){nr[H].forEach(b);return}O.push(H),g[H]=!0}}throw C.forEach(b),new ve(Y+": "+O.map(He).join([", "]))}function ht(Y,C,O,g,b,H){var Z=Q(C,O);Y=Xt(Y),b=ee(g,b),P(Y,function(){Ke("Cannot call "+Y+" due to unbound types",Z)},C-1),Wt([],Z,function(se){var ue=[se[0],null].concat(se.slice(1));return pe(Y,yn(Y,ue,null,b,H),C-1),[]})}function Xe(Y,C,O){switch(C){case 0:return O?function(b){return dt[b]}:function(b){return Be[b]};case 1:return O?function(b){return We[b>>1]}:function(b){return sr[b>>1]};case 2:return O?function(b){return Je[b>>2]}:function(b){return tt[b>>2]};default:throw new TypeError("Unknown integer type: "+Y)}}function pt(Y,C,O,g,b){C=Xt(C),b===-1&&(b=4294967295);var H=Sr(O),Z=function(ge){return ge};if(g===0){var se=32-8*O;Z=function(ge){return ge<<se>>>se}}var ue=C.includes("unsigned");xr(Y,{name:C,fromWireType:Z,toWireType:function(ge,be){if(typeof be!="number"&&typeof be!="boolean")throw new TypeError('Cannot convert "'+on(be)+'" to '+this.name);if(be<g||be>b)throw new TypeError('Passing a number "'+on(be)+'" from JS side to C/C++ side to an argument of type "'+C+'", which is outside the valid range ['+g+", "+b+"]!");return ue?be>>>0:be|0},argPackAdvance:8,readValueFromPointer:Xe(C,H,g!==0),destructorFunction:null})}function Vt(Y,C,O){var g=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],b=g[C];function H(Z){Z=Z>>2;var se=tt,ue=se[Z],ge=se[Z+1];return new b(Tt,ge,ue)}O=Xt(O),xr(Y,{name:O,fromWireType:H,argPackAdvance:8,readValueFromPointer:H},{ignoreDuplicateRegistrations:!0})}function br(Y,C){C=Xt(C);var O=C==="std::string";xr(Y,{name:C,fromWireType:function(g){var b=tt[g>>2],H;if(O)for(var Z=g+4,se=0;se<=b;++se){var ue=g+4+se;if(se==b||Be[ue]==0){var ge=ue-Z,be=$r(Z,ge);H===void 0?H=be:(H+=String.fromCharCode(0),H+=be),Z=ue+1}}else{for(var Te=new Array(b),se=0;se<b;++se)Te[se]=String.fromCharCode(Be[g+4+se]);H=Te.join("")}return k(g),H},toWireType:function(g,b){b instanceof ArrayBuffer&&(b=new Uint8Array(b));var H,Z=typeof b=="string";Z||b instanceof Uint8Array||b instanceof Uint8ClampedArray||b instanceof Int8Array||dr("Cannot pass non-string to std::string"),O&&Z?H=function(){return bn(b)}:H=function(){return b.length};var se=H(),ue=w(4+se+1);if(tt[ue>>2]=se,O&&Z)hn(b,ue+4,se+1);else if(Z)for(var ge=0;ge<se;++ge){var be=b.charCodeAt(ge);be>255&&(k(ue),dr("String has UTF-16 code units that do not fit in 8 bits")),Be[ue+4+ge]=be}else for(var ge=0;ge<se;++ge)Be[ue+4+ge]=b[ge];return g!==null&&g.push(k,ue),ue},argPackAdvance:8,readValueFromPointer:zt,destructorFunction:function(g){k(g)}})}function Hr(Y,C,O){O=Xt(O);var g,b,H,Z,se;C===2?(g=Bn,b=an,Z=sn,H=function(){return sr},se=1):C===4&&(g=un,b=Ft,Z=Jt,H=function(){return tt},se=2),xr(Y,{name:O,fromWireType:function(ue){for(var ge=tt[ue>>2],be=H(),Te,ze=ue+4,lt=0;lt<=ge;++lt){var ar=ue+4+lt*C;if(lt==ge||be[ar>>se]==0){var Ir=ar-ze,Yr=g(ze,Ir);Te===void 0?Te=Yr:(Te+=String.fromCharCode(0),Te+=Yr),ze=ar+C}}return k(ue),Te},toWireType:function(ue,ge){typeof ge!="string"&&dr("Cannot pass non-string to C++ string type "+O);var be=Z(ge),Te=w(4+be+C);return tt[Te>>2]=be>>se,b(ge,Te+4,be+C),ue!==null&&ue.push(k,Te),Te},argPackAdvance:8,readValueFromPointer:zt,destructorFunction:function(ue){k(ue)}})}function ur(Y,C,O,g,b,H){_t[Y]={name:Xt(C),rawConstructor:ee(O,g),rawDestructor:ee(b,H),fields:[]}}function fr(Y,C,O,g,b,H,Z,se,ue,ge){_t[Y].fields.push({fieldName:Xt(C),getterReturnType:O,getter:ee(g,b),getterContext:H,setterArgumentType:Z,setter:ee(se,ue),setterContext:ge})}function tr(Y,C){C=Xt(C),xr(Y,{isVoid:!0,name:C,argPackAdvance:0,fromWireType:function(){},toWireType:function(O,g){}})}var Vr={};function Tr(Y){var C=Vr[Y];return C===void 0?Xt(Y):C}function $t(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function mt(Y){return Y===0?nn($t()):(Y=Tr(Y),nn($t()[Y]))}function vt(Y){Y>4&&(er[Y].refcount+=1)}function rr(Y,C){var O=rt[Y];return O===void 0&&dr(C+" has unknown type "+He(Y)),O}function Er(Y){for(var C="",O=0;O<Y;++O)C+=(O!==0?", ":"")+"arg"+O;for(var g="return function emval_allocator_"+Y+`(constructor, argTypes, args) {
`,O=0;O<Y;++O)g+="var argType"+O+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+O+'], "parameter '+O+`");
var arg`+O+" = argType"+O+`.readValueFromPointer(args);
args += argType`+O+`['argPackAdvance'];
`;return g+="var obj = new constructor("+C+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",g)(rr,r,nn)}var oe={};function fe(Y){return Y||dr("Cannot use deleted val. handle = "+Y),er[Y].value}function he(Y,C,O,g){Y=fe(Y);var b=oe[C];return b||(b=Er(C),oe[C]=b),b(Y,O,g)}function Ee(){ae()}function Pe(Y,C){throw T(Y,C||1),"longjmp"}function Ye(Y,C){return Pe(Y,C)}function it(Y,C,O){Be.copyWithin(Y,C,C+O)}function E(Y){try{return Nt.grow(Y-Tt.byteLength+65535>>>16),Wr(Nt.buffer),1}catch{}}function l(Y){var C=Be.length;Y=Y>>>0;var O=2147483648;if(Y>O)return!1;for(var g=1;g<=4;g*=2){var b=C*(1+.2/g);b=Math.min(b,Y+100663296);var H=Math.min(O,qe(Math.max(Y,b),65536)),Z=E(H);if(Z)return!0}return!1}function c(Y){return 0}function A(Y,C,O,g){var b=Or.getStreamFromFD(Y),H=Or.doReadv(b,C,O);return Je[g>>2]=H,0}function a(Y,C,O,g,b){}function f(Y,C,O,g){for(var b=0,H=0;H<O;H++){for(var Z=Je[C+H*8>>2],se=Je[C+(H*8+4)>>2],ue=0;ue<se;ue++)Or.printChar(Y,Be[Z+ue]);b+=se}return Je[g>>2]=b,0}function v(){return Ar()}function D(Y){yt(Y)}function N(Y){var C=Date.now()/1e3|0;return Y&&(Je[Y>>2]=C),C}Zt=r.InternalError=Qe(Error,"InternalError"),Dt(),nt=r.BindingError=Qe(Error,"BindingError"),Pr(),ve=r.UnboundTypeError=Qe(Error,"UnboundTypeError");var y={O:Rr,r:wr,G:vr,H:gr,x:Yt,B:pr,K:Mt,J:Dn,t:An,w:ht,i:pt,e:Vt,u:br,o:Hr,z:ur,g:fr,L:tr,j:Ur,N:mt,v:vt,D:he,f:Ee,d:Ye,E:it,n:l,s:c,F:A,A:a,I:f,b:v,l:de,p:xe,q:J,C:ie,y:Re,m:z,h:G,c:S,k:De,a:D,M:N};Qt(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.Q).apply(null,arguments)};var w=r._malloc=function(){return(w=r._malloc=r.asm.R).apply(null,arguments)},k=r._free=function(){return(k=r._free=r.asm.S).apply(null,arguments)},te=r.___getTypeName=function(){return(te=r.___getTypeName=r.asm.T).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.U).apply(null,arguments)};var M=r.stackSave=function(){return(M=r.stackSave=r.asm.V).apply(null,arguments)},m=r.stackRestore=function(){return(m=r.stackRestore=r.asm.W).apply(null,arguments)},T=r._setThrew=function(){return(T=r._setThrew=r.asm.X).apply(null,arguments)};r.dynCall_jiiiiiiiii=function(){return(r.dynCall_jiiiiiiiii=r.asm.Z).apply(null,arguments)};var x=r.dynCall_ijiii=function(){return(x=r.dynCall_ijiii=r.asm._).apply(null,arguments)};r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.$).apply(null,arguments)},r.dynCall_jiiiiiiii=function(){return(r.dynCall_jiiiiiiii=r.asm.aa).apply(null,arguments)},r.dynCall_jiiiiii=function(){return(r.dynCall_jiiiiii=r.asm.ba).apply(null,arguments)},r.dynCall_jiiiii=function(){return(r.dynCall_jiiiii=r.asm.ca).apply(null,arguments)},r.dynCall_iiijii=function(){return(r.dynCall_iiijii=r.asm.da).apply(null,arguments)};function z(Y,C){var O=M();try{qt.get(Y)(C)}catch(g){if(m(O),g!==g+0&&g!=="longjmp")throw g;T(1,0)}}function S(Y,C,O,g,b){var H=M();try{qt.get(Y)(C,O,g,b)}catch(Z){if(m(H),Z!==Z+0&&Z!=="longjmp")throw Z;T(1,0)}}function G(Y,C,O){var g=M();try{qt.get(Y)(C,O)}catch(b){if(m(g),b!==b+0&&b!=="longjmp")throw b;T(1,0)}}function J(Y,C,O,g,b,H,Z,se,ue,ge){var be=M();try{return qt.get(Y)(C,O,g,b,H,Z,se,ue,ge)}catch(Te){if(m(be),Te!==Te+0&&Te!=="longjmp")throw Te;T(1,0)}}function ie(Y,C,O,g,b,H,Z,se,ue,ge,be,Te){var ze=M();try{return qt.get(Y)(C,O,g,b,H,Z,se,ue,ge,be,Te)}catch(lt){if(m(ze),lt!==lt+0&&lt!=="longjmp")throw lt;T(1,0)}}function de(Y,C,O,g,b){var H=M();try{return qt.get(Y)(C,O,g,b)}catch(Z){if(m(H),Z!==Z+0&&Z!=="longjmp")throw Z;T(1,0)}}function De(Y,C,O,g,b,H,Z,se,ue,ge,be){var Te=M();try{qt.get(Y)(C,O,g,b,H,Z,se,ue,ge,be)}catch(ze){if(m(Te),ze!==ze+0&&ze!=="longjmp")throw ze;T(1,0)}}function xe(Y,C,O,g,b,H,Z,se,ue){var ge=M();try{return qt.get(Y)(C,O,g,b,H,Z,se,ue)}catch(be){if(m(ge),be!==be+0&&be!=="longjmp")throw be;T(1,0)}}function Re(Y,C,O,g,b,H){var Z=M();try{return x(Y,C,O,g,b,H)}catch(se){if(m(Z),se!==se+0&&se!=="longjmp")throw se;T(1,0)}}var je;Se=function Y(){je||gt(),je||(Se=Y)};function gt(Y){if(cr>0||(gn(),cr>0))return;function C(){je||(je=!0,r.calledRun=!0,!Jr&&(Lr(),Fe(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),qr()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),C()},1)):C()}if(r.run=gt,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return gt(),r.ready}}(),X=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/avif_node_enc-53831d47.wasm").href:new URL("avif_node_enc-53831d47.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,re=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/avif_node_enc_mt.worker-be931951.js").href:new URL("avif_node_enc_mt.worker-be931951.js",document.currentScript&&document.currentScript.src||document.baseURI).href,ce=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/avif_node_enc_mt-1018c40e.wasm").href:new URL("avif_node_enc_mt-1018c40e.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,_e=function(){return function(r){r=r||{};var r=typeof r<"u"?r:{},Fe,Ne;r.ready=new Promise(function(M,m){Fe=M,Ne=m});var Oe={},Ce;for(Ce in r)r.hasOwnProperty(Ce)&&(Oe[Ce]=r[Ce]);var Ct=!1,at="";function At(M){return r.locateFile?r.locateFile(M,at):at+M}var It,Lt,Kt,Ht;at=__dirname+"/",It=function(m,T){return Kt||(Kt=Zr),Ht||(Ht=Zr),m=Ht.normalize(m),Kt.readFileSync(m,T?null:"utf8")},Lt=function(m){var T=It(m,!0);return T.buffer||(T=new Uint8Array(T)),Fr(T.buffer),T},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),r.inspect=function(){return"[Emscripten Module object]"};var Ot=r.print||console.log.bind(console),ft=r.printErr||console.warn.bind(console);for(Ce in Oe)Oe.hasOwnProperty(Ce)&&(r[Ce]=Oe[Ce]);Oe=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var ct=0,yt=function(M){ct=M},Ar=function(){return ct},Mr;r.wasmBinary&&(Mr=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&ae("no native wasm support detected");var Nt,Jr=!1;function Fr(M,m){M||ae("Assertion failed: "+m)}var jr=new TextDecoder("utf8");function tn(M,m,T){for(var x=m+T,z=m;M[z]&&!(z>=x);)++z;return jr.decode(M.subarray?M.subarray(m,z):new Uint8Array(M.slice(m,z)))}function $r(M,m){if(!M)return"";for(var T=M+m,x=M;!(x>=T)&&Be[x];)++x;return jr.decode(Be.subarray(M,x))}function vn(M,m,T,x){if(!(x>0))return 0;for(var z=T,S=T+x-1,G=0;G<M.length;++G){var J=M.charCodeAt(G);if(J>=55296&&J<=57343){var ie=M.charCodeAt(++G);J=65536+((J&1023)<<10)|ie&1023}if(J<=127){if(T>=S)break;m[T++]=J}else if(J<=2047){if(T+1>=S)break;m[T++]=192|J>>6,m[T++]=128|J&63}else if(J<=65535){if(T+2>=S)break;m[T++]=224|J>>12,m[T++]=128|J>>6&63,m[T++]=128|J&63}else{if(T+3>=S)break;m[T++]=240|J>>18,m[T++]=128|J>>12&63,m[T++]=128|J>>6&63,m[T++]=128|J&63}}return m[T]=0,T-z}function hn(M,m,T){return vn(M,Be,m,T)}function bn(M){for(var m=0,T=0;T<M.length;++T){var x=M.charCodeAt(T);x>=55296&&x<=57343&&(x=65536+((x&1023)<<10)|M.charCodeAt(++T)&1023),x<=127?++m:x<=2047?m+=2:x<=65535?m+=3:m+=4}return m}var En=new TextDecoder("utf-16le");function Bn(M,m){for(var T=M,x=T>>1,z=x+m/2;!(x>=z)&&sr[x];)++x;return T=x<<1,En.decode(Be.subarray(M,T))}function an(M,m,T){if(T===void 0&&(T=2147483647),T<2)return 0;T-=2;for(var x=m,z=T<M.length*2?T/2:M.length,S=0;S<z;++S){var G=M.charCodeAt(S);We[m>>1]=G,m+=2}return We[m>>1]=0,m-x}function sn(M){return M.length*2}function un(M,m){for(var T=0,x="";!(T>=m/4);){var z=Je[M+T*4>>2];if(z==0)break;if(++T,z>=65536){var S=z-65536;x+=String.fromCharCode(55296|S>>10,56320|S&1023)}else x+=String.fromCharCode(z)}return x}function Ft(M,m,T){if(T===void 0&&(T=2147483647),T<4)return 0;for(var x=m,z=x+T-4,S=0;S<M.length;++S){var G=M.charCodeAt(S);if(G>=55296&&G<=57343){var J=M.charCodeAt(++S);G=65536+((G&1023)<<10)|J&1023}if(Je[m>>2]=G,m+=4,m+4>z)break}return Je[m>>2]=0,m-x}function Jt(M){for(var m=0,T=0;T<M.length;++T){var x=M.charCodeAt(T);x>=55296&&x<=57343&&++T,m+=4}return m}function qe(M,m){return M%m>0&&(M+=m-M%m),M}var Tt,dt,Be,We,sr,Je,tt,Bt,kr;function Wr(M){Tt=M,r.HEAP8=dt=new Int8Array(M),r.HEAP16=We=new Int16Array(M),r.HEAP32=Je=new Int32Array(M),r.HEAPU8=Be=new Uint8Array(M),r.HEAPU16=sr=new Uint16Array(M),r.HEAPU32=tt=new Uint32Array(M),r.HEAPF32=Bt=new Float32Array(M),r.HEAPF64=kr=new Float64Array(M)}r.INITIAL_MEMORY;var qt,Nr=[],rn=[],cn=[];function gn(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)kt(r.preRun.shift());Qr(Nr)}function Lr(){Qr(rn)}function qr(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)zr(r.postRun.shift());Qr(cn)}function kt(M){Nr.unshift(M)}function mr(M){rn.unshift(M)}function zr(M){cn.unshift(M)}var cr=0,Se=null;function j(M){cr++,r.monitorRunDependencies&&r.monitorRunDependencies(cr)}function $(M){if(cr--,r.monitorRunDependencies&&r.monitorRunDependencies(cr),cr==0&&Se){var m=Se;Se=null,m()}}r.preloadedImages={},r.preloadedAudios={};function ae(M){r.onAbort&&r.onAbort(M),M+="",ft(M),Jr=!0,M="abort("+M+"). Build with -s ASSERTIONS=1 for more info.";var m=new WebAssembly.RuntimeError(M);throw Ne(m),m}var Ae="data:application/octet-stream;base64,";function Ie(M){return M.startsWith(Ae)}if(r.locateFile){var Le="avif_node_dec.wasm";Ie(Le)||(Le=At(Le))}else var Le=new URL("avif_node_dec.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href).toString();function Ut(M){try{if(M==Le&&Mr)return new Uint8Array(Mr);if(Lt)return Lt(M);throw"both async and sync fetching of the wasm failed"}catch(m){ae(m)}}function yr(){return!Mr&&Ct&&typeof fetch=="function"?fetch(Le,{credentials:"same-origin"}).then(function(M){if(!M.ok)throw"failed to load wasm binary file at '"+Le+"'";return M.arrayBuffer()}).catch(function(){return Ut(Le)}):Promise.resolve().then(function(){return Ut(Le)})}function Qt(){var M={a:E};function m(G,J){var ie=G.exports;r.asm=ie,Nt=r.asm.C,Wr(Nt.buffer),qt=r.asm.L,mr(r.asm.D),$()}j();function T(G){m(G.instance)}function x(G){return yr().then(function(J){var ie=WebAssembly.instantiate(J,M);return ie}).then(G,function(J){ft("failed to asynchronously prepare wasm: "+J),ae(J)})}function z(){return!Mr&&typeof WebAssembly.instantiateStreaming=="function"&&!Ie(Le)&&typeof fetch=="function"?fetch(Le,{credentials:"same-origin"}).then(function(G){var J=WebAssembly.instantiateStreaming(G,M);return J.then(T,function(ie){return ft("wasm streaming compile failed: "+ie),ft("falling back to ArrayBuffer instantiation"),x(T)})}):x(T)}if(r.instantiateWasm)try{var S=r.instantiateWasm(M,m);return S}catch(G){return ft("Module.instantiateWasm callback failed with error: "+G),!1}return z().catch(Ne),{}}function Qr(M){for(;M.length>0;){var m=M.shift();if(typeof m=="function"){m(r);continue}var T=m.func;typeof T=="number"?m.arg===void 0?qt.get(T)():qt.get(T)(m.arg):T(m.arg===void 0?null:m.arg)}}function hr(M,m){}function Rr(M,m){return void 0}function Or(M,m,T,x,z){}function wr(M){switch(M){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+M)}}function vr(){for(var M=new Array(256),m=0;m<256;++m)M[m]=String.fromCharCode(m);gr=M}var gr=void 0;function _t(M){for(var m="",T=M;Be[T];)m+=gr[Be[T++]];return m}var wt={},zt={},Rt={},rt=48,nr=57;function Cr(M){if(M===void 0)return"_unknown";M=M.replace(/[^a-zA-Z0-9_]/g,"$");var m=M.charCodeAt(0);return m>=rt&&m<=nr?"_"+M:M}function Gt(M,m){return M=Cr(M),new Function("body","return function "+M+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(m)}function ir(M,m){var T=Gt(m,function(x){this.name=m,this.message=x;var z=new Error(x).stack;z!==void 0&&(this.stack=this.toString()+`
`+z.replace(/^Error(:[^\n]*)?\n/,""))});return T.prototype=Object.create(M.prototype),T.prototype.constructor=T,T.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},T}var lr=void 0;function Qe(M){throw new lr(M)}var Zt=void 0;function St(M){throw new Zt(M)}function Wt(M,m,T){M.forEach(function(J){Rt[J]=m});function x(J){var ie=T(J);ie.length!==M.length&&St("Mismatched type converter count");for(var de=0;de<M.length;++de)Yt(M[de],ie[de])}var z=new Array(m.length),S=[],G=0;m.forEach(function(J,ie){zt.hasOwnProperty(J)?z[ie]=zt[J]:(S.push(J),wt.hasOwnProperty(J)||(wt[J]=[]),wt[J].push(function(){z[ie]=zt[J],++G,G===S.length&&x(z)}))}),S.length===0&&x(z)}function Yt(M,m,T){if(T=T||{},!("argPackAdvance"in m))throw new TypeError("registerType registeredInstance requires argPackAdvance");var x=m.name;if(M||Qe('type "'+x+'" must have a positive integer typeid pointer'),zt.hasOwnProperty(M)){if(T.ignoreDuplicateRegistrations)return;Qe("Cannot register type '"+x+"' twice")}if(zt[M]=m,delete Rt[M],wt.hasOwnProperty(M)){var z=wt[M];delete wt[M],z.forEach(function(S){S()})}}function pr(M,m,T,x,z){var S=wr(T);m=_t(m),Yt(M,{name:m,fromWireType:function(G){return!!G},toWireType:function(G,J){return J?x:z},argPackAdvance:8,readValueFromPointer:function(G){var J;if(T===1)J=dt;else if(T===2)J=We;else if(T===4)J=Je;else throw new TypeError("Unknown boolean type size: "+m);return this.fromWireType(J[G>>S])},destructorFunction:null})}var Sr=[],Dt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function or(M){M>4&&--Dt[M].refcount===0&&(Dt[M]=void 0,Sr.push(M))}function Xt(){for(var M=0,m=5;m<Dt.length;++m)Dt[m]!==void 0&&++M;return M}function nt(){for(var M=5;M<Dt.length;++M)if(Dt[M]!==void 0)return Dt[M];return null}function dr(){r.count_emval_handles=Xt,r.get_first_emval=nt}function xr(M){switch(M){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var m=Sr.length?Sr.pop():Dt.length;return Dt[m]={refcount:1,value:M},m}}}function Mt(M){return this.fromWireType(tt[M>>2])}function Dr(M,m){m=_t(m),Yt(M,{name:m,fromWireType:function(T){var x=Dt[T].value;return or(T),x},toWireType:function(T,x){return xr(x)},argPackAdvance:8,readValueFromPointer:Mt,destructorFunction:null})}function er(M){if(M===null)return"null";var m=typeof M;return m==="object"||m==="array"||m==="function"?M.toString():""+M}function Ur(M,m){switch(m){case 2:return function(T){return this.fromWireType(Bt[T>>2])};case 3:return function(T){return this.fromWireType(kr[T>>3])};default:throw new TypeError("Unknown float type: "+M)}}function fn(M,m,T){var x=wr(T);m=_t(m),Yt(M,{name:m,fromWireType:function(z){return z},toWireType:function(z,S){if(typeof S!="number"&&typeof S!="boolean")throw new TypeError('Cannot convert "'+er(S)+'" to '+this.name);return S},argPackAdvance:8,readValueFromPointer:Ur(m,x),destructorFunction:null})}function Gr(M,m){if(!(M instanceof Function))throw new TypeError("new_ called with constructor type "+typeof M+" which is not a function");var T=Gt(M.name||"unknownFunctionName",function(){});T.prototype=M.prototype;var x=new T,z=M.apply(x,m);return z instanceof Object?z:x}function Pr(M){for(;M.length;){var m=M.pop(),T=M.pop();T(m)}}function nn(M,m,T,x,z){var S=m.length;S<2&&Qe("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var G=m[1]!==null&&T!==null,J=!1,ie=1;ie<m.length;++ie)if(m[ie]!==null&&m[ie].destructorFunction===void 0){J=!0;break}for(var de=m[0].name!=="void",De="",xe="",ie=0;ie<S-2;++ie)De+=(ie!==0?", ":"")+"arg"+ie,xe+=(ie!==0?", ":"")+"arg"+ie+"Wired";var Re="return function "+Cr(M)+"("+De+`) {
if (arguments.length !== `+(S-2)+`) {
throwBindingError('function `+M+" called with ' + arguments.length + ' arguments, expected "+(S-2)+` args!');
}
`;J&&(Re+=`var destructors = [];
`);var je=J?"destructors":"null",gt=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Y=[Qe,x,z,Pr,m[0],m[1]];G&&(Re+="var thisWired = classParam.toWireType("+je+`, this);
`);for(var ie=0;ie<S-2;++ie)Re+="var arg"+ie+"Wired = argType"+ie+".toWireType("+je+", arg"+ie+"); // "+m[ie+2].name+`
`,gt.push("argType"+ie),Y.push(m[ie+2]);if(G&&(xe="thisWired"+(xe.length>0?", ":"")+xe),Re+=(de?"var rv = ":"")+"invoker(fn"+(xe.length>0?", ":"")+xe+`);
`,J)Re+=`runDestructors(destructors);
`;else for(var ie=G?1:2;ie<m.length;++ie){var C=ie===1?"thisWired":"arg"+(ie-2)+"Wired";m[ie].destructorFunction!==null&&(Re+=C+"_dtor("+C+"); // "+m[ie].name+`
`,gt.push(C+"_dtor"),Y.push(m[ie].destructorFunction))}de&&(Re+=`var ret = retType.fromWireType(rv);
return ret;
`),Re+=`}
`,gt.push(Re);var O=Gr(Function,gt).apply(null,Y);return O}function Dn(M,m,T){if(M[m].overloadTable===void 0){var x=M[m];M[m]=function(){return M[m].overloadTable.hasOwnProperty(arguments.length)||Qe("Function '"+T+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+M[m].overloadTable+")!"),M[m].overloadTable[arguments.length].apply(this,arguments)},M[m].overloadTable=[],M[m].overloadTable[x.argCount]=x}}function on(M,m,T){r.hasOwnProperty(M)?((T===void 0||r[M].overloadTable!==void 0&&r[M].overloadTable[T]!==void 0)&&Qe("Cannot register public name '"+M+"' twice"),Dn(r,M,M),r.hasOwnProperty(T)&&Qe("Cannot register multiple overloads of a function with the same number of arguments ("+T+")!"),r[M].overloadTable[T]=m):(r[M]=m,T!==void 0&&(r[M].numArguments=T))}function Cn(M,m){for(var T=[],x=0;x<M;x++)T.push(Je[(m>>2)+x]);return T}function An(M,m,T){r.hasOwnProperty(M)||St("Replacing nonexistant public symbol"),r[M].overloadTable!==void 0&&T!==void 0?r[M].overloadTable[T]=m:(r[M]=m,r[M].argCount=T)}function In(M,m,T){var x=r["dynCall_"+M];return T&&T.length?x.apply(null,[m].concat(T)):x.call(null,m)}function yn(M,m,T){return M.includes("j")?In(M,m,T):qt.get(m).apply(null,T)}function h(M,m){var T=[];return function(){T.length=arguments.length;for(var x=0;x<arguments.length;x++)T[x]=arguments[x];return yn(M,m,T)}}function P(M,m){M=_t(M);function T(){return M.includes("j")?h(M,m):qt.get(m)}var x=T();return typeof x!="function"&&Qe("unknown function pointer with signature "+M+": "+m),x}var Q=void 0;function pe(M){var m=A(M),T=_t(m);return c(m),T}function me(M,m){var T=[],x={};function z(S){if(!x[S]&&!zt[S]){if(Rt[S]){Rt[S].forEach(z);return}T.push(S),x[S]=!0}}throw m.forEach(z),new Q(M+": "+T.map(pe).join([", "]))}function R(M,m,T,x,z,S){var G=Cn(m,T);M=_t(M),z=P(x,z),on(M,function(){me("Cannot call "+M+" due to unbound types",G)},m-1),Wt([],G,function(J){var ie=[J[0],null].concat(J.slice(1));return An(M,nn(M,ie,null,z,S),m-1),[]})}function U(M,m,T){switch(m){case 0:return T?function(z){return dt[z]}:function(z){return Be[z]};case 1:return T?function(z){return We[z>>1]}:function(z){return sr[z>>1]};case 2:return T?function(z){return Je[z>>2]}:function(z){return tt[z>>2]};default:throw new TypeError("Unknown integer type: "+M)}}function ee(M,m,T,x,z){m=_t(m),z===-1&&(z=4294967295);var S=wr(T),G=function(de){return de};if(x===0){var J=32-8*T;G=function(de){return de<<J>>>J}}var ie=m.includes("unsigned");Yt(M,{name:m,fromWireType:G,toWireType:function(de,De){if(typeof De!="number"&&typeof De!="boolean")throw new TypeError('Cannot convert "'+er(De)+'" to '+this.name);if(De<x||De>z)throw new TypeError('Passing a number "'+er(De)+'" from JS side to C/C++ side to an argument of type "'+m+'", which is outside the valid range ['+x+", "+z+"]!");return ie?De>>>0:De|0},argPackAdvance:8,readValueFromPointer:U(m,S,x!==0),destructorFunction:null})}function ve(M,m,T){var x=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],z=x[m];function S(G){G=G>>2;var J=tt,ie=J[G],de=J[G+1];return new z(Tt,de,ie)}T=_t(T),Yt(M,{name:T,fromWireType:S,argPackAdvance:8,readValueFromPointer:S},{ignoreDuplicateRegistrations:!0})}function He(M,m){m=_t(m);var T=m==="std::string";Yt(M,{name:m,fromWireType:function(x){var z=tt[x>>2],S;if(T)for(var G=x+4,J=0;J<=z;++J){var ie=x+4+J;if(J==z||Be[ie]==0){var de=ie-G,De=$r(G,de);S===void 0?S=De:(S+=String.fromCharCode(0),S+=De),G=ie+1}}else{for(var xe=new Array(z),J=0;J<z;++J)xe[J]=String.fromCharCode(Be[x+4+J]);S=xe.join("")}return c(x),S},toWireType:function(x,z){z instanceof ArrayBuffer&&(z=new Uint8Array(z));var S,G=typeof z=="string";G||z instanceof Uint8Array||z instanceof Uint8ClampedArray||z instanceof Int8Array||Qe("Cannot pass non-string to std::string"),T&&G?S=function(){return bn(z)}:S=function(){return z.length};var J=S(),ie=l(4+J+1);if(tt[ie>>2]=J,T&&G)hn(z,ie+4,J+1);else if(G)for(var de=0;de<J;++de){var De=z.charCodeAt(de);De>255&&(c(ie),Qe("String has UTF-16 code units that do not fit in 8 bits")),Be[ie+4+de]=De}else for(var de=0;de<J;++de)Be[ie+4+de]=z[de];return x!==null&&x.push(c,ie),ie},argPackAdvance:8,readValueFromPointer:Mt,destructorFunction:function(x){c(x)}})}function Ke(M,m,T){T=_t(T);var x,z,S,G,J;m===2?(x=Bn,z=an,G=sn,S=function(){return sr},J=1):m===4&&(x=un,z=Ft,G=Jt,S=function(){return tt},J=2),Yt(M,{name:T,fromWireType:function(ie){for(var de=tt[ie>>2],De=S(),xe,Re=ie+4,je=0;je<=de;++je){var gt=ie+4+je*m;if(je==de||De[gt>>J]==0){var Y=gt-Re,C=x(Re,Y);xe===void 0?xe=C:(xe+=String.fromCharCode(0),xe+=C),Re=gt+m}}return c(ie),xe},toWireType:function(ie,de){typeof de!="string"&&Qe("Cannot pass non-string to C++ string type "+T);var De=G(de),xe=l(4+De+m);return tt[xe>>2]=De>>J,z(de,xe+4,De+m),ie!==null&&ie.push(c,xe),xe},argPackAdvance:8,readValueFromPointer:Mt,destructorFunction:function(ie){c(ie)}})}function ht(M,m){m=_t(m),Yt(M,{isVoid:!0,name:m,argPackAdvance:0,fromWireType:function(){},toWireType:function(T,x){}})}var Xe={};function pt(M){var m=Xe[M];return m===void 0?_t(M):m}function Vt(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function br(M){return M===0?xr(Vt()):(M=pt(M),xr(Vt()[M]))}function Hr(M){M>4&&(Dt[M].refcount+=1)}function ur(M,m){var T=zt[M];return T===void 0&&Qe(m+" has unknown type "+pe(M)),T}function fr(M){for(var m="",T=0;T<M;++T)m+=(T!==0?", ":"")+"arg"+T;for(var x="return function emval_allocator_"+M+`(constructor, argTypes, args) {
`,T=0;T<M;++T)x+="var argType"+T+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+T+'], "parameter '+T+`");
var arg`+T+" = argType"+T+`.readValueFromPointer(args);
args += argType`+T+`['argPackAdvance'];
`;return x+="var obj = new constructor("+m+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",x)(ur,r,xr)}var tr={};function Vr(M){return M||Qe("Cannot use deleted val. handle = "+M),Dt[M].value}function Tr(M,m,T,x){M=Vr(M);var z=tr[m];return z||(z=fr(m),tr[m]=z),z(M,T,x)}function $t(){ae()}function mt(M,m){throw v(M,m||1),"longjmp"}function vt(M,m){return mt(M,m)}function rr(M,m,T){Be.copyWithin(M,m,m+T)}function Er(M){try{return Nt.grow(M-Tt.byteLength+65535>>>16),Wr(Nt.buffer),1}catch{}}function oe(M){var m=Be.length;M=M>>>0;var T=2147483648;if(M>T)return!1;for(var x=1;x<=4;x*=2){var z=m*(1+.2/x);z=Math.min(z,M+100663296);var S=Math.min(T,qe(Math.max(M,z),65536)),G=Er(S);if(G)return!0}return!1}var fe={mappings:{},buffers:[null,[],[]],printChar:function(M,m){var T=fe.buffers[M];m===0||m===10?((M===1?Ot:ft)(tn(T,0)),T.length=0):T.push(m)},varargs:void 0,get:function(){fe.varargs+=4;var M=Je[fe.varargs-4>>2];return M},getStr:function(M){var m=$r(M);return m},get64:function(M,m){return M}};function he(M){return 0}function Ee(M,m,T,x,z){}function Pe(M,m,T,x){for(var z=0,S=0;S<T;S++){for(var G=Je[m+S*8>>2],J=Je[m+(S*8+4)>>2],ie=0;ie<J;ie++)fe.printChar(M,Be[G+ie]);z+=J}return Je[x>>2]=z,0}function Ye(){return Ar()}function it(M){yt(M)}vr(),lr=r.BindingError=ir(Error,"BindingError"),Zt=r.InternalError=ir(Error,"InternalError"),dr(),Q=r.UnboundTypeError=ir(Error,"UnboundTypeError");var E={j:Rr,v:Or,r:pr,B:Dr,q:fn,t:R,e:ee,d:ve,m:He,l:Ke,s:ht,h:or,i:br,n:Hr,o:Tr,a:$t,g:vt,y:rr,k:oe,A:he,u:Ee,z:Pe,b:Ye,f:y,w,p:N,x:D,c:it};Qt(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.D).apply(null,arguments)};var l=r._malloc=function(){return(l=r._malloc=r.asm.E).apply(null,arguments)},c=r._free=function(){return(c=r._free=r.asm.F).apply(null,arguments)},A=r.___getTypeName=function(){return(A=r.___getTypeName=r.asm.G).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.H).apply(null,arguments)};var a=r.stackSave=function(){return(a=r.stackSave=r.asm.I).apply(null,arguments)},f=r.stackRestore=function(){return(f=r.stackRestore=r.asm.J).apply(null,arguments)},v=r._setThrew=function(){return(v=r._setThrew=r.asm.K).apply(null,arguments)};r.dynCall_iiijii=function(){return(r.dynCall_iiijii=r.asm.M).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.N).apply(null,arguments)};function D(M,m,T,x,z,S,G,J){var ie=a();try{qt.get(M)(m,T,x,z,S,G,J)}catch(de){if(f(ie),de!==de+0&&de!=="longjmp")throw de;v(1,0)}}function N(M,m,T,x,z){var S=a();try{qt.get(M)(m,T,x,z)}catch(G){if(f(S),G!==G+0&&G!=="longjmp")throw G;v(1,0)}}function y(M,m,T){var x=a();try{return qt.get(M)(m,T)}catch(z){if(f(x),z!==z+0&&z!=="longjmp")throw z;v(1,0)}}function w(M,m,T,x,z){var S=a();try{return qt.get(M)(m,T,x,z)}catch(G){if(f(S),G!==G+0&&G!=="longjmp")throw G;v(1,0)}}var k;Se=function M(){k||te(),k||(Se=M)};function te(M){if(cr>0||(gn(),cr>0))return;function m(){k||(k=!0,r.calledRun=!0,!Jr&&(Lr(),Fe(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),qr()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),m()},1)):m()}if(r.run=te,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return te(),r.ready}}(),ye=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/avif_node_dec-94f55a8c.wasm").href:new URL("avif_node_dec-94f55a8c.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,Ue=function(){return function(r){r=r||{};var r=typeof r<"u"?r:{},Fe,Ne;r.ready=new Promise(function(C,O){Fe=C,Ne=O});var Oe={},Ce;for(Ce in r)r.hasOwnProperty(Ce)&&(Oe[Ce]=r[Ce]);var Ct="./this.program",at=!1,At="";function It(C){return r.locateFile?r.locateFile(C,At):At+C}var Lt,Kt,Ht,Ot;At=__dirname+"/",Lt=function(O,g){return Ht||(Ht=Zr),Ot||(Ot=Zr),O=Ot.normalize(O),Ht.readFileSync(O,g?null:"utf8")},Kt=function(O){var g=Lt(O,!0);return g.buffer||(g=new Uint8Array(g)),Nt(g.buffer),g},process.argv.length>1&&(Ct=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),r.inspect=function(){return"[Emscripten Module object]"};var ft=r.print||console.log.bind(console),ct=r.printErr||console.warn.bind(console);for(Ce in Oe)Oe.hasOwnProperty(Ce)&&(r[Ce]=Oe[Ce]);Oe=null,r.arguments&&r.arguments,r.thisProgram&&(Ct=r.thisProgram),r.quit&&r.quit;var yt;r.wasmBinary&&(yt=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&ae("no native wasm support detected");var Ar,Mr=!1;function Nt(C,O){C||ae("Assertion failed: "+O)}var Jr=new TextDecoder("utf8");function Fr(C,O,g){for(var b=O+g,H=O;C[H]&&!(H>=b);)++H;return Jr.decode(C.subarray?C.subarray(O,H):new Uint8Array(C.slice(O,H)))}function jr(C,O){if(!C)return"";for(var g=C+O,b=C;!(b>=g)&&Be[b];)++b;return Jr.decode(Be.subarray(C,b))}function tn(C,O,g,b){if(!(b>0))return 0;for(var H=g,Z=g+b-1,se=0;se<C.length;++se){var ue=C.charCodeAt(se);if(ue>=55296&&ue<=57343){var ge=C.charCodeAt(++se);ue=65536+((ue&1023)<<10)|ge&1023}if(ue<=127){if(g>=Z)break;O[g++]=ue}else if(ue<=2047){if(g+1>=Z)break;O[g++]=192|ue>>6,O[g++]=128|ue&63}else if(ue<=65535){if(g+2>=Z)break;O[g++]=224|ue>>12,O[g++]=128|ue>>6&63,O[g++]=128|ue&63}else{if(g+3>=Z)break;O[g++]=240|ue>>18,O[g++]=128|ue>>12&63,O[g++]=128|ue>>6&63,O[g++]=128|ue&63}}return O[g]=0,g-H}function $r(C,O,g){return tn(C,Be,O,g)}function vn(C){for(var O=0,g=0;g<C.length;++g){var b=C.charCodeAt(g);b>=55296&&b<=57343&&(b=65536+((b&1023)<<10)|C.charCodeAt(++g)&1023),b<=127?++O:b<=2047?O+=2:b<=65535?O+=3:O+=4}return O}var hn=new TextDecoder("utf-16le");function bn(C,O){for(var g=C,b=g>>1,H=b+O/2;!(b>=H)&&sr[b];)++b;return g=b<<1,hn.decode(Be.subarray(C,g))}function En(C,O,g){if(g===void 0&&(g=2147483647),g<2)return 0;g-=2;for(var b=O,H=g<C.length*2?g/2:C.length,Z=0;Z<H;++Z){var se=C.charCodeAt(Z);We[O>>1]=se,O+=2}return We[O>>1]=0,O-b}function Bn(C){return C.length*2}function an(C,O){for(var g=0,b="";!(g>=O/4);){var H=Je[C+g*4>>2];if(H==0)break;if(++g,H>=65536){var Z=H-65536;b+=String.fromCharCode(55296|Z>>10,56320|Z&1023)}else b+=String.fromCharCode(H)}return b}function sn(C,O,g){if(g===void 0&&(g=2147483647),g<4)return 0;for(var b=O,H=b+g-4,Z=0;Z<C.length;++Z){var se=C.charCodeAt(Z);if(se>=55296&&se<=57343){var ue=C.charCodeAt(++Z);se=65536+((se&1023)<<10)|ue&1023}if(Je[O>>2]=se,O+=4,O+4>H)break}return Je[O>>2]=0,O-b}function un(C){for(var O=0,g=0;g<C.length;++g){var b=C.charCodeAt(g);b>=55296&&b<=57343&&++g,O+=4}return O}function Ft(C,O){dt.set(C,O)}function Jt(C,O,g){for(var b=0;b<C.length;++b)dt[O++>>0]=C.charCodeAt(b);g||(dt[O>>0]=0)}function qe(C,O){return C%O>0&&(C+=O-C%O),C}var Tt,dt,Be,We,sr,Je,tt,Bt,kr;function Wr(C){Tt=C,r.HEAP8=dt=new Int8Array(C),r.HEAP16=We=new Int16Array(C),r.HEAP32=Je=new Int32Array(C),r.HEAPU8=Be=new Uint8Array(C),r.HEAPU16=sr=new Uint16Array(C),r.HEAPU32=tt=new Uint32Array(C),r.HEAPF32=Bt=new Float32Array(C),r.HEAPF64=kr=new Float64Array(C)}r.INITIAL_MEMORY;var qt,Nr=[],rn=[],cn=[];function gn(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)kt(r.preRun.shift());Qr(Nr)}function Lr(){Qr(rn)}function qr(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)zr(r.postRun.shift());Qr(cn)}function kt(C){Nr.unshift(C)}function mr(C){rn.unshift(C)}function zr(C){cn.unshift(C)}var cr=0,Se=null;function j(C){cr++,r.monitorRunDependencies&&r.monitorRunDependencies(cr)}function $(C){if(cr--,r.monitorRunDependencies&&r.monitorRunDependencies(cr),cr==0&&Se){var O=Se;Se=null,O()}}r.preloadedImages={},r.preloadedAudios={};function ae(C){r.onAbort&&r.onAbort(C),C+="",ct(C),Mr=!0,C="abort("+C+"). Build with -s ASSERTIONS=1 for more info.";var O=new WebAssembly.RuntimeError(C);throw Ne(O),O}var Ae="data:application/octet-stream;base64,";function Ie(C){return C.startsWith(Ae)}if(r.locateFile){var Le="jxl_node_enc.wasm";Ie(Le)||(Le=It(Le))}else var Le=new URL("jxl_node_enc.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href).toString();function Ut(C){try{if(C==Le&&yt)return new Uint8Array(yt);if(Kt)return Kt(C);throw"both async and sync fetching of the wasm failed"}catch(O){ae(O)}}function yr(){return!yt&&at&&typeof fetch=="function"?fetch(Le,{credentials:"same-origin"}).then(function(C){if(!C.ok)throw"failed to load wasm binary file at '"+Le+"'";return C.arrayBuffer()}).catch(function(){return Ut(Le)}):Promise.resolve().then(function(){return Ut(Le)})}function Qt(){var C={a:De};function O(se,ue){var ge=se.exports;r.asm=ge,Ar=r.asm.J,Wr(Ar.buffer),qt=r.asm.Q,mr(r.asm.K),$()}j();function g(se){O(se.instance)}function b(se){return yr().then(function(ue){var ge=WebAssembly.instantiate(ue,C);return ge}).then(se,function(ue){ct("failed to asynchronously prepare wasm: "+ue),ae(ue)})}function H(){return!yt&&typeof WebAssembly.instantiateStreaming=="function"&&!Ie(Le)&&typeof fetch=="function"?fetch(Le,{credentials:"same-origin"}).then(function(se){var ue=WebAssembly.instantiateStreaming(se,C);return ue.then(g,function(ge){return ct("wasm streaming compile failed: "+ge),ct("falling back to ArrayBuffer instantiation"),b(g)})}):b(g)}if(r.instantiateWasm)try{var Z=r.instantiateWasm(C,O);return Z}catch(se){return ct("Module.instantiateWasm callback failed with error: "+se),!1}return H().catch(Ne),{}}function Qr(C){for(;C.length>0;){var O=C.shift();if(typeof O=="function"){O(r);continue}var g=O.func;typeof g=="number"?O.arg===void 0?qt.get(g)():qt.get(g)(O.arg):g(O.arg===void 0?null:O.arg)}}var hr={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function Rr(C){return xe(C+hr.SIZE)+hr.SIZE}function Or(C,O){}function wr(C,O){return void 0}function vr(C){this.excPtr=C,this.ptr=C-hr.SIZE,this.set_type=function(O){Je[this.ptr+hr.TYPE_OFFSET>>2]=O},this.get_type=function(){return Je[this.ptr+hr.TYPE_OFFSET>>2]},this.set_destructor=function(O){Je[this.ptr+hr.DESTRUCTOR_OFFSET>>2]=O},this.get_destructor=function(){return Je[this.ptr+hr.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(O){Je[this.ptr+hr.REFCOUNT_OFFSET>>2]=O},this.set_caught=function(O){O=O?1:0,dt[this.ptr+hr.CAUGHT_OFFSET>>0]=O},this.get_caught=function(){return dt[this.ptr+hr.CAUGHT_OFFSET>>0]!=0},this.set_rethrown=function(O){O=O?1:0,dt[this.ptr+hr.RETHROWN_OFFSET>>0]=O},this.get_rethrown=function(){return dt[this.ptr+hr.RETHROWN_OFFSET>>0]!=0},this.init=function(O,g){this.set_type(O),this.set_destructor(g),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var O=Je[this.ptr+hr.REFCOUNT_OFFSET>>2];Je[this.ptr+hr.REFCOUNT_OFFSET>>2]=O+1},this.release_ref=function(){var O=Je[this.ptr+hr.REFCOUNT_OFFSET>>2];return Je[this.ptr+hr.REFCOUNT_OFFSET>>2]=O-1,O===1}}function gr(C,O,g){var b=new vr(C);throw b.init(O,g),C}var _t={mappings:{},buffers:[null,[],[]],printChar:function(C,O){var g=_t.buffers[C];O===0||O===10?((C===1?ft:ct)(Fr(g,0)),g.length=0):g.push(O)},varargs:void 0,get:function(){_t.varargs+=4;var C=Je[_t.varargs-4>>2];return C},getStr:function(C){var O=jr(C);return O},get64:function(C,O){return C}};function wt(C,O,g){return _t.varargs=g,0}function zt(C,O,g){return _t.varargs=g,0}function Rt(C,O,g){_t.varargs=g}var rt={};function nr(C){for(;C.length;){var O=C.pop(),g=C.pop();g(O)}}function Cr(C){return this.fromWireType(tt[C>>2])}var Gt={},ir={},lr={},Qe=48,Zt=57;function St(C){if(C===void 0)return"_unknown";C=C.replace(/[^a-zA-Z0-9_]/g,"$");var O=C.charCodeAt(0);return O>=Qe&&O<=Zt?"_"+C:C}function Wt(C,O){return C=St(C),new Function("body","return function "+C+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(O)}function Yt(C,O){var g=Wt(O,function(b){this.name=O,this.message=b;var H=new Error(b).stack;H!==void 0&&(this.stack=this.toString()+`
`+H.replace(/^Error(:[^\n]*)?\n/,""))});return g.prototype=Object.create(C.prototype),g.prototype.constructor=g,g.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},g}var pr=void 0;function Sr(C){throw new pr(C)}function Dt(C,O,g){C.forEach(function(ue){lr[ue]=O});function b(ue){var ge=g(ue);ge.length!==C.length&&Sr("Mismatched type converter count");for(var be=0;be<C.length;++be)Ur(C[be],ge[be])}var H=new Array(O.length),Z=[],se=0;O.forEach(function(ue,ge){ir.hasOwnProperty(ue)?H[ge]=ir[ue]:(Z.push(ue),Gt.hasOwnProperty(ue)||(Gt[ue]=[]),Gt[ue].push(function(){H[ge]=ir[ue],++se,se===Z.length&&b(H)}))}),Z.length===0&&b(H)}function or(C){var O=rt[C];delete rt[C];var g=O.rawConstructor,b=O.rawDestructor,H=O.fields,Z=H.map(function(se){return se.getterReturnType}).concat(H.map(function(se){return se.setterArgumentType}));Dt([C],Z,function(se){var ue={};return H.forEach(function(ge,be){var Te=ge.fieldName,ze=se[be],lt=ge.getter,ar=ge.getterContext,Ir=se[be+H.length],Yr=ge.setter,Tn=ge.setterContext;ue[Te]={read:function(Kn){return ze.fromWireType(lt(ar,Kn))},write:function(Kn,$e){var _r=[];Yr(Tn,Kn,Ir.toWireType(_r,$e)),nr(_r)}}}),[{name:O.name,fromWireType:function(ge){var be={};for(var Te in ue)be[Te]=ue[Te].read(ge);return b(ge),be},toWireType:function(ge,be){for(var Te in ue)if(!(Te in be))throw new TypeError('Missing field:  "'+Te+'"');var ze=g();for(Te in ue)ue[Te].write(ze,be[Te]);return ge!==null&&ge.push(b,ze),ze},argPackAdvance:8,readValueFromPointer:Cr,destructorFunction:b}]})}function Xt(C,O,g,b,H){}function nt(C){switch(C){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+C)}}function dr(){for(var C=new Array(256),O=0;O<256;++O)C[O]=String.fromCharCode(O);xr=C}var xr=void 0;function Mt(C){for(var O="",g=C;Be[g];)O+=xr[Be[g++]];return O}var Dr=void 0;function er(C){throw new Dr(C)}function Ur(C,O,g){if(g=g||{},!("argPackAdvance"in O))throw new TypeError("registerType registeredInstance requires argPackAdvance");var b=O.name;if(C||er('type "'+b+'" must have a positive integer typeid pointer'),ir.hasOwnProperty(C)){if(g.ignoreDuplicateRegistrations)return;er("Cannot register type '"+b+"' twice")}if(ir[C]=O,delete lr[C],Gt.hasOwnProperty(C)){var H=Gt[C];delete Gt[C],H.forEach(function(Z){Z()})}}function fn(C,O,g,b,H){var Z=nt(g);O=Mt(O),Ur(C,{name:O,fromWireType:function(se){return!!se},toWireType:function(se,ue){return ue?b:H},argPackAdvance:8,readValueFromPointer:function(se){var ue;if(g===1)ue=dt;else if(g===2)ue=We;else if(g===4)ue=Je;else throw new TypeError("Unknown boolean type size: "+O);return this.fromWireType(ue[se>>Z])},destructorFunction:null})}var Gr=[],Pr=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function nn(C){C>4&&--Pr[C].refcount===0&&(Pr[C]=void 0,Gr.push(C))}function Dn(){for(var C=0,O=5;O<Pr.length;++O)Pr[O]!==void 0&&++C;return C}function on(){for(var C=5;C<Pr.length;++C)if(Pr[C]!==void 0)return Pr[C];return null}function Cn(){r.count_emval_handles=Dn,r.get_first_emval=on}function An(C){switch(C){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var O=Gr.length?Gr.pop():Pr.length;return Pr[O]={refcount:1,value:C},O}}}function In(C,O){O=Mt(O),Ur(C,{name:O,fromWireType:function(g){var b=Pr[g].value;return nn(g),b},toWireType:function(g,b){return An(b)},argPackAdvance:8,readValueFromPointer:Cr,destructorFunction:null})}function yn(C){if(C===null)return"null";var O=typeof C;return O==="object"||O==="array"||O==="function"?C.toString():""+C}function h(C,O){switch(O){case 2:return function(g){return this.fromWireType(Bt[g>>2])};case 3:return function(g){return this.fromWireType(kr[g>>3])};default:throw new TypeError("Unknown float type: "+C)}}function P(C,O,g){var b=nt(g);O=Mt(O),Ur(C,{name:O,fromWireType:function(H){return H},toWireType:function(H,Z){if(typeof Z!="number"&&typeof Z!="boolean")throw new TypeError('Cannot convert "'+yn(Z)+'" to '+this.name);return Z},argPackAdvance:8,readValueFromPointer:h(O,b),destructorFunction:null})}function Q(C,O){if(!(C instanceof Function))throw new TypeError("new_ called with constructor type "+typeof C+" which is not a function");var g=Wt(C.name||"unknownFunctionName",function(){});g.prototype=C.prototype;var b=new g,H=C.apply(b,O);return H instanceof Object?H:b}function pe(C,O,g,b,H){var Z=O.length;Z<2&&er("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var se=O[1]!==null&&g!==null,ue=!1,ge=1;ge<O.length;++ge)if(O[ge]!==null&&O[ge].destructorFunction===void 0){ue=!0;break}for(var be=O[0].name!=="void",Te="",ze="",ge=0;ge<Z-2;++ge)Te+=(ge!==0?", ":"")+"arg"+ge,ze+=(ge!==0?", ":"")+"arg"+ge+"Wired";var lt="return function "+St(C)+"("+Te+`) {
if (arguments.length !== `+(Z-2)+`) {
throwBindingError('function `+C+" called with ' + arguments.length + ' arguments, expected "+(Z-2)+` args!');
}
`;ue&&(lt+=`var destructors = [];
`);var ar=ue?"destructors":"null",Ir=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Yr=[er,b,H,nr,O[0],O[1]];se&&(lt+="var thisWired = classParam.toWireType("+ar+`, this);
`);for(var ge=0;ge<Z-2;++ge)lt+="var arg"+ge+"Wired = argType"+ge+".toWireType("+ar+", arg"+ge+"); // "+O[ge+2].name+`
`,Ir.push("argType"+ge),Yr.push(O[ge+2]);if(se&&(ze="thisWired"+(ze.length>0?", ":"")+ze),lt+=(be?"var rv = ":"")+"invoker(fn"+(ze.length>0?", ":"")+ze+`);
`,ue)lt+=`runDestructors(destructors);
`;else for(var ge=se?1:2;ge<O.length;++ge){var Tn=ge===1?"thisWired":"arg"+(ge-2)+"Wired";O[ge].destructorFunction!==null&&(lt+=Tn+"_dtor("+Tn+"); // "+O[ge].name+`
`,Ir.push(Tn+"_dtor"),Yr.push(O[ge].destructorFunction))}be&&(lt+=`var ret = retType.fromWireType(rv);
return ret;
`),lt+=`}
`,Ir.push(lt);var Kn=Q(Function,Ir).apply(null,Yr);return Kn}function me(C,O,g){if(C[O].overloadTable===void 0){var b=C[O];C[O]=function(){return C[O].overloadTable.hasOwnProperty(arguments.length)||er("Function '"+g+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+C[O].overloadTable+")!"),C[O].overloadTable[arguments.length].apply(this,arguments)},C[O].overloadTable=[],C[O].overloadTable[b.argCount]=b}}function R(C,O,g){r.hasOwnProperty(C)?((g===void 0||r[C].overloadTable!==void 0&&r[C].overloadTable[g]!==void 0)&&er("Cannot register public name '"+C+"' twice"),me(r,C,C),r.hasOwnProperty(g)&&er("Cannot register multiple overloads of a function with the same number of arguments ("+g+")!"),r[C].overloadTable[g]=O):(r[C]=O,g!==void 0&&(r[C].numArguments=g))}function U(C,O){for(var g=[],b=0;b<C;b++)g.push(Je[(O>>2)+b]);return g}function ee(C,O,g){r.hasOwnProperty(C)||Sr("Replacing nonexistant public symbol"),r[C].overloadTable!==void 0&&g!==void 0?r[C].overloadTable[g]=O:(r[C]=O,r[C].argCount=g)}function ve(C,O,g){var b=r["dynCall_"+C];return g&&g.length?b.apply(null,[O].concat(g)):b.call(null,O)}function He(C,O,g){return C.includes("j")?ve(C,O,g):qt.get(O).apply(null,g)}function Ke(C,O){var g=[];return function(){g.length=arguments.length;for(var b=0;b<arguments.length;b++)g[b]=arguments[b];return He(C,O,g)}}function ht(C,O){C=Mt(C);function g(){return C.includes("j")?Ke(C,O):qt.get(O)}var b=g();return typeof b!="function"&&er("unknown function pointer with signature "+C+": "+O),b}var Xe=void 0;function pt(C){var O=je(C),g=Mt(O);return Re(O),g}function Vt(C,O){var g=[],b={};function H(Z){if(!b[Z]&&!ir[Z]){if(lr[Z]){lr[Z].forEach(H);return}g.push(Z),b[Z]=!0}}throw O.forEach(H),new Xe(C+": "+g.map(pt).join([", "]))}function br(C,O,g,b,H,Z){var se=U(O,g);C=Mt(C),H=ht(b,H),R(C,function(){Vt("Cannot call "+C+" due to unbound types",se)},O-1),Dt([],se,function(ue){var ge=[ue[0],null].concat(ue.slice(1));return ee(C,pe(C,ge,null,H,Z),O-1),[]})}function Hr(C,O,g){switch(O){case 0:return g?function(H){return dt[H]}:function(H){return Be[H]};case 1:return g?function(H){return We[H>>1]}:function(H){return sr[H>>1]};case 2:return g?function(H){return Je[H>>2]}:function(H){return tt[H>>2]};default:throw new TypeError("Unknown integer type: "+C)}}function ur(C,O,g,b,H){O=Mt(O),H===-1&&(H=4294967295);var Z=nt(g),se=function(be){return be};if(b===0){var ue=32-8*g;se=function(be){return be<<ue>>>ue}}var ge=O.includes("unsigned");Ur(C,{name:O,fromWireType:se,toWireType:function(be,Te){if(typeof Te!="number"&&typeof Te!="boolean")throw new TypeError('Cannot convert "'+yn(Te)+'" to '+this.name);if(Te<b||Te>H)throw new TypeError('Passing a number "'+yn(Te)+'" from JS side to C/C++ side to an argument of type "'+O+'", which is outside the valid range ['+b+", "+H+"]!");return ge?Te>>>0:Te|0},argPackAdvance:8,readValueFromPointer:Hr(O,Z,b!==0),destructorFunction:null})}function fr(C,O,g){var b=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],H=b[O];function Z(se){se=se>>2;var ue=tt,ge=ue[se],be=ue[se+1];return new H(Tt,be,ge)}g=Mt(g),Ur(C,{name:g,fromWireType:Z,argPackAdvance:8,readValueFromPointer:Z},{ignoreDuplicateRegistrations:!0})}function tr(C,O){O=Mt(O);var g=O==="std::string";Ur(C,{name:O,fromWireType:function(b){var H=tt[b>>2],Z;if(g)for(var se=b+4,ue=0;ue<=H;++ue){var ge=b+4+ue;if(ue==H||Be[ge]==0){var be=ge-se,Te=jr(se,be);Z===void 0?Z=Te:(Z+=String.fromCharCode(0),Z+=Te),se=ge+1}}else{for(var ze=new Array(H),ue=0;ue<H;++ue)ze[ue]=String.fromCharCode(Be[b+4+ue]);Z=ze.join("")}return Re(b),Z},toWireType:function(b,H){H instanceof ArrayBuffer&&(H=new Uint8Array(H));var Z,se=typeof H=="string";se||H instanceof Uint8Array||H instanceof Uint8ClampedArray||H instanceof Int8Array||er("Cannot pass non-string to std::string"),g&&se?Z=function(){return vn(H)}:Z=function(){return H.length};var ue=Z(),ge=xe(4+ue+1);if(tt[ge>>2]=ue,g&&se)$r(H,ge+4,ue+1);else if(se)for(var be=0;be<ue;++be){var Te=H.charCodeAt(be);Te>255&&(Re(ge),er("String has UTF-16 code units that do not fit in 8 bits")),Be[ge+4+be]=Te}else for(var be=0;be<ue;++be)Be[ge+4+be]=H[be];return b!==null&&b.push(Re,ge),ge},argPackAdvance:8,readValueFromPointer:Cr,destructorFunction:function(b){Re(b)}})}function Vr(C,O,g){g=Mt(g);var b,H,Z,se,ue;O===2?(b=bn,H=En,se=Bn,Z=function(){return sr},ue=1):O===4&&(b=an,H=sn,se=un,Z=function(){return tt},ue=2),Ur(C,{name:g,fromWireType:function(ge){for(var be=tt[ge>>2],Te=Z(),ze,lt=ge+4,ar=0;ar<=be;++ar){var Ir=ge+4+ar*O;if(ar==be||Te[Ir>>ue]==0){var Yr=Ir-lt,Tn=b(lt,Yr);ze===void 0?ze=Tn:(ze+=String.fromCharCode(0),ze+=Tn),lt=Ir+O}}return Re(ge),ze},toWireType:function(ge,be){typeof be!="string"&&er("Cannot pass non-string to C++ string type "+g);var Te=se(be),ze=xe(4+Te+O);return tt[ze>>2]=Te>>ue,H(be,ze+4,Te+O),ge!==null&&ge.push(Re,ze),ze},argPackAdvance:8,readValueFromPointer:Cr,destructorFunction:function(ge){Re(ge)}})}function Tr(C,O,g,b,H,Z){rt[C]={name:Mt(O),rawConstructor:ht(g,b),rawDestructor:ht(H,Z),fields:[]}}function $t(C,O,g,b,H,Z,se,ue,ge,be){rt[C].fields.push({fieldName:Mt(O),getterReturnType:g,getter:ht(b,H),getterContext:Z,setterArgumentType:se,setter:ht(ue,ge),setterContext:be})}function mt(C,O){O=Mt(O),Ur(C,{isVoid:!0,name:O,argPackAdvance:0,fromWireType:function(){},toWireType:function(g,b){}})}var vt={};function rr(C){var O=vt[C];return O===void 0?Mt(C):O}function Er(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function oe(C){return C===0?An(Er()):(C=rr(C),An(Er()[C]))}function fe(C){C>4&&(Pr[C].refcount+=1)}function he(C,O){var g=ir[C];return g===void 0&&er(O+" has unknown type "+pt(C)),g}function Ee(C){for(var O="",g=0;g<C;++g)O+=(g!==0?", ":"")+"arg"+g;for(var b="return function emval_allocator_"+C+`(constructor, argTypes, args) {
`,g=0;g<C;++g)b+="var argType"+g+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+g+'], "parameter '+g+`");
var arg`+g+" = argType"+g+`.readValueFromPointer(args);
args += argType`+g+`['argPackAdvance'];
`;return b+="var obj = new constructor("+O+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",b)(he,r,An)}var Pe={};function Ye(C){return C||er("Cannot use deleted val. handle = "+C),Pr[C].value}function it(C,O,g,b){C=Ye(C);var H=Pe[O];return H||(H=Ee(O),Pe[O]=H),H(C,g,b)}function E(){ae()}function l(C,O,g){Be.copyWithin(C,O,O+g)}function c(C){try{return Ar.grow(C-Tt.byteLength+65535>>>16),Wr(Ar.buffer),1}catch{}}function A(C){var O=Be.length;C=C>>>0;var g=2147483648;if(C>g)return!1;for(var b=1;b<=4;b*=2){var H=O*(1+.2/b);H=Math.min(H,C+100663296);var Z=Math.min(g,qe(Math.max(C,H),65536)),se=c(Z);if(se)return!0}return!1}var a={};function f(){return Ct||"./this.program"}function v(){if(!v.strings){var C=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",O={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:C,_:f()};for(var g in a)O[g]=a[g];var b=[];for(var g in O)b.push(g+"="+O[g]);v.strings=b}return v.strings}function D(C,O){var g=0;return v().forEach(function(b,H){var Z=O+g;Je[C+H*4>>2]=Z,Jt(b,Z),g+=b.length+1}),0}function N(C,O){var g=v();Je[C>>2]=g.length;var b=0;return g.forEach(function(H){b+=H.length+1}),Je[O>>2]=b,0}function y(C){return 0}function w(C,O,g,b){var H=_t.getStreamFromFD(C),Z=_t.doReadv(H,O,g);return Je[b>>2]=Z,0}function k(C,O,g,b,H){}function te(C,O,g,b){for(var H=0,Z=0;Z<g;Z++){for(var se=Je[O+Z*8>>2],ue=Je[O+(Z*8+4)>>2],ge=0;ge<ue;ge++)_t.printChar(C,Be[se+ge]);H+=ue}return Je[b>>2]=H,0}function M(C){}function m(C){return C%4===0&&(C%100!==0||C%400===0)}function T(C,O){for(var g=0,b=0;b<=O;g+=C[b++]);return g}var x=[31,29,31,30,31,30,31,31,30,31,30,31],z=[31,28,31,30,31,30,31,31,30,31,30,31];function S(C,O){for(var g=new Date(C.getTime());O>0;){var b=m(g.getFullYear()),H=g.getMonth(),Z=(b?x:z)[H];if(O>Z-g.getDate())O-=Z-g.getDate()+1,g.setDate(1),H<11?g.setMonth(H+1):(g.setMonth(0),g.setFullYear(g.getFullYear()+1));else return g.setDate(g.getDate()+O),g}return g}function G(C,O,g,b){var H=Je[b+40>>2],Z={tm_sec:Je[b>>2],tm_min:Je[b+4>>2],tm_hour:Je[b+8>>2],tm_mday:Je[b+12>>2],tm_mon:Je[b+16>>2],tm_year:Je[b+20>>2],tm_wday:Je[b+24>>2],tm_yday:Je[b+28>>2],tm_isdst:Je[b+32>>2],tm_gmtoff:Je[b+36>>2],tm_zone:H?jr(H):""},se=jr(g),ue={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var ge in ue)se=se.replace(new RegExp(ge,"g"),ue[ge]);var be=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Te=["January","February","March","April","May","June","July","August","September","October","November","December"];function ze($e,_r,Yn){for(var Fn=typeof $e=="number"?$e.toString():$e||"";Fn.length<_r;)Fn=Yn[0]+Fn;return Fn}function lt($e,_r){return ze($e,_r,"0")}function ar($e,_r){function Yn(uo){return uo<0?-1:uo>0?1:0}var Fn;return(Fn=Yn($e.getFullYear()-_r.getFullYear()))===0&&(Fn=Yn($e.getMonth()-_r.getMonth()))===0&&(Fn=Yn($e.getDate()-_r.getDate())),Fn}function Ir($e){switch($e.getDay()){case 0:return new Date($e.getFullYear()-1,11,29);case 1:return $e;case 2:return new Date($e.getFullYear(),0,3);case 3:return new Date($e.getFullYear(),0,2);case 4:return new Date($e.getFullYear(),0,1);case 5:return new Date($e.getFullYear()-1,11,31);case 6:return new Date($e.getFullYear()-1,11,30)}}function Yr($e){var _r=S(new Date($e.tm_year+1900,0,1),$e.tm_yday),Yn=new Date(_r.getFullYear(),0,4),Fn=new Date(_r.getFullYear()+1,0,4),uo=Ir(Yn),ho=Ir(Fn);return ar(uo,_r)<=0?ar(ho,_r)<=0?_r.getFullYear()+1:_r.getFullYear():_r.getFullYear()-1}var Tn={"%a":function($e){return be[$e.tm_wday].substring(0,3)},"%A":function($e){return be[$e.tm_wday]},"%b":function($e){return Te[$e.tm_mon].substring(0,3)},"%B":function($e){return Te[$e.tm_mon]},"%C":function($e){var _r=$e.tm_year+1900;return lt(_r/100|0,2)},"%d":function($e){return lt($e.tm_mday,2)},"%e":function($e){return ze($e.tm_mday,2," ")},"%g":function($e){return Yr($e).toString().substring(2)},"%G":function($e){return Yr($e)},"%H":function($e){return lt($e.tm_hour,2)},"%I":function($e){var _r=$e.tm_hour;return _r==0?_r=12:_r>12&&(_r-=12),lt(_r,2)},"%j":function($e){return lt($e.tm_mday+T(m($e.tm_year+1900)?x:z,$e.tm_mon-1),3)},"%m":function($e){return lt($e.tm_mon+1,2)},"%M":function($e){return lt($e.tm_min,2)},"%n":function(){return`
`},"%p":function($e){return $e.tm_hour>=0&&$e.tm_hour<12?"AM":"PM"},"%S":function($e){return lt($e.tm_sec,2)},"%t":function(){return"	"},"%u":function($e){return $e.tm_wday||7},"%U":function($e){var _r=new Date($e.tm_year+1900,0,1),Yn=_r.getDay()===0?_r:S(_r,7-_r.getDay()),Fn=new Date($e.tm_year+1900,$e.tm_mon,$e.tm_mday);if(ar(Yn,Fn)<0){var uo=T(m(Fn.getFullYear())?x:z,Fn.getMonth()-1)-31,ho=31-Yn.getDate(),Ao=ho+uo+Fn.getDate();return lt(Math.ceil(Ao/7),2)}return ar(Yn,_r)===0?"01":"00"},"%V":function($e){var _r=new Date($e.tm_year+1900,0,4),Yn=new Date($e.tm_year+1901,0,4),Fn=Ir(_r),uo=Ir(Yn),ho=S(new Date($e.tm_year+1900,0,1),$e.tm_yday);if(ar(ho,Fn)<0)return"53";if(ar(uo,ho)<=0)return"01";var Ao;return Fn.getFullYear()<$e.tm_year+1900?Ao=$e.tm_yday+32-Fn.getDate():Ao=$e.tm_yday+1-Fn.getDate(),lt(Math.ceil(Ao/7),2)},"%w":function($e){return $e.tm_wday},"%W":function($e){var _r=new Date($e.tm_year,0,1),Yn=_r.getDay()===1?_r:S(_r,_r.getDay()===0?1:7-_r.getDay()+1),Fn=new Date($e.tm_year+1900,$e.tm_mon,$e.tm_mday);if(ar(Yn,Fn)<0){var uo=T(m(Fn.getFullYear())?x:z,Fn.getMonth()-1)-31,ho=31-Yn.getDate(),Ao=ho+uo+Fn.getDate();return lt(Math.ceil(Ao/7),2)}return ar(Yn,_r)===0?"01":"00"},"%y":function($e){return($e.tm_year+1900).toString().substring(2)},"%Y":function($e){return $e.tm_year+1900},"%z":function($e){var _r=$e.tm_gmtoff,Yn=_r>=0;return _r=Math.abs(_r)/60,_r=_r/60*100+_r%60,(Yn?"+":"-")+String("0000"+_r).slice(-4)},"%Z":function($e){return $e.tm_zone},"%%":function(){return"%"}};for(var ge in Tn)se.includes(ge)&&(se=se.replace(new RegExp(ge,"g"),Tn[ge](Z)));var Kn=de(se,!1);return Kn.length>O?0:(Ft(Kn,C),Kn.length-1)}function J(C,O,g,b){return G(C,O,g,b)}function ie(C){{if(!C)return 1;var O=jr(C);if(!O.length)return 0;var g=Zr,b=g.spawnSync(O,[],{shell:!0,stdio:"inherit"}),H=function(se,ue){return se<<8|ue};if(b.status===null){var Z=function(se){switch(se){case"SIGHUP":return 1;case"SIGINT":return 2;case"SIGQUIT":return 3;case"SIGFPE":return 8;case"SIGKILL":return 9;case"SIGALRM":return 14;case"SIGTERM":return 15}return 2};return H(0,Z(b.signal))}return H(b.status,0)}}pr=r.InternalError=Yt(Error,"InternalError"),dr(),Dr=r.BindingError=Yt(Error,"BindingError"),Cn(),Xe=r.UnboundTypeError=Yt(Error,"UnboundTypeError");function de(C,O,g){var b=g>0?g:vn(C)+1,H=new Array(b),Z=tn(C,H,0,H.length);return O&&(H.length=Z),H}var De={u:Rr,I:wr,p:gr,h:wt,A:zt,B:Rt,m:or,r:Xt,D:fn,C:In,j:P,l:br,c:ur,b:fr,k:tr,g:Vr,n:Tr,d:$t,E:mt,e:nn,H:oe,G:fe,o:it,a:E,t:l,f:A,w:D,x:N,i:y,z:w,q:k,y:te,s:M,v:J,F:ie};Qt(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.K).apply(null,arguments)};var xe=r._malloc=function(){return(xe=r._malloc=r.asm.L).apply(null,arguments)},Re=r._free=function(){return(Re=r._free=r.asm.M).apply(null,arguments)},je=r.___getTypeName=function(){return(je=r.___getTypeName=r.asm.N).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.O).apply(null,arguments)},r.___errno_location=function(){return(r.___errno_location=r.asm.P).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.R).apply(null,arguments)},r.dynCall_iiji=function(){return(r.dynCall_iiji=r.asm.S).apply(null,arguments)},r.dynCall_iiiiij=function(){return(r.dynCall_iiiiij=r.asm.T).apply(null,arguments)},r.dynCall_iiiiijj=function(){return(r.dynCall_iiiiijj=r.asm.U).apply(null,arguments)},r.dynCall_iiiiiijj=function(){return(r.dynCall_iiiiiijj=r.asm.V).apply(null,arguments)},r.dynCall_viijii=function(){return(r.dynCall_viijii=r.asm.W).apply(null,arguments)};var gt;Se=function C(){gt||Y(),gt||(Se=C)};function Y(C){if(cr>0||(gn(),cr>0))return;function O(){gt||(gt=!0,r.calledRun=!0,!Mr&&(Lr(),Fe(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),qr()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),O()},1)):O()}if(r.run=Y,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return Y(),r.ready}}(),Ge=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/jxl_node_enc-b8ea914c.wasm").href:new URL("jxl_node_enc-b8ea914c.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,Ve=function(){return function(r){r=r||{};var r=typeof r<"u"?r:{},Fe,Ne;r.ready=new Promise(function(l,c){Fe=l,Ne=c});var Oe={},Ce;for(Ce in r)r.hasOwnProperty(Ce)&&(Oe[Ce]=r[Ce]);var Ct=!1,at="";function At(l){return r.locateFile?r.locateFile(l,at):at+l}var It,Lt,Kt,Ht;at=__dirname+"/",It=function(c,A){return Kt||(Kt=Zr),Ht||(Ht=Zr),c=Ht.normalize(c),Kt.readFileSync(c,A?null:"utf8")},Lt=function(c){var A=It(c,!0);return A.buffer||(A=new Uint8Array(A)),Mr(A.buffer),A},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),r.inspect=function(){return"[Emscripten Module object]"};var Ot=r.print||console.log.bind(console),ft=r.printErr||console.warn.bind(console);for(Ce in Oe)Oe.hasOwnProperty(Ce)&&(r[Ce]=Oe[Ce]);Oe=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var ct;r.wasmBinary&&(ct=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&Se("no native wasm support detected");var yt,Ar=!1;function Mr(l,c){l||Se("Assertion failed: "+c)}var Nt=new TextDecoder("utf8");function Jr(l,c,A){for(var a=c+A,f=c;l[f]&&!(f>=a);)++f;return Nt.decode(l.subarray?l.subarray(c,f):new Uint8Array(l.slice(c,f)))}function Fr(l,c){if(!l)return"";for(var A=l+c,a=l;!(a>=A)&&qe[a];)++a;return Nt.decode(qe.subarray(l,a))}function jr(l,c,A,a){if(!(a>0))return 0;for(var f=A,v=A+a-1,D=0;D<l.length;++D){var N=l.charCodeAt(D);if(N>=55296&&N<=57343){var y=l.charCodeAt(++D);N=65536+((N&1023)<<10)|y&1023}if(N<=127){if(A>=v)break;c[A++]=N}else if(N<=2047){if(A+1>=v)break;c[A++]=192|N>>6,c[A++]=128|N&63}else if(N<=65535){if(A+2>=v)break;c[A++]=224|N>>12,c[A++]=128|N>>6&63,c[A++]=128|N&63}else{if(A+3>=v)break;c[A++]=240|N>>18,c[A++]=128|N>>12&63,c[A++]=128|N>>6&63,c[A++]=128|N&63}}return c[A]=0,A-f}function tn(l,c,A){return jr(l,qe,c,A)}function $r(l){for(var c=0,A=0;A<l.length;++A){var a=l.charCodeAt(A);a>=55296&&a<=57343&&(a=65536+((a&1023)<<10)|l.charCodeAt(++A)&1023),a<=127?++c:a<=2047?c+=2:a<=65535?c+=3:c+=4}return c}var vn=new TextDecoder("utf-16le");function hn(l,c){for(var A=l,a=A>>1,f=a+c/2;!(a>=f)&&dt[a];)++a;return A=a<<1,vn.decode(qe.subarray(l,A))}function bn(l,c,A){if(A===void 0&&(A=2147483647),A<2)return 0;A-=2;for(var a=c,f=A<l.length*2?A/2:l.length,v=0;v<f;++v){var D=l.charCodeAt(v);Tt[c>>1]=D,c+=2}return Tt[c>>1]=0,c-a}function En(l){return l.length*2}function Bn(l,c){for(var A=0,a="";!(A>=c/4);){var f=Be[l+A*4>>2];if(f==0)break;if(++A,f>=65536){var v=f-65536;a+=String.fromCharCode(55296|v>>10,56320|v&1023)}else a+=String.fromCharCode(f)}return a}function an(l,c,A){if(A===void 0&&(A=2147483647),A<4)return 0;for(var a=c,f=a+A-4,v=0;v<l.length;++v){var D=l.charCodeAt(v);if(D>=55296&&D<=57343){var N=l.charCodeAt(++v);D=65536+((D&1023)<<10)|N&1023}if(Be[c>>2]=D,c+=4,c+4>f)break}return Be[c>>2]=0,c-a}function sn(l){for(var c=0,A=0;A<l.length;++A){var a=l.charCodeAt(A);a>=55296&&a<=57343&&++A,c+=4}return c}function un(l,c){return l%c>0&&(l+=c-l%c),l}var Ft,Jt,qe,Tt,dt,Be,We,sr,Je;function tt(l){Ft=l,r.HEAP8=Jt=new Int8Array(l),r.HEAP16=Tt=new Int16Array(l),r.HEAP32=Be=new Int32Array(l),r.HEAPU8=qe=new Uint8Array(l),r.HEAPU16=dt=new Uint16Array(l),r.HEAPU32=We=new Uint32Array(l),r.HEAPF32=sr=new Float32Array(l),r.HEAPF64=Je=new Float64Array(l)}r.INITIAL_MEMORY;var Bt,kr=[],Wr=[],qt=[];function Nr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)gn(r.preRun.shift());Ut(kr)}function rn(){Ut(Wr)}function cn(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)qr(r.postRun.shift());Ut(qt)}function gn(l){kr.unshift(l)}function Lr(l){Wr.unshift(l)}function qr(l){qt.unshift(l)}var kt=0,mr=null;function zr(l){kt++,r.monitorRunDependencies&&r.monitorRunDependencies(kt)}function cr(l){if(kt--,r.monitorRunDependencies&&r.monitorRunDependencies(kt),kt==0&&mr){var c=mr;mr=null,c()}}r.preloadedImages={},r.preloadedAudios={};function Se(l){r.onAbort&&r.onAbort(l),l+="",ft(l),Ar=!0,l="abort("+l+"). Build with -s ASSERTIONS=1 for more info.";var c=new WebAssembly.RuntimeError(l);throw Ne(c),c}var j="data:application/octet-stream;base64,";function $(l){return l.startsWith(j)}if(r.locateFile){var ae="jxl_node_dec.wasm";$(ae)||(ae=At(ae))}else var ae=new URL("jxl_node_dec.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href).toString();function Ae(l){try{if(l==ae&&ct)return new Uint8Array(ct);if(Lt)return Lt(l);throw"both async and sync fetching of the wasm failed"}catch(c){Se(c)}}function Ie(){return!ct&&Ct&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(l){if(!l.ok)throw"failed to load wasm binary file at '"+ae+"'";return l.arrayBuffer()}).catch(function(){return Ae(ae)}):Promise.resolve().then(function(){return Ae(ae)})}function Le(){var l={a:he};function c(D,N){var y=D.exports;r.asm=y,yt=r.asm.x,tt(yt.buffer),Bt=r.asm.D,Lr(r.asm.y),cr()}zr();function A(D){c(D.instance)}function a(D){return Ie().then(function(N){var y=WebAssembly.instantiate(N,l);return y}).then(D,function(N){ft("failed to asynchronously prepare wasm: "+N),Se(N)})}function f(){return!ct&&typeof WebAssembly.instantiateStreaming=="function"&&!$(ae)&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(D){var N=WebAssembly.instantiateStreaming(D,l);return N.then(A,function(y){return ft("wasm streaming compile failed: "+y),ft("falling back to ArrayBuffer instantiation"),a(A)})}):a(A)}if(r.instantiateWasm)try{var v=r.instantiateWasm(l,c);return v}catch(D){return ft("Module.instantiateWasm callback failed with error: "+D),!1}return f().catch(Ne),{}}function Ut(l){for(;l.length>0;){var c=l.shift();if(typeof c=="function"){c(r);continue}var A=c.func;typeof A=="number"?c.arg===void 0?Bt.get(A)():Bt.get(A)(c.arg):A(c.arg===void 0?null:c.arg)}}function yr(l,c,A,a){Se("Assertion failed: "+Fr(l)+", at: "+[c?Fr(c):"unknown filename",A,a?Fr(a):"unknown function"])}function Qt(l,c){}function Qr(l,c){return void 0}function hr(l,c,A,a,f){}function Rr(l){switch(l){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+l)}}function Or(){for(var l=new Array(256),c=0;c<256;++c)l[c]=String.fromCharCode(c);wr=l}var wr=void 0;function vr(l){for(var c="",A=l;qe[A];)c+=wr[qe[A++]];return c}var gr={},_t={},wt={},zt=48,Rt=57;function rt(l){if(l===void 0)return"_unknown";l=l.replace(/[^a-zA-Z0-9_]/g,"$");var c=l.charCodeAt(0);return c>=zt&&c<=Rt?"_"+l:l}function nr(l,c){return l=rt(l),new Function("body","return function "+l+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(c)}function Cr(l,c){var A=nr(c,function(a){this.name=c,this.message=a;var f=new Error(a).stack;f!==void 0&&(this.stack=this.toString()+`
`+f.replace(/^Error(:[^\n]*)?\n/,""))});return A.prototype=Object.create(l.prototype),A.prototype.constructor=A,A.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},A}var Gt=void 0;function ir(l){throw new Gt(l)}var lr=void 0;function Qe(l){throw new lr(l)}function Zt(l,c,A){l.forEach(function(N){wt[N]=c});function a(N){var y=A(N);y.length!==l.length&&Qe("Mismatched type converter count");for(var w=0;w<l.length;++w)St(l[w],y[w])}var f=new Array(c.length),v=[],D=0;c.forEach(function(N,y){_t.hasOwnProperty(N)?f[y]=_t[N]:(v.push(N),gr.hasOwnProperty(N)||(gr[N]=[]),gr[N].push(function(){f[y]=_t[N],++D,D===v.length&&a(f)}))}),v.length===0&&a(f)}function St(l,c,A){if(A=A||{},!("argPackAdvance"in c))throw new TypeError("registerType registeredInstance requires argPackAdvance");var a=c.name;if(l||ir('type "'+a+'" must have a positive integer typeid pointer'),_t.hasOwnProperty(l)){if(A.ignoreDuplicateRegistrations)return;ir("Cannot register type '"+a+"' twice")}if(_t[l]=c,delete wt[l],gr.hasOwnProperty(l)){var f=gr[l];delete gr[l],f.forEach(function(v){v()})}}function Wt(l,c,A,a,f){var v=Rr(A);c=vr(c),St(l,{name:c,fromWireType:function(D){return!!D},toWireType:function(D,N){return N?a:f},argPackAdvance:8,readValueFromPointer:function(D){var N;if(A===1)N=Jt;else if(A===2)N=Tt;else if(A===4)N=Be;else throw new TypeError("Unknown boolean type size: "+c);return this.fromWireType(N[D>>v])},destructorFunction:null})}var Yt=[],pr=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Sr(l){l>4&&--pr[l].refcount===0&&(pr[l]=void 0,Yt.push(l))}function Dt(){for(var l=0,c=5;c<pr.length;++c)pr[c]!==void 0&&++l;return l}function or(){for(var l=5;l<pr.length;++l)if(pr[l]!==void 0)return pr[l];return null}function Xt(){r.count_emval_handles=Dt,r.get_first_emval=or}function nt(l){switch(l){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var c=Yt.length?Yt.pop():pr.length;return pr[c]={refcount:1,value:l},c}}}function dr(l){return this.fromWireType(We[l>>2])}function xr(l,c){c=vr(c),St(l,{name:c,fromWireType:function(A){var a=pr[A].value;return Sr(A),a},toWireType:function(A,a){return nt(a)},argPackAdvance:8,readValueFromPointer:dr,destructorFunction:null})}function Mt(l){if(l===null)return"null";var c=typeof l;return c==="object"||c==="array"||c==="function"?l.toString():""+l}function Dr(l,c){switch(c){case 2:return function(A){return this.fromWireType(sr[A>>2])};case 3:return function(A){return this.fromWireType(Je[A>>3])};default:throw new TypeError("Unknown float type: "+l)}}function er(l,c,A){var a=Rr(A);c=vr(c),St(l,{name:c,fromWireType:function(f){return f},toWireType:function(f,v){if(typeof v!="number"&&typeof v!="boolean")throw new TypeError('Cannot convert "'+Mt(v)+'" to '+this.name);return v},argPackAdvance:8,readValueFromPointer:Dr(c,a),destructorFunction:null})}function Ur(l,c){if(!(l instanceof Function))throw new TypeError("new_ called with constructor type "+typeof l+" which is not a function");var A=nr(l.name||"unknownFunctionName",function(){});A.prototype=l.prototype;var a=new A,f=l.apply(a,c);return f instanceof Object?f:a}function fn(l){for(;l.length;){var c=l.pop(),A=l.pop();A(c)}}function Gr(l,c,A,a,f){var v=c.length;v<2&&ir("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var D=c[1]!==null&&A!==null,N=!1,y=1;y<c.length;++y)if(c[y]!==null&&c[y].destructorFunction===void 0){N=!0;break}for(var w=c[0].name!=="void",k="",te="",y=0;y<v-2;++y)k+=(y!==0?", ":"")+"arg"+y,te+=(y!==0?", ":"")+"arg"+y+"Wired";var M="return function "+rt(l)+"("+k+`) {
if (arguments.length !== `+(v-2)+`) {
throwBindingError('function `+l+" called with ' + arguments.length + ' arguments, expected "+(v-2)+` args!');
}
`;N&&(M+=`var destructors = [];
`);var m=N?"destructors":"null",T=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],x=[ir,a,f,fn,c[0],c[1]];D&&(M+="var thisWired = classParam.toWireType("+m+`, this);
`);for(var y=0;y<v-2;++y)M+="var arg"+y+"Wired = argType"+y+".toWireType("+m+", arg"+y+"); // "+c[y+2].name+`
`,T.push("argType"+y),x.push(c[y+2]);if(D&&(te="thisWired"+(te.length>0?", ":"")+te),M+=(w?"var rv = ":"")+"invoker(fn"+(te.length>0?", ":"")+te+`);
`,N)M+=`runDestructors(destructors);
`;else for(var y=D?1:2;y<c.length;++y){var z=y===1?"thisWired":"arg"+(y-2)+"Wired";c[y].destructorFunction!==null&&(M+=z+"_dtor("+z+"); // "+c[y].name+`
`,T.push(z+"_dtor"),x.push(c[y].destructorFunction))}w&&(M+=`var ret = retType.fromWireType(rv);
return ret;
`),M+=`}
`,T.push(M);var S=Ur(Function,T).apply(null,x);return S}function Pr(l,c,A){if(l[c].overloadTable===void 0){var a=l[c];l[c]=function(){return l[c].overloadTable.hasOwnProperty(arguments.length)||ir("Function '"+A+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+l[c].overloadTable+")!"),l[c].overloadTable[arguments.length].apply(this,arguments)},l[c].overloadTable=[],l[c].overloadTable[a.argCount]=a}}function nn(l,c,A){r.hasOwnProperty(l)?((A===void 0||r[l].overloadTable!==void 0&&r[l].overloadTable[A]!==void 0)&&ir("Cannot register public name '"+l+"' twice"),Pr(r,l,l),r.hasOwnProperty(A)&&ir("Cannot register multiple overloads of a function with the same number of arguments ("+A+")!"),r[l].overloadTable[A]=c):(r[l]=c,A!==void 0&&(r[l].numArguments=A))}function Dn(l,c){for(var A=[],a=0;a<l;a++)A.push(Be[(c>>2)+a]);return A}function on(l,c,A){r.hasOwnProperty(l)||Qe("Replacing nonexistant public symbol"),r[l].overloadTable!==void 0&&A!==void 0?r[l].overloadTable[A]=c:(r[l]=c,r[l].argCount=A)}function Cn(l,c,A){var a=r["dynCall_"+l];return A&&A.length?a.apply(null,[c].concat(A)):a.call(null,c)}function An(l,c,A){return l.includes("j")?Cn(l,c,A):Bt.get(c).apply(null,A)}function In(l,c){var A=[];return function(){A.length=arguments.length;for(var a=0;a<arguments.length;a++)A[a]=arguments[a];return An(l,c,A)}}function yn(l,c){l=vr(l);function A(){return l.includes("j")?In(l,c):Bt.get(c)}var a=A();return typeof a!="function"&&ir("unknown function pointer with signature "+l+": "+c),a}var h=void 0;function P(l){var c=Ye(l),A=vr(c);return Pe(c),A}function Q(l,c){var A=[],a={};function f(v){if(!a[v]&&!_t[v]){if(wt[v]){wt[v].forEach(f);return}A.push(v),a[v]=!0}}throw c.forEach(f),new h(l+": "+A.map(P).join([", "]))}function pe(l,c,A,a,f,v){var D=Dn(c,A);l=vr(l),f=yn(a,f),nn(l,function(){Q("Cannot call "+l+" due to unbound types",D)},c-1),Zt([],D,function(N){var y=[N[0],null].concat(N.slice(1));return on(l,Gr(l,y,null,f,v),c-1),[]})}function me(l,c,A){switch(c){case 0:return A?function(f){return Jt[f]}:function(f){return qe[f]};case 1:return A?function(f){return Tt[f>>1]}:function(f){return dt[f>>1]};case 2:return A?function(f){return Be[f>>2]}:function(f){return We[f>>2]};default:throw new TypeError("Unknown integer type: "+l)}}function R(l,c,A,a,f){c=vr(c),f===-1&&(f=4294967295);var v=Rr(A),D=function(w){return w};if(a===0){var N=32-8*A;D=function(w){return w<<N>>>N}}var y=c.includes("unsigned");St(l,{name:c,fromWireType:D,toWireType:function(w,k){if(typeof k!="number"&&typeof k!="boolean")throw new TypeError('Cannot convert "'+Mt(k)+'" to '+this.name);if(k<a||k>f)throw new TypeError('Passing a number "'+Mt(k)+'" from JS side to C/C++ side to an argument of type "'+c+'", which is outside the valid range ['+a+", "+f+"]!");return y?k>>>0:k|0},argPackAdvance:8,readValueFromPointer:me(c,v,a!==0),destructorFunction:null})}function U(l,c,A){var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],f=a[c];function v(D){D=D>>2;var N=We,y=N[D],w=N[D+1];return new f(Ft,w,y)}A=vr(A),St(l,{name:A,fromWireType:v,argPackAdvance:8,readValueFromPointer:v},{ignoreDuplicateRegistrations:!0})}function ee(l,c){c=vr(c);var A=c==="std::string";St(l,{name:c,fromWireType:function(a){var f=We[a>>2],v;if(A)for(var D=a+4,N=0;N<=f;++N){var y=a+4+N;if(N==f||qe[y]==0){var w=y-D,k=Fr(D,w);v===void 0?v=k:(v+=String.fromCharCode(0),v+=k),D=y+1}}else{for(var te=new Array(f),N=0;N<f;++N)te[N]=String.fromCharCode(qe[a+4+N]);v=te.join("")}return Pe(a),v},toWireType:function(a,f){f instanceof ArrayBuffer&&(f=new Uint8Array(f));var v,D=typeof f=="string";D||f instanceof Uint8Array||f instanceof Uint8ClampedArray||f instanceof Int8Array||ir("Cannot pass non-string to std::string"),A&&D?v=function(){return $r(f)}:v=function(){return f.length};var N=v(),y=Ee(4+N+1);if(We[y>>2]=N,A&&D)tn(f,y+4,N+1);else if(D)for(var w=0;w<N;++w){var k=f.charCodeAt(w);k>255&&(Pe(y),ir("String has UTF-16 code units that do not fit in 8 bits")),qe[y+4+w]=k}else for(var w=0;w<N;++w)qe[y+4+w]=f[w];return a!==null&&a.push(Pe,y),y},argPackAdvance:8,readValueFromPointer:dr,destructorFunction:function(a){Pe(a)}})}function ve(l,c,A){A=vr(A);var a,f,v,D,N;c===2?(a=hn,f=bn,D=En,v=function(){return dt},N=1):c===4&&(a=Bn,f=an,D=sn,v=function(){return We},N=2),St(l,{name:A,fromWireType:function(y){for(var w=We[y>>2],k=v(),te,M=y+4,m=0;m<=w;++m){var T=y+4+m*c;if(m==w||k[T>>N]==0){var x=T-M,z=a(M,x);te===void 0?te=z:(te+=String.fromCharCode(0),te+=z),M=T+c}}return Pe(y),te},toWireType:function(y,w){typeof w!="string"&&ir("Cannot pass non-string to C++ string type "+A);var k=D(w),te=Ee(4+k+c);return We[te>>2]=k>>N,f(w,te+4,k+c),y!==null&&y.push(Pe,te),te},argPackAdvance:8,readValueFromPointer:dr,destructorFunction:function(y){Pe(y)}})}function He(l,c){c=vr(c),St(l,{isVoid:!0,name:c,argPackAdvance:0,fromWireType:function(){},toWireType:function(A,a){}})}var Ke={};function ht(l){var c=Ke[l];return c===void 0?vr(l):c}function Xe(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function pt(l){return l===0?nt(Xe()):(l=ht(l),nt(Xe()[l]))}function Vt(l){l>4&&(pr[l].refcount+=1)}function br(l,c){var A=_t[l];return A===void 0&&ir(c+" has unknown type "+P(l)),A}function Hr(l){for(var c="",A=0;A<l;++A)c+=(A!==0?", ":"")+"arg"+A;for(var a="return function emval_allocator_"+l+`(constructor, argTypes, args) {
`,A=0;A<l;++A)a+="var argType"+A+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+A+'], "parameter '+A+`");
var arg`+A+" = argType"+A+`.readValueFromPointer(args);
args += argType`+A+`['argPackAdvance'];
`;return a+="var obj = new constructor("+c+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",a)(br,r,nt)}var ur={};function fr(l){return l||ir("Cannot use deleted val. handle = "+l),pr[l].value}function tr(l,c,A,a){l=fr(l);var f=ur[c];return f||(f=Hr(c),ur[c]=f),f(l,A,a)}function Vr(){Se()}function Tr(l,c,A){qe.copyWithin(l,c,c+A)}function $t(l){try{return yt.grow(l-Ft.byteLength+65535>>>16),tt(yt.buffer),1}catch{}}function mt(l){var c=qe.length;l=l>>>0;var A=2147483648;if(l>A)return!1;for(var a=1;a<=4;a*=2){var f=c*(1+.2/a);f=Math.min(f,l+100663296);var v=Math.min(A,un(Math.max(l,f),65536)),D=$t(v);if(D)return!0}return!1}var vt={mappings:{},buffers:[null,[],[]],printChar:function(l,c){var A=vt.buffers[l];c===0||c===10?((l===1?Ot:ft)(Jr(A,0)),A.length=0):A.push(c)},varargs:void 0,get:function(){vt.varargs+=4;var l=Be[vt.varargs-4>>2];return l},getStr:function(l){var c=Fr(l);return c},get64:function(l,c){return l}};function rr(l){return 0}function Er(l,c,A,a,f){}function oe(l,c,A,a){for(var f=0,v=0;v<A;v++){for(var D=Be[c+v*8>>2],N=Be[c+(v*8+4)>>2],y=0;y<N;y++)vt.printChar(l,qe[D+y]);f+=N}return Be[a>>2]=f,0}function fe(l){}Or(),Gt=r.BindingError=Cr(Error,"BindingError"),lr=r.InternalError=Cr(Error,"InternalError"),Xt(),h=r.UnboundTypeError=Cr(Error,"UnboundTypeError");var he={b:yr,m:Qr,r:hr,n:Wt,w:xr,j:er,p:pe,d:R,c:U,k:ee,g:ve,o:He,e:Sr,l:pt,h:Vt,i:tr,a:Vr,t:Tr,f:mt,u:rr,q:Er,v:oe,s:fe};Le(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.y).apply(null,arguments)};var Ee=r._malloc=function(){return(Ee=r._malloc=r.asm.z).apply(null,arguments)},Pe=r._free=function(){return(Pe=r._free=r.asm.A).apply(null,arguments)},Ye=r.___getTypeName=function(){return(Ye=r.___getTypeName=r.asm.B).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.C).apply(null,arguments)},r.dynCall_iiji=function(){return(r.dynCall_iiji=r.asm.E).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.F).apply(null,arguments)};var it;mr=function l(){it||E(),it||(mr=l)};function E(l){if(kt>0||(Nr(),kt>0))return;function c(){it||(it=!0,r.calledRun=!0,!Ar&&(rn(),Fe(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),cn()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),c()},1)):c()}if(r.run=E,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return E(),r.ready}}(),ke=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/jxl_node_dec-c51936e8.wasm").href:new URL("jxl_node_dec-c51936e8.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,bt=function(){return function(r){r=r||{};var r=typeof r<"u"?r:{},Fe,Ne;r.ready=new Promise(function(y,w){Fe=y,Ne=w});var Oe={},Ce;for(Ce in r)r.hasOwnProperty(Ce)&&(Oe[Ce]=r[Ce]);var Ct=!1,at="";function At(y){return r.locateFile?r.locateFile(y,at):at+y}var It,Lt,Kt,Ht;at=__dirname+"/",It=function(w,k){return Kt||(Kt=Zr),Ht||(Ht=Zr),w=Ht.normalize(w),Kt.readFileSync(w,k?null:"utf8")},Lt=function(w){var k=It(w,!0);return k.buffer||(k=new Uint8Array(k)),Mr(k.buffer),k},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),r.inspect=function(){return"[Emscripten Module object]"};var Ot=r.print||console.log.bind(console),ft=r.printErr||console.warn.bind(console);for(Ce in Oe)Oe.hasOwnProperty(Ce)&&(r[Ce]=Oe[Ce]);Oe=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var ct;r.wasmBinary&&(ct=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&Se("no native wasm support detected");var yt,Ar=!1;function Mr(y,w){y||Se("Assertion failed: "+w)}var Nt=new TextDecoder("utf8");function Jr(y,w,k){for(var te=w+k,M=w;y[M]&&!(M>=te);)++M;return Nt.decode(y.subarray?y.subarray(w,M):new Uint8Array(y.slice(w,M)))}function Fr(y,w){if(!y)return"";for(var k=y+w,te=y;!(te>=k)&&qe[te];)++te;return Nt.decode(qe.subarray(y,te))}function jr(y,w,k,te){if(!(te>0))return 0;for(var M=k,m=k+te-1,T=0;T<y.length;++T){var x=y.charCodeAt(T);if(x>=55296&&x<=57343){var z=y.charCodeAt(++T);x=65536+((x&1023)<<10)|z&1023}if(x<=127){if(k>=m)break;w[k++]=x}else if(x<=2047){if(k+1>=m)break;w[k++]=192|x>>6,w[k++]=128|x&63}else if(x<=65535){if(k+2>=m)break;w[k++]=224|x>>12,w[k++]=128|x>>6&63,w[k++]=128|x&63}else{if(k+3>=m)break;w[k++]=240|x>>18,w[k++]=128|x>>12&63,w[k++]=128|x>>6&63,w[k++]=128|x&63}}return w[k]=0,k-M}function tn(y,w,k){return jr(y,qe,w,k)}function $r(y){for(var w=0,k=0;k<y.length;++k){var te=y.charCodeAt(k);te>=55296&&te<=57343&&(te=65536+((te&1023)<<10)|y.charCodeAt(++k)&1023),te<=127?++w:te<=2047?w+=2:te<=65535?w+=3:w+=4}return w}var vn=new TextDecoder("utf-16le");function hn(y,w){for(var k=y,te=k>>1,M=te+w/2;!(te>=M)&&dt[te];)++te;return k=te<<1,vn.decode(qe.subarray(y,k))}function bn(y,w,k){if(k===void 0&&(k=2147483647),k<2)return 0;k-=2;for(var te=w,M=k<y.length*2?k/2:y.length,m=0;m<M;++m){var T=y.charCodeAt(m);Tt[w>>1]=T,w+=2}return Tt[w>>1]=0,w-te}function En(y){return y.length*2}function Bn(y,w){for(var k=0,te="";!(k>=w/4);){var M=Be[y+k*4>>2];if(M==0)break;if(++k,M>=65536){var m=M-65536;te+=String.fromCharCode(55296|m>>10,56320|m&1023)}else te+=String.fromCharCode(M)}return te}function an(y,w,k){if(k===void 0&&(k=2147483647),k<4)return 0;for(var te=w,M=te+k-4,m=0;m<y.length;++m){var T=y.charCodeAt(m);if(T>=55296&&T<=57343){var x=y.charCodeAt(++m);T=65536+((T&1023)<<10)|x&1023}if(Be[w>>2]=T,w+=4,w+4>M)break}return Be[w>>2]=0,w-te}function sn(y){for(var w=0,k=0;k<y.length;++k){var te=y.charCodeAt(k);te>=55296&&te<=57343&&++k,w+=4}return w}function un(y,w){return y%w>0&&(y+=w-y%w),y}var Ft,Jt,qe,Tt,dt,Be,We,sr,Je;function tt(y){Ft=y,r.HEAP8=Jt=new Int8Array(y),r.HEAP16=Tt=new Int16Array(y),r.HEAP32=Be=new Int32Array(y),r.HEAPU8=qe=new Uint8Array(y),r.HEAPU16=dt=new Uint16Array(y),r.HEAPU32=We=new Uint32Array(y),r.HEAPF32=sr=new Float32Array(y),r.HEAPF64=Je=new Float64Array(y)}r.INITIAL_MEMORY;var Bt,kr=[],Wr=[],qt=[];function Nr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)gn(r.preRun.shift());Ut(kr)}function rn(){Ut(Wr)}function cn(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)qr(r.postRun.shift());Ut(qt)}function gn(y){kr.unshift(y)}function Lr(y){Wr.unshift(y)}function qr(y){qt.unshift(y)}var kt=0,mr=null;function zr(y){kt++,r.monitorRunDependencies&&r.monitorRunDependencies(kt)}function cr(y){if(kt--,r.monitorRunDependencies&&r.monitorRunDependencies(kt),kt==0&&mr){var w=mr;mr=null,w()}}r.preloadedImages={},r.preloadedAudios={};function Se(y){r.onAbort&&r.onAbort(y),y+="",ft(y),Ar=!0,y="abort("+y+"). Build with -s ASSERTIONS=1 for more info.";var w=new WebAssembly.RuntimeError(y);throw Ne(w),w}var j="data:application/octet-stream;base64,";function $(y){return y.startsWith(j)}if(r.locateFile){var ae="wp2_node_enc.wasm";$(ae)||(ae=At(ae))}else var ae=new URL("wp2_node_enc.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href).toString();function Ae(y){try{if(y==ae&&ct)return new Uint8Array(ct);if(Lt)return Lt(y);throw"both async and sync fetching of the wasm failed"}catch(w){Se(w)}}function Ie(){return!ct&&Ct&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(y){if(!y.ok)throw"failed to load wasm binary file at '"+ae+"'";return y.arrayBuffer()}).catch(function(){return Ae(ae)}):Promise.resolve().then(function(){return Ae(ae)})}function Le(){var y={a:A};function w(T,x){var z=T.exports;r.asm=z,yt=r.asm.C,tt(yt.buffer),Bt=r.asm.I,Lr(r.asm.D),cr()}zr();function k(T){w(T.instance)}function te(T){return Ie().then(function(x){var z=WebAssembly.instantiate(x,y);return z}).then(T,function(x){ft("failed to asynchronously prepare wasm: "+x),Se(x)})}function M(){return!ct&&typeof WebAssembly.instantiateStreaming=="function"&&!$(ae)&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(T){var x=WebAssembly.instantiateStreaming(T,y);return x.then(k,function(z){return ft("wasm streaming compile failed: "+z),ft("falling back to ArrayBuffer instantiation"),te(k)})}):te(k)}if(r.instantiateWasm)try{var m=r.instantiateWasm(y,w);return m}catch(T){return ft("Module.instantiateWasm callback failed with error: "+T),!1}return M().catch(Ne),{}}function Ut(y){for(;y.length>0;){var w=y.shift();if(typeof w=="function"){w(r);continue}var k=w.func;typeof k=="number"?w.arg===void 0?Bt.get(k)():Bt.get(k)(w.arg):k(w.arg===void 0?null:w.arg)}}function yr(y,w,k,te){Se("Assertion failed: "+Fr(y)+", at: "+[w?Fr(w):"unknown filename",k,te?Fr(te):"unknown function"])}var Qt={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function Qr(y){return f(y+Qt.SIZE)+Qt.SIZE}function hr(y,w){}function Rr(y,w){return void 0}function Or(y){this.excPtr=y,this.ptr=y-Qt.SIZE,this.set_type=function(w){Be[this.ptr+Qt.TYPE_OFFSET>>2]=w},this.get_type=function(){return Be[this.ptr+Qt.TYPE_OFFSET>>2]},this.set_destructor=function(w){Be[this.ptr+Qt.DESTRUCTOR_OFFSET>>2]=w},this.get_destructor=function(){return Be[this.ptr+Qt.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(w){Be[this.ptr+Qt.REFCOUNT_OFFSET>>2]=w},this.set_caught=function(w){w=w?1:0,Jt[this.ptr+Qt.CAUGHT_OFFSET>>0]=w},this.get_caught=function(){return Jt[this.ptr+Qt.CAUGHT_OFFSET>>0]!=0},this.set_rethrown=function(w){w=w?1:0,Jt[this.ptr+Qt.RETHROWN_OFFSET>>0]=w},this.get_rethrown=function(){return Jt[this.ptr+Qt.RETHROWN_OFFSET>>0]!=0},this.init=function(w,k){this.set_type(w),this.set_destructor(k),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var w=Be[this.ptr+Qt.REFCOUNT_OFFSET>>2];Be[this.ptr+Qt.REFCOUNT_OFFSET>>2]=w+1},this.release_ref=function(){var w=Be[this.ptr+Qt.REFCOUNT_OFFSET>>2];return Be[this.ptr+Qt.REFCOUNT_OFFSET>>2]=w-1,w===1}}function wr(y,w,k){var te=new Or(y);throw te.init(w,k),y}var vr={};function gr(y){for(;y.length;){var w=y.pop(),k=y.pop();k(w)}}function _t(y){return this.fromWireType(We[y>>2])}var wt={},zt={},Rt={},rt=48,nr=57;function Cr(y){if(y===void 0)return"_unknown";y=y.replace(/[^a-zA-Z0-9_]/g,"$");var w=y.charCodeAt(0);return w>=rt&&w<=nr?"_"+y:y}function Gt(y,w){return y=Cr(y),new Function("body","return function "+y+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(w)}function ir(y,w){var k=Gt(w,function(te){this.name=w,this.message=te;var M=new Error(te).stack;M!==void 0&&(this.stack=this.toString()+`
`+M.replace(/^Error(:[^\n]*)?\n/,""))});return k.prototype=Object.create(y.prototype),k.prototype.constructor=k,k.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},k}var lr=void 0;function Qe(y){throw new lr(y)}function Zt(y,w,k){y.forEach(function(x){Rt[x]=w});function te(x){var z=k(x);z.length!==y.length&&Qe("Mismatched type converter count");for(var S=0;S<y.length;++S)nt(y[S],z[S])}var M=new Array(w.length),m=[],T=0;w.forEach(function(x,z){zt.hasOwnProperty(x)?M[z]=zt[x]:(m.push(x),wt.hasOwnProperty(x)||(wt[x]=[]),wt[x].push(function(){M[z]=zt[x],++T,T===m.length&&te(M)}))}),m.length===0&&te(M)}function St(y){var w=vr[y];delete vr[y];var k=w.rawConstructor,te=w.rawDestructor,M=w.fields,m=M.map(function(T){return T.getterReturnType}).concat(M.map(function(T){return T.setterArgumentType}));Zt([y],m,function(T){var x={};return M.forEach(function(z,S){var G=z.fieldName,J=T[S],ie=z.getter,de=z.getterContext,De=T[S+M.length],xe=z.setter,Re=z.setterContext;x[G]={read:function(je){return J.fromWireType(ie(de,je))},write:function(je,gt){var Y=[];xe(Re,je,De.toWireType(Y,gt)),gr(Y)}}}),[{name:w.name,fromWireType:function(z){var S={};for(var G in x)S[G]=x[G].read(z);return te(z),S},toWireType:function(z,S){for(var G in x)if(!(G in S))throw new TypeError('Missing field:  "'+G+'"');var J=k();for(G in x)x[G].write(J,S[G]);return z!==null&&z.push(te,J),J},argPackAdvance:8,readValueFromPointer:_t,destructorFunction:te}]})}function Wt(y,w,k,te,M){}function Yt(y){switch(y){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+y)}}function pr(){for(var y=new Array(256),w=0;w<256;++w)y[w]=String.fromCharCode(w);Sr=y}var Sr=void 0;function Dt(y){for(var w="",k=y;qe[k];)w+=Sr[qe[k++]];return w}var or=void 0;function Xt(y){throw new or(y)}function nt(y,w,k){if(k=k||{},!("argPackAdvance"in w))throw new TypeError("registerType registeredInstance requires argPackAdvance");var te=w.name;if(y||Xt('type "'+te+'" must have a positive integer typeid pointer'),zt.hasOwnProperty(y)){if(k.ignoreDuplicateRegistrations)return;Xt("Cannot register type '"+te+"' twice")}if(zt[y]=w,delete Rt[y],wt.hasOwnProperty(y)){var M=wt[y];delete wt[y],M.forEach(function(m){m()})}}function dr(y,w,k,te,M){var m=Yt(k);w=Dt(w),nt(y,{name:w,fromWireType:function(T){return!!T},toWireType:function(T,x){return x?te:M},argPackAdvance:8,readValueFromPointer:function(T){var x;if(k===1)x=Jt;else if(k===2)x=Tt;else if(k===4)x=Be;else throw new TypeError("Unknown boolean type size: "+w);return this.fromWireType(x[T>>m])},destructorFunction:null})}var xr=[],Mt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Dr(y){y>4&&--Mt[y].refcount===0&&(Mt[y]=void 0,xr.push(y))}function er(){for(var y=0,w=5;w<Mt.length;++w)Mt[w]!==void 0&&++y;return y}function Ur(){for(var y=5;y<Mt.length;++y)if(Mt[y]!==void 0)return Mt[y];return null}function fn(){r.count_emval_handles=er,r.get_first_emval=Ur}function Gr(y){switch(y){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var w=xr.length?xr.pop():Mt.length;return Mt[w]={refcount:1,value:y},w}}}function Pr(y,w){w=Dt(w),nt(y,{name:w,fromWireType:function(k){var te=Mt[k].value;return Dr(k),te},toWireType:function(k,te){return Gr(te)},argPackAdvance:8,readValueFromPointer:_t,destructorFunction:null})}function nn(y){if(y===null)return"null";var w=typeof y;return w==="object"||w==="array"||w==="function"?y.toString():""+y}function Dn(y,w){switch(w){case 2:return function(k){return this.fromWireType(sr[k>>2])};case 3:return function(k){return this.fromWireType(Je[k>>3])};default:throw new TypeError("Unknown float type: "+y)}}function on(y,w,k){var te=Yt(k);w=Dt(w),nt(y,{name:w,fromWireType:function(M){return M},toWireType:function(M,m){if(typeof m!="number"&&typeof m!="boolean")throw new TypeError('Cannot convert "'+nn(m)+'" to '+this.name);return m},argPackAdvance:8,readValueFromPointer:Dn(w,te),destructorFunction:null})}function Cn(y,w){if(!(y instanceof Function))throw new TypeError("new_ called with constructor type "+typeof y+" which is not a function");var k=Gt(y.name||"unknownFunctionName",function(){});k.prototype=y.prototype;var te=new k,M=y.apply(te,w);return M instanceof Object?M:te}function An(y,w,k,te,M){var m=w.length;m<2&&Xt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var T=w[1]!==null&&k!==null,x=!1,z=1;z<w.length;++z)if(w[z]!==null&&w[z].destructorFunction===void 0){x=!0;break}for(var S=w[0].name!=="void",G="",J="",z=0;z<m-2;++z)G+=(z!==0?", ":"")+"arg"+z,J+=(z!==0?", ":"")+"arg"+z+"Wired";var ie="return function "+Cr(y)+"("+G+`) {
if (arguments.length !== `+(m-2)+`) {
throwBindingError('function `+y+" called with ' + arguments.length + ' arguments, expected "+(m-2)+` args!');
}
`;x&&(ie+=`var destructors = [];
`);var de=x?"destructors":"null",De=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],xe=[Xt,te,M,gr,w[0],w[1]];T&&(ie+="var thisWired = classParam.toWireType("+de+`, this);
`);for(var z=0;z<m-2;++z)ie+="var arg"+z+"Wired = argType"+z+".toWireType("+de+", arg"+z+"); // "+w[z+2].name+`
`,De.push("argType"+z),xe.push(w[z+2]);if(T&&(J="thisWired"+(J.length>0?", ":"")+J),ie+=(S?"var rv = ":"")+"invoker(fn"+(J.length>0?", ":"")+J+`);
`,x)ie+=`runDestructors(destructors);
`;else for(var z=T?1:2;z<w.length;++z){var Re=z===1?"thisWired":"arg"+(z-2)+"Wired";w[z].destructorFunction!==null&&(ie+=Re+"_dtor("+Re+"); // "+w[z].name+`
`,De.push(Re+"_dtor"),xe.push(w[z].destructorFunction))}S&&(ie+=`var ret = retType.fromWireType(rv);
return ret;
`),ie+=`}
`,De.push(ie);var je=Cn(Function,De).apply(null,xe);return je}function In(y,w,k){if(y[w].overloadTable===void 0){var te=y[w];y[w]=function(){return y[w].overloadTable.hasOwnProperty(arguments.length)||Xt("Function '"+k+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+y[w].overloadTable+")!"),y[w].overloadTable[arguments.length].apply(this,arguments)},y[w].overloadTable=[],y[w].overloadTable[te.argCount]=te}}function yn(y,w,k){r.hasOwnProperty(y)?((k===void 0||r[y].overloadTable!==void 0&&r[y].overloadTable[k]!==void 0)&&Xt("Cannot register public name '"+y+"' twice"),In(r,y,y),r.hasOwnProperty(k)&&Xt("Cannot register multiple overloads of a function with the same number of arguments ("+k+")!"),r[y].overloadTable[k]=w):(r[y]=w,k!==void 0&&(r[y].numArguments=k))}function h(y,w){for(var k=[],te=0;te<y;te++)k.push(Be[(w>>2)+te]);return k}function P(y,w,k){r.hasOwnProperty(y)||Qe("Replacing nonexistant public symbol"),r[y].overloadTable!==void 0&&k!==void 0?r[y].overloadTable[k]=w:(r[y]=w,r[y].argCount=k)}function Q(y,w,k){var te=r["dynCall_"+y];return k&&k.length?te.apply(null,[w].concat(k)):te.call(null,w)}function pe(y,w,k){return y.includes("j")?Q(y,w,k):Bt.get(w).apply(null,k)}function me(y,w){var k=[];return function(){k.length=arguments.length;for(var te=0;te<arguments.length;te++)k[te]=arguments[te];return pe(y,w,k)}}function R(y,w){y=Dt(y);function k(){return y.includes("j")?me(y,w):Bt.get(w)}var te=k();return typeof te!="function"&&Xt("unknown function pointer with signature "+y+": "+w),te}var U=void 0;function ee(y){var w=v(y),k=Dt(w);return a(w),k}function ve(y,w){var k=[],te={};function M(m){if(!te[m]&&!zt[m]){if(Rt[m]){Rt[m].forEach(M);return}k.push(m),te[m]=!0}}throw w.forEach(M),new U(y+": "+k.map(ee).join([", "]))}function He(y,w,k,te,M,m){var T=h(w,k);y=Dt(y),M=R(te,M),yn(y,function(){ve("Cannot call "+y+" due to unbound types",T)},w-1),Zt([],T,function(x){var z=[x[0],null].concat(x.slice(1));return P(y,An(y,z,null,M,m),w-1),[]})}function Ke(y,w,k){switch(w){case 0:return k?function(M){return Jt[M]}:function(M){return qe[M]};case 1:return k?function(M){return Tt[M>>1]}:function(M){return dt[M>>1]};case 2:return k?function(M){return Be[M>>2]}:function(M){return We[M>>2]};default:throw new TypeError("Unknown integer type: "+y)}}function ht(y,w,k,te,M){w=Dt(w),M===-1&&(M=4294967295);var m=Yt(k),T=function(S){return S};if(te===0){var x=32-8*k;T=function(S){return S<<x>>>x}}var z=w.includes("unsigned");nt(y,{name:w,fromWireType:T,toWireType:function(S,G){if(typeof G!="number"&&typeof G!="boolean")throw new TypeError('Cannot convert "'+nn(G)+'" to '+this.name);if(G<te||G>M)throw new TypeError('Passing a number "'+nn(G)+'" from JS side to C/C++ side to an argument of type "'+w+'", which is outside the valid range ['+te+", "+M+"]!");return z?G>>>0:G|0},argPackAdvance:8,readValueFromPointer:Ke(w,m,te!==0),destructorFunction:null})}function Xe(y,w,k){var te=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],M=te[w];function m(T){T=T>>2;var x=We,z=x[T],S=x[T+1];return new M(Ft,S,z)}k=Dt(k),nt(y,{name:k,fromWireType:m,argPackAdvance:8,readValueFromPointer:m},{ignoreDuplicateRegistrations:!0})}function pt(y,w){w=Dt(w);var k=w==="std::string";nt(y,{name:w,fromWireType:function(te){var M=We[te>>2],m;if(k)for(var T=te+4,x=0;x<=M;++x){var z=te+4+x;if(x==M||qe[z]==0){var S=z-T,G=Fr(T,S);m===void 0?m=G:(m+=String.fromCharCode(0),m+=G),T=z+1}}else{for(var J=new Array(M),x=0;x<M;++x)J[x]=String.fromCharCode(qe[te+4+x]);m=J.join("")}return a(te),m},toWireType:function(te,M){M instanceof ArrayBuffer&&(M=new Uint8Array(M));var m,T=typeof M=="string";T||M instanceof Uint8Array||M instanceof Uint8ClampedArray||M instanceof Int8Array||Xt("Cannot pass non-string to std::string"),k&&T?m=function(){return $r(M)}:m=function(){return M.length};var x=m(),z=f(4+x+1);if(We[z>>2]=x,k&&T)tn(M,z+4,x+1);else if(T)for(var S=0;S<x;++S){var G=M.charCodeAt(S);G>255&&(a(z),Xt("String has UTF-16 code units that do not fit in 8 bits")),qe[z+4+S]=G}else for(var S=0;S<x;++S)qe[z+4+S]=M[S];return te!==null&&te.push(a,z),z},argPackAdvance:8,readValueFromPointer:_t,destructorFunction:function(te){a(te)}})}function Vt(y,w,k){k=Dt(k);var te,M,m,T,x;w===2?(te=hn,M=bn,T=En,m=function(){return dt},x=1):w===4&&(te=Bn,M=an,T=sn,m=function(){return We},x=2),nt(y,{name:k,fromWireType:function(z){for(var S=We[z>>2],G=m(),J,ie=z+4,de=0;de<=S;++de){var De=z+4+de*w;if(de==S||G[De>>x]==0){var xe=De-ie,Re=te(ie,xe);J===void 0?J=Re:(J+=String.fromCharCode(0),J+=Re),ie=De+w}}return a(z),J},toWireType:function(z,S){typeof S!="string"&&Xt("Cannot pass non-string to C++ string type "+k);var G=T(S),J=f(4+G+w);return We[J>>2]=G>>x,M(S,J+4,G+w),z!==null&&z.push(a,J),J},argPackAdvance:8,readValueFromPointer:_t,destructorFunction:function(z){a(z)}})}function br(y,w,k,te,M,m){vr[y]={name:Dt(w),rawConstructor:R(k,te),rawDestructor:R(M,m),fields:[]}}function Hr(y,w,k,te,M,m,T,x,z,S){vr[y].fields.push({fieldName:Dt(w),getterReturnType:k,getter:R(te,M),getterContext:m,setterArgumentType:T,setter:R(x,z),setterContext:S})}function ur(y,w){w=Dt(w),nt(y,{isVoid:!0,name:w,argPackAdvance:0,fromWireType:function(){},toWireType:function(k,te){}})}var fr={};function tr(y){var w=fr[y];return w===void 0?Dt(y):w}function Vr(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function Tr(y){return y===0?Gr(Vr()):(y=tr(y),Gr(Vr()[y]))}function $t(y){y>4&&(Mt[y].refcount+=1)}function mt(y,w){var k=zt[y];return k===void 0&&Xt(w+" has unknown type "+ee(y)),k}function vt(y){for(var w="",k=0;k<y;++k)w+=(k!==0?", ":"")+"arg"+k;for(var te="return function emval_allocator_"+y+`(constructor, argTypes, args) {
`,k=0;k<y;++k)te+="var argType"+k+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+k+'], "parameter '+k+`");
var arg`+k+" = argType"+k+`.readValueFromPointer(args);
args += argType`+k+`['argPackAdvance'];
`;return te+="var obj = new constructor("+w+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",te)(mt,r,Gr)}var rr={};function Er(y){return y||Xt("Cannot use deleted val. handle = "+y),Mt[y].value}function oe(y,w,k,te){y=Er(y);var M=rr[w];return M||(M=vt(w),rr[w]=M),M(y,k,te)}function fe(){Se()}function he(y,w,k){qe.copyWithin(y,w,w+k)}function Ee(y){try{return yt.grow(y-Ft.byteLength+65535>>>16),tt(yt.buffer),1}catch{}}function Pe(y){var w=qe.length;y=y>>>0;var k=2147483648;if(y>k)return!1;for(var te=1;te<=4;te*=2){var M=w*(1+.2/te);M=Math.min(M,y+100663296);var m=Math.min(k,un(Math.max(y,M),65536)),T=Ee(m);if(T)return!0}return!1}var Ye={mappings:{},buffers:[null,[],[]],printChar:function(y,w){var k=Ye.buffers[y];w===0||w===10?((y===1?Ot:ft)(Jr(k,0)),k.length=0):k.push(w)},varargs:void 0,get:function(){Ye.varargs+=4;var y=Be[Ye.varargs-4>>2];return y},getStr:function(y){var w=Fr(y);return w},get64:function(y,w){return y}};function it(y){return 0}function E(y,w,k,te,M){}function l(y,w,k,te){for(var M=0,m=0;m<k;m++){for(var T=Be[w+m*8>>2],x=Be[w+(m*8+4)>>2],z=0;z<x;z++)Ye.printChar(y,qe[T+z]);M+=x}return Be[te>>2]=M,0}function c(y){}lr=r.InternalError=ir(Error,"InternalError"),pr(),or=r.BindingError=ir(Error,"BindingError"),fn(),U=r.UnboundTypeError=ir(Error,"UnboundTypeError");var A={o:yr,z:Qr,B:Rr,y:wr,l:St,q:Wt,w:dr,v:Pr,h:on,k:He,c:ht,a:Xe,i:pt,e:Vt,m:br,b:Hr,x:ur,g:Dr,A:Tr,j:$t,n:oe,f:fe,s:he,d:Pe,u:it,p:E,t:l,r:c};Le(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.D).apply(null,arguments)};var a=r._free=function(){return(a=r._free=r.asm.E).apply(null,arguments)},f=r._malloc=function(){return(f=r._malloc=r.asm.F).apply(null,arguments)},v=r.___getTypeName=function(){return(v=r.___getTypeName=r.asm.G).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.H).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.J).apply(null,arguments)};var D;mr=function y(){D||N(),D||(mr=y)};function N(y){if(kt>0||(Nr(),kt>0))return;function w(){D||(D=!0,r.calledRun=!0,!Ar&&(rn(),Fe(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),cn()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),w()},1)):w()}if(r.run=N,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return N(),r.ready}}(),et=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/wp2_node_enc-683ca61a.wasm").href:new URL("wp2_node_enc-683ca61a.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,Pt=function(){return function(r){r=r||{};var r=typeof r<"u"?r:{},Fe,Ne;r.ready=new Promise(function(c,A){Fe=c,Ne=A});var Oe={},Ce;for(Ce in r)r.hasOwnProperty(Ce)&&(Oe[Ce]=r[Ce]);var Ct=!1,at="";function At(c){return r.locateFile?r.locateFile(c,at):at+c}var It,Lt,Kt,Ht;at=__dirname+"/",It=function(A,a){return Kt||(Kt=Zr),Ht||(Ht=Zr),A=Ht.normalize(A),Kt.readFileSync(A,a?null:"utf8")},Lt=function(A){var a=It(A,!0);return a.buffer||(a=new Uint8Array(a)),Mr(a.buffer),a},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),r.inspect=function(){return"[Emscripten Module object]"};var Ot=r.print||console.log.bind(console),ft=r.printErr||console.warn.bind(console);for(Ce in Oe)Oe.hasOwnProperty(Ce)&&(r[Ce]=Oe[Ce]);Oe=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var ct;r.wasmBinary&&(ct=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&Se("no native wasm support detected");var yt,Ar=!1;function Mr(c,A){c||Se("Assertion failed: "+A)}var Nt=new TextDecoder("utf8");function Jr(c,A,a){for(var f=A+a,v=A;c[v]&&!(v>=f);)++v;return Nt.decode(c.subarray?c.subarray(A,v):new Uint8Array(c.slice(A,v)))}function Fr(c,A){if(!c)return"";for(var a=c+A,f=c;!(f>=a)&&qe[f];)++f;return Nt.decode(qe.subarray(c,f))}function jr(c,A,a,f){if(!(f>0))return 0;for(var v=a,D=a+f-1,N=0;N<c.length;++N){var y=c.charCodeAt(N);if(y>=55296&&y<=57343){var w=c.charCodeAt(++N);y=65536+((y&1023)<<10)|w&1023}if(y<=127){if(a>=D)break;A[a++]=y}else if(y<=2047){if(a+1>=D)break;A[a++]=192|y>>6,A[a++]=128|y&63}else if(y<=65535){if(a+2>=D)break;A[a++]=224|y>>12,A[a++]=128|y>>6&63,A[a++]=128|y&63}else{if(a+3>=D)break;A[a++]=240|y>>18,A[a++]=128|y>>12&63,A[a++]=128|y>>6&63,A[a++]=128|y&63}}return A[a]=0,a-v}function tn(c,A,a){return jr(c,qe,A,a)}function $r(c){for(var A=0,a=0;a<c.length;++a){var f=c.charCodeAt(a);f>=55296&&f<=57343&&(f=65536+((f&1023)<<10)|c.charCodeAt(++a)&1023),f<=127?++A:f<=2047?A+=2:f<=65535?A+=3:A+=4}return A}var vn=new TextDecoder("utf-16le");function hn(c,A){for(var a=c,f=a>>1,v=f+A/2;!(f>=v)&&dt[f];)++f;return a=f<<1,vn.decode(qe.subarray(c,a))}function bn(c,A,a){if(a===void 0&&(a=2147483647),a<2)return 0;a-=2;for(var f=A,v=a<c.length*2?a/2:c.length,D=0;D<v;++D){var N=c.charCodeAt(D);Tt[A>>1]=N,A+=2}return Tt[A>>1]=0,A-f}function En(c){return c.length*2}function Bn(c,A){for(var a=0,f="";!(a>=A/4);){var v=Be[c+a*4>>2];if(v==0)break;if(++a,v>=65536){var D=v-65536;f+=String.fromCharCode(55296|D>>10,56320|D&1023)}else f+=String.fromCharCode(v)}return f}function an(c,A,a){if(a===void 0&&(a=2147483647),a<4)return 0;for(var f=A,v=f+a-4,D=0;D<c.length;++D){var N=c.charCodeAt(D);if(N>=55296&&N<=57343){var y=c.charCodeAt(++D);N=65536+((N&1023)<<10)|y&1023}if(Be[A>>2]=N,A+=4,A+4>v)break}return Be[A>>2]=0,A-f}function sn(c){for(var A=0,a=0;a<c.length;++a){var f=c.charCodeAt(a);f>=55296&&f<=57343&&++a,A+=4}return A}function un(c,A){return c%A>0&&(c+=A-c%A),c}var Ft,Jt,qe,Tt,dt,Be,We,sr,Je;function tt(c){Ft=c,r.HEAP8=Jt=new Int8Array(c),r.HEAP16=Tt=new Int16Array(c),r.HEAP32=Be=new Int32Array(c),r.HEAPU8=qe=new Uint8Array(c),r.HEAPU16=dt=new Uint16Array(c),r.HEAPU32=We=new Uint32Array(c),r.HEAPF32=sr=new Float32Array(c),r.HEAPF64=Je=new Float64Array(c)}r.INITIAL_MEMORY;var Bt,kr=[],Wr=[],qt=[];function Nr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)gn(r.preRun.shift());Ut(kr)}function rn(){Ut(Wr)}function cn(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)qr(r.postRun.shift());Ut(qt)}function gn(c){kr.unshift(c)}function Lr(c){Wr.unshift(c)}function qr(c){qt.unshift(c)}var kt=0,mr=null;function zr(c){kt++,r.monitorRunDependencies&&r.monitorRunDependencies(kt)}function cr(c){if(kt--,r.monitorRunDependencies&&r.monitorRunDependencies(kt),kt==0&&mr){var A=mr;mr=null,A()}}r.preloadedImages={},r.preloadedAudios={};function Se(c){r.onAbort&&r.onAbort(c),c+="",ft(c),Ar=!0,c="abort("+c+"). Build with -s ASSERTIONS=1 for more info.";var A=new WebAssembly.RuntimeError(c);throw Ne(A),A}var j="data:application/octet-stream;base64,";function $(c){return c.startsWith(j)}if(r.locateFile){var ae="wp2_node_dec.wasm";$(ae)||(ae=At(ae))}else var ae=new URL("wp2_node_dec.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href).toString();function Ae(c){try{if(c==ae&&ct)return new Uint8Array(ct);if(Lt)return Lt(c);throw"both async and sync fetching of the wasm failed"}catch(A){Se(A)}}function Ie(){return!ct&&Ct&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(c){if(!c.ok)throw"failed to load wasm binary file at '"+ae+"'";return c.arrayBuffer()}).catch(function(){return Ae(ae)}):Promise.resolve().then(function(){return Ae(ae)})}function Le(){var c={a:Ee};function A(N,y){var w=N.exports;r.asm=w,yt=r.asm.w,tt(yt.buffer),Bt=r.asm.C,Lr(r.asm.x),cr()}zr();function a(N){A(N.instance)}function f(N){return Ie().then(function(y){var w=WebAssembly.instantiate(y,c);return w}).then(N,function(y){ft("failed to asynchronously prepare wasm: "+y),Se(y)})}function v(){return!ct&&typeof WebAssembly.instantiateStreaming=="function"&&!$(ae)&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(N){var y=WebAssembly.instantiateStreaming(N,c);return y.then(a,function(w){return ft("wasm streaming compile failed: "+w),ft("falling back to ArrayBuffer instantiation"),f(a)})}):f(a)}if(r.instantiateWasm)try{var D=r.instantiateWasm(c,A);return D}catch(N){return ft("Module.instantiateWasm callback failed with error: "+N),!1}return v().catch(Ne),{}}function Ut(c){for(;c.length>0;){var A=c.shift();if(typeof A=="function"){A(r);continue}var a=A.func;typeof a=="number"?A.arg===void 0?Bt.get(a)():Bt.get(a)(A.arg):a(A.arg===void 0?null:A.arg)}}var yr={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function Qt(c){return Ye(c+yr.SIZE)+yr.SIZE}function Qr(c,A){}function hr(c,A){return void 0}function Rr(c){this.excPtr=c,this.ptr=c-yr.SIZE,this.set_type=function(A){Be[this.ptr+yr.TYPE_OFFSET>>2]=A},this.get_type=function(){return Be[this.ptr+yr.TYPE_OFFSET>>2]},this.set_destructor=function(A){Be[this.ptr+yr.DESTRUCTOR_OFFSET>>2]=A},this.get_destructor=function(){return Be[this.ptr+yr.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(A){Be[this.ptr+yr.REFCOUNT_OFFSET>>2]=A},this.set_caught=function(A){A=A?1:0,Jt[this.ptr+yr.CAUGHT_OFFSET>>0]=A},this.get_caught=function(){return Jt[this.ptr+yr.CAUGHT_OFFSET>>0]!=0},this.set_rethrown=function(A){A=A?1:0,Jt[this.ptr+yr.RETHROWN_OFFSET>>0]=A},this.get_rethrown=function(){return Jt[this.ptr+yr.RETHROWN_OFFSET>>0]!=0},this.init=function(A,a){this.set_type(A),this.set_destructor(a),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var A=Be[this.ptr+yr.REFCOUNT_OFFSET>>2];Be[this.ptr+yr.REFCOUNT_OFFSET>>2]=A+1},this.release_ref=function(){var A=Be[this.ptr+yr.REFCOUNT_OFFSET>>2];return Be[this.ptr+yr.REFCOUNT_OFFSET>>2]=A-1,A===1}}function Or(c,A,a){var f=new Rr(c);throw f.init(A,a),c}function wr(c,A,a,f,v){}function vr(c){switch(c){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+c)}}function gr(){for(var c=new Array(256),A=0;A<256;++A)c[A]=String.fromCharCode(A);_t=c}var _t=void 0;function wt(c){for(var A="",a=c;qe[a];)A+=_t[qe[a++]];return A}var zt={},Rt={},rt={},nr=48,Cr=57;function Gt(c){if(c===void 0)return"_unknown";c=c.replace(/[^a-zA-Z0-9_]/g,"$");var A=c.charCodeAt(0);return A>=nr&&A<=Cr?"_"+c:c}function ir(c,A){return c=Gt(c),new Function("body","return function "+c+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(A)}function lr(c,A){var a=ir(A,function(f){this.name=A,this.message=f;var v=new Error(f).stack;v!==void 0&&(this.stack=this.toString()+`
`+v.replace(/^Error(:[^\n]*)?\n/,""))});return a.prototype=Object.create(c.prototype),a.prototype.constructor=a,a.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},a}var Qe=void 0;function Zt(c){throw new Qe(c)}var St=void 0;function Wt(c){throw new St(c)}function Yt(c,A,a){c.forEach(function(y){rt[y]=A});function f(y){var w=a(y);w.length!==c.length&&Wt("Mismatched type converter count");for(var k=0;k<c.length;++k)pr(c[k],w[k])}var v=new Array(A.length),D=[],N=0;A.forEach(function(y,w){Rt.hasOwnProperty(y)?v[w]=Rt[y]:(D.push(y),zt.hasOwnProperty(y)||(zt[y]=[]),zt[y].push(function(){v[w]=Rt[y],++N,N===D.length&&f(v)}))}),D.length===0&&f(v)}function pr(c,A,a){if(a=a||{},!("argPackAdvance"in A))throw new TypeError("registerType registeredInstance requires argPackAdvance");var f=A.name;if(c||Zt('type "'+f+'" must have a positive integer typeid pointer'),Rt.hasOwnProperty(c)){if(a.ignoreDuplicateRegistrations)return;Zt("Cannot register type '"+f+"' twice")}if(Rt[c]=A,delete rt[c],zt.hasOwnProperty(c)){var v=zt[c];delete zt[c],v.forEach(function(D){D()})}}function Sr(c,A,a,f,v){var D=vr(a);A=wt(A),pr(c,{name:A,fromWireType:function(N){return!!N},toWireType:function(N,y){return y?f:v},argPackAdvance:8,readValueFromPointer:function(N){var y;if(a===1)y=Jt;else if(a===2)y=Tt;else if(a===4)y=Be;else throw new TypeError("Unknown boolean type size: "+A);return this.fromWireType(y[N>>D])},destructorFunction:null})}var Dt=[],or=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Xt(c){c>4&&--or[c].refcount===0&&(or[c]=void 0,Dt.push(c))}function nt(){for(var c=0,A=5;A<or.length;++A)or[A]!==void 0&&++c;return c}function dr(){for(var c=5;c<or.length;++c)if(or[c]!==void 0)return or[c];return null}function xr(){r.count_emval_handles=nt,r.get_first_emval=dr}function Mt(c){switch(c){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var A=Dt.length?Dt.pop():or.length;return or[A]={refcount:1,value:c},A}}}function Dr(c){return this.fromWireType(We[c>>2])}function er(c,A){A=wt(A),pr(c,{name:A,fromWireType:function(a){var f=or[a].value;return Xt(a),f},toWireType:function(a,f){return Mt(f)},argPackAdvance:8,readValueFromPointer:Dr,destructorFunction:null})}function Ur(c){if(c===null)return"null";var A=typeof c;return A==="object"||A==="array"||A==="function"?c.toString():""+c}function fn(c,A){switch(A){case 2:return function(a){return this.fromWireType(sr[a>>2])};case 3:return function(a){return this.fromWireType(Je[a>>3])};default:throw new TypeError("Unknown float type: "+c)}}function Gr(c,A,a){var f=vr(a);A=wt(A),pr(c,{name:A,fromWireType:function(v){return v},toWireType:function(v,D){if(typeof D!="number"&&typeof D!="boolean")throw new TypeError('Cannot convert "'+Ur(D)+'" to '+this.name);return D},argPackAdvance:8,readValueFromPointer:fn(A,f),destructorFunction:null})}function Pr(c,A){if(!(c instanceof Function))throw new TypeError("new_ called with constructor type "+typeof c+" which is not a function");var a=ir(c.name||"unknownFunctionName",function(){});a.prototype=c.prototype;var f=new a,v=c.apply(f,A);return v instanceof Object?v:f}function nn(c){for(;c.length;){var A=c.pop(),a=c.pop();a(A)}}function Dn(c,A,a,f,v){var D=A.length;D<2&&Zt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var N=A[1]!==null&&a!==null,y=!1,w=1;w<A.length;++w)if(A[w]!==null&&A[w].destructorFunction===void 0){y=!0;break}for(var k=A[0].name!=="void",te="",M="",w=0;w<D-2;++w)te+=(w!==0?", ":"")+"arg"+w,M+=(w!==0?", ":"")+"arg"+w+"Wired";var m="return function "+Gt(c)+"("+te+`) {
if (arguments.length !== `+(D-2)+`) {
throwBindingError('function `+c+" called with ' + arguments.length + ' arguments, expected "+(D-2)+` args!');
}
`;y&&(m+=`var destructors = [];
`);var T=y?"destructors":"null",x=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],z=[Zt,f,v,nn,A[0],A[1]];N&&(m+="var thisWired = classParam.toWireType("+T+`, this);
`);for(var w=0;w<D-2;++w)m+="var arg"+w+"Wired = argType"+w+".toWireType("+T+", arg"+w+"); // "+A[w+2].name+`
`,x.push("argType"+w),z.push(A[w+2]);if(N&&(M="thisWired"+(M.length>0?", ":"")+M),m+=(k?"var rv = ":"")+"invoker(fn"+(M.length>0?", ":"")+M+`);
`,y)m+=`runDestructors(destructors);
`;else for(var w=N?1:2;w<A.length;++w){var S=w===1?"thisWired":"arg"+(w-2)+"Wired";A[w].destructorFunction!==null&&(m+=S+"_dtor("+S+"); // "+A[w].name+`
`,x.push(S+"_dtor"),z.push(A[w].destructorFunction))}k&&(m+=`var ret = retType.fromWireType(rv);
return ret;
`),m+=`}
`,x.push(m);var G=Pr(Function,x).apply(null,z);return G}function on(c,A,a){if(c[A].overloadTable===void 0){var f=c[A];c[A]=function(){return c[A].overloadTable.hasOwnProperty(arguments.length)||Zt("Function '"+a+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+c[A].overloadTable+")!"),c[A].overloadTable[arguments.length].apply(this,arguments)},c[A].overloadTable=[],c[A].overloadTable[f.argCount]=f}}function Cn(c,A,a){r.hasOwnProperty(c)?((a===void 0||r[c].overloadTable!==void 0&&r[c].overloadTable[a]!==void 0)&&Zt("Cannot register public name '"+c+"' twice"),on(r,c,c),r.hasOwnProperty(a)&&Zt("Cannot register multiple overloads of a function with the same number of arguments ("+a+")!"),r[c].overloadTable[a]=A):(r[c]=A,a!==void 0&&(r[c].numArguments=a))}function An(c,A){for(var a=[],f=0;f<c;f++)a.push(Be[(A>>2)+f]);return a}function In(c,A,a){r.hasOwnProperty(c)||Wt("Replacing nonexistant public symbol"),r[c].overloadTable!==void 0&&a!==void 0?r[c].overloadTable[a]=A:(r[c]=A,r[c].argCount=a)}function yn(c,A,a){var f=r["dynCall_"+c];return a&&a.length?f.apply(null,[A].concat(a)):f.call(null,A)}function h(c,A,a){return c.includes("j")?yn(c,A,a):Bt.get(A).apply(null,a)}function P(c,A){var a=[];return function(){a.length=arguments.length;for(var f=0;f<arguments.length;f++)a[f]=arguments[f];return h(c,A,a)}}function Q(c,A){c=wt(c);function a(){return c.includes("j")?P(c,A):Bt.get(A)}var f=a();return typeof f!="function"&&Zt("unknown function pointer with signature "+c+": "+A),f}var pe=void 0;function me(c){var A=it(c),a=wt(A);return Pe(A),a}function R(c,A){var a=[],f={};function v(D){if(!f[D]&&!Rt[D]){if(rt[D]){rt[D].forEach(v);return}a.push(D),f[D]=!0}}throw A.forEach(v),new pe(c+": "+a.map(me).join([", "]))}function U(c,A,a,f,v,D){var N=An(A,a);c=wt(c),v=Q(f,v),Cn(c,function(){R("Cannot call "+c+" due to unbound types",N)},A-1),Yt([],N,function(y){var w=[y[0],null].concat(y.slice(1));return In(c,Dn(c,w,null,v,D),A-1),[]})}function ee(c,A,a){switch(A){case 0:return a?function(v){return Jt[v]}:function(v){return qe[v]};case 1:return a?function(v){return Tt[v>>1]}:function(v){return dt[v>>1]};case 2:return a?function(v){return Be[v>>2]}:function(v){return We[v>>2]};default:throw new TypeError("Unknown integer type: "+c)}}function ve(c,A,a,f,v){A=wt(A),v===-1&&(v=4294967295);var D=vr(a),N=function(k){return k};if(f===0){var y=32-8*a;N=function(k){return k<<y>>>y}}var w=A.includes("unsigned");pr(c,{name:A,fromWireType:N,toWireType:function(k,te){if(typeof te!="number"&&typeof te!="boolean")throw new TypeError('Cannot convert "'+Ur(te)+'" to '+this.name);if(te<f||te>v)throw new TypeError('Passing a number "'+Ur(te)+'" from JS side to C/C++ side to an argument of type "'+A+'", which is outside the valid range ['+f+", "+v+"]!");return w?te>>>0:te|0},argPackAdvance:8,readValueFromPointer:ee(A,D,f!==0),destructorFunction:null})}function He(c,A,a){var f=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],v=f[A];function D(N){N=N>>2;var y=We,w=y[N],k=y[N+1];return new v(Ft,k,w)}a=wt(a),pr(c,{name:a,fromWireType:D,argPackAdvance:8,readValueFromPointer:D},{ignoreDuplicateRegistrations:!0})}function Ke(c,A){A=wt(A);var a=A==="std::string";pr(c,{name:A,fromWireType:function(f){var v=We[f>>2],D;if(a)for(var N=f+4,y=0;y<=v;++y){var w=f+4+y;if(y==v||qe[w]==0){var k=w-N,te=Fr(N,k);D===void 0?D=te:(D+=String.fromCharCode(0),D+=te),N=w+1}}else{for(var M=new Array(v),y=0;y<v;++y)M[y]=String.fromCharCode(qe[f+4+y]);D=M.join("")}return Pe(f),D},toWireType:function(f,v){v instanceof ArrayBuffer&&(v=new Uint8Array(v));var D,N=typeof v=="string";N||v instanceof Uint8Array||v instanceof Uint8ClampedArray||v instanceof Int8Array||Zt("Cannot pass non-string to std::string"),a&&N?D=function(){return $r(v)}:D=function(){return v.length};var y=D(),w=Ye(4+y+1);if(We[w>>2]=y,a&&N)tn(v,w+4,y+1);else if(N)for(var k=0;k<y;++k){var te=v.charCodeAt(k);te>255&&(Pe(w),Zt("String has UTF-16 code units that do not fit in 8 bits")),qe[w+4+k]=te}else for(var k=0;k<y;++k)qe[w+4+k]=v[k];return f!==null&&f.push(Pe,w),w},argPackAdvance:8,readValueFromPointer:Dr,destructorFunction:function(f){Pe(f)}})}function ht(c,A,a){a=wt(a);var f,v,D,N,y;A===2?(f=hn,v=bn,N=En,D=function(){return dt},y=1):A===4&&(f=Bn,v=an,N=sn,D=function(){return We},y=2),pr(c,{name:a,fromWireType:function(w){for(var k=We[w>>2],te=D(),M,m=w+4,T=0;T<=k;++T){var x=w+4+T*A;if(T==k||te[x>>y]==0){var z=x-m,S=f(m,z);M===void 0?M=S:(M+=String.fromCharCode(0),M+=S),m=x+A}}return Pe(w),M},toWireType:function(w,k){typeof k!="string"&&Zt("Cannot pass non-string to C++ string type "+a);var te=N(k),M=Ye(4+te+A);return We[M>>2]=te>>y,v(k,M+4,te+A),w!==null&&w.push(Pe,M),M},argPackAdvance:8,readValueFromPointer:Dr,destructorFunction:function(w){Pe(w)}})}function Xe(c,A){A=wt(A),pr(c,{isVoid:!0,name:A,argPackAdvance:0,fromWireType:function(){},toWireType:function(a,f){}})}var pt={};function Vt(c){var A=pt[c];return A===void 0?wt(c):A}function br(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function Hr(c){return c===0?Mt(br()):(c=Vt(c),Mt(br()[c]))}function ur(c){c>4&&(or[c].refcount+=1)}function fr(c,A){var a=Rt[c];return a===void 0&&Zt(A+" has unknown type "+me(c)),a}function tr(c){for(var A="",a=0;a<c;++a)A+=(a!==0?", ":"")+"arg"+a;for(var f="return function emval_allocator_"+c+`(constructor, argTypes, args) {
`,a=0;a<c;++a)f+="var argType"+a+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+a+'], "parameter '+a+`");
var arg`+a+" = argType"+a+`.readValueFromPointer(args);
args += argType`+a+`['argPackAdvance'];
`;return f+="var obj = new constructor("+A+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",f)(fr,r,Mt)}var Vr={};function Tr(c){return c||Zt("Cannot use deleted val. handle = "+c),or[c].value}function $t(c,A,a,f){c=Tr(c);var v=Vr[A];return v||(v=tr(A),Vr[A]=v),v(c,a,f)}function mt(){Se()}function vt(c,A,a){qe.copyWithin(c,A,A+a)}function rr(c){try{return yt.grow(c-Ft.byteLength+65535>>>16),tt(yt.buffer),1}catch{}}function Er(c){var A=qe.length;c=c>>>0;var a=2147483648;if(c>a)return!1;for(var f=1;f<=4;f*=2){var v=A*(1+.2/f);v=Math.min(v,c+100663296);var D=Math.min(a,un(Math.max(c,v),65536)),N=rr(D);if(N)return!0}return!1}var oe={mappings:{},buffers:[null,[],[]],printChar:function(c,A){var a=oe.buffers[c];A===0||A===10?((c===1?Ot:ft)(Jr(a,0)),a.length=0):a.push(A)},varargs:void 0,get:function(){oe.varargs+=4;var c=Be[oe.varargs-4>>2];return c},getStr:function(c){var A=Fr(c);return A},get64:function(c,A){return c}};function fe(c,A,a,f){for(var v=0,D=0;D<a;D++){for(var N=Be[A+D*8>>2],y=Be[A+(D*8+4)>>2],w=0;w<y;w++)oe.printChar(c,qe[N+w]);v+=y}return Be[f>>2]=v,0}function he(c){}gr(),Qe=r.BindingError=lr(Error,"BindingError"),St=r.InternalError=lr(Error,"InternalError"),xr(),pe=r.UnboundTypeError=lr(Error,"UnboundTypeError");var Ee={p:Qt,e:hr,o:Or,r:wr,m:Sr,v:er,k:Gr,q:U,b:ve,a:He,l:Ke,g:ht,n:Xe,c:Xt,d:Hr,h:ur,i:$t,j:mt,t:vt,f:Er,u:fe,s:he};Le(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.x).apply(null,arguments)};var Pe=r._free=function(){return(Pe=r._free=r.asm.y).apply(null,arguments)},Ye=r._malloc=function(){return(Ye=r._malloc=r.asm.z).apply(null,arguments)},it=r.___getTypeName=function(){return(it=r.___getTypeName=r.asm.A).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.B).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.D).apply(null,arguments)};var E;mr=function c(){E||l(),E||(mr=c)};function l(c){if(kt>0||(Nr(),kt>0))return;function A(){E||(E=!0,r.calledRun=!0,!Ar&&(rn(),Fe(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),cn()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),A()},1)):A()}if(r.run=l,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return l(),r.ready}}(),st=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/wp2_node_dec-87bef8e5.wasm").href:new URL("wp2_node_dec-87bef8e5.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href;let Ze,ot=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});ot.decode();let jt=null;function K(){return(jt===null||jt.buffer!==Ze.memory.buffer)&&(jt=new Uint8Array(Ze.memory.buffer)),jt}function Pn(we,r){return ot.decode(K().subarray(we,we+r))}let Kr=null;function Xr(){return(Kr===null||Kr.buffer!==Ze.memory.buffer)&&(Kr=new Uint8ClampedArray(Ze.memory.buffer)),Kr}function xn(we,r){return Xr().subarray(we/1,we/1+r)}const Br=new Array(32).fill(void 0);Br.push(void 0,null,!0,!1);let ut=Br.length;function F(we){ut===Br.length&&Br.push(Br.length+1);const r=ut;return ut=Br[r],Br[r]=we,r}let Zn=0;function kn(we,r){const Fe=r(we.length*1);return K().set(we,Fe/1),Zn=we.length,Fe}let Ei=null;function qi(){return(Ei===null||Ei.buffer!==Ze.memory.buffer)&&(Ei=new Int32Array(Ze.memory.buffer)),Ei}function io(we,r){return K().subarray(we/1,we/1+r)}function Pi(we,r,Fe){try{const At=Ze.__wbindgen_add_to_stack_pointer(-16);var Ne=kn(we,Ze.__wbindgen_malloc),Oe=Zn;Ze.encode(At,Ne,Oe,r,Fe);var Ce=qi()[At/4+0],Ct=qi()[At/4+1],at=io(Ce,Ct).slice();return Ze.__wbindgen_free(Ce,Ct*1),at}finally{Ze.__wbindgen_add_to_stack_pointer(16)}}function mn(we){return Br[we]}function Bi(we){we<36||(Br[we]=ut,ut=we)}function Un(we){const r=mn(we);return Bi(we),r}function gi(we){var r=kn(we,Ze.__wbindgen_malloc),Fe=Zn,Ne=Ze.decode(r,Fe);return Un(Ne)}async function zi(we,r){if(typeof Response=="function"&&we instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(we,r)}catch(Ne){if(we.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",Ne);else throw Ne}const Fe=await we.arrayBuffer();return await WebAssembly.instantiate(Fe,r)}else{const Fe=await WebAssembly.instantiate(we,r);return Fe instanceof WebAssembly.Instance?{instance:Fe,module:we}:Fe}}async function Oi(we){typeof we>"u"&&(we=new URL("squoosh_png_bg.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href));const r={};r.wbg={},r.wbg.__wbg_newwithownedu8clampedarrayandsh_787b2db8ea6bfd62=function(Oe,Ce,Ct,at){var At=xn(Oe,Ce).slice();Ze.__wbindgen_free(Oe,Ce*1);var It=new ImageData(At,Ct>>>0,at>>>0);return F(It)},r.wbg.__wbindgen_throw=function(Oe,Ce){throw new Error(Pn(Oe,Ce))},(typeof we=="string"||typeof Request=="function"&&we instanceof Request||typeof URL=="function"&&we instanceof URL)&&(we=fetch(we));const{instance:Fe,module:Ne}=await zi(await we,r);return Ze=Fe.exports,Oi.__wbindgen_wasm_module=Ne,Ze}var qn=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/squoosh_png_bg-afa2f8d4.wasm").href:new URL("squoosh_png_bg-afa2f8d4.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href;let On,ai=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});ai.decode();let _n=null;function Gn(){return(_n===null||_n.buffer!==On.memory.buffer)&&(_n=new Uint8Array(On.memory.buffer)),_n}function Ln(we,r){return ai.decode(Gn().subarray(we,we+r))}let Mi=0;function Ni(we,r){const Fe=r(we.length*1);return Gn().set(we,Fe/1),Mi=we.length,Fe}let Ci=null;function si(){return(Ci===null||Ci.buffer!==On.memory.buffer)&&(Ci=new Int32Array(On.memory.buffer)),Ci}function Jn(we,r){return Gn().subarray(we/1,we/1+r)}function pi(we,r,Fe){try{const At=On.__wbindgen_add_to_stack_pointer(-16);var Ne=Ni(we,On.__wbindgen_malloc),Oe=Mi;On.optimise(At,Ne,Oe,r,Fe);var Ce=si()[At/4+0],Ct=si()[At/4+1],at=Jn(Ce,Ct).slice();return On.__wbindgen_free(Ce,Ct*1),at}finally{On.__wbindgen_add_to_stack_pointer(16)}}async function Rn(we,r){if(typeof Response=="function"&&we instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(we,r)}catch(Ne){if(we.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",Ne);else throw Ne}const Fe=await we.arrayBuffer();return await WebAssembly.instantiate(Fe,r)}else{const Fe=await WebAssembly.instantiate(we,r);return Fe instanceof WebAssembly.Instance?{instance:Fe,module:we}:Fe}}async function oo(we){typeof we>"u"&&(we=new URL("squoosh_oxipng_bg.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href));const r={};r.wbg={},r.wbg.__wbindgen_throw=function(Oe,Ce){throw new Error(Ln(Oe,Ce))},(typeof we=="string"||typeof Request=="function"&&we instanceof Request||typeof URL=="function"&&we instanceof URL)&&(we=fetch(we));const{instance:Fe,module:Ne}=await Rn(await we,r);return On=Fe.exports,oo.__wbindgen_wasm_module=Ne,On}var Li=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/squoosh_oxipng_bg-bb6b7672.wasm").href:new URL("squoosh_oxipng_bg-bb6b7672.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href;let Sn,Wn=null;function ei(){return(Wn===null||Wn.buffer!==Sn.memory.buffer)&&(Wn=new Uint8Array(Sn.memory.buffer)),Wn}let ti=0;function wn(we,r){const Fe=r(we.length*1);return ei().set(we,Fe/1),ti=we.length,Fe}let Ii=null;function di(){return(Ii===null||Ii.buffer!==Sn.memory.buffer)&&(Ii=new Int32Array(Sn.memory.buffer)),Ii}let Vn=null;function xi(){return(Vn===null||Vn.buffer!==Sn.memory.buffer)&&(Vn=new Uint8ClampedArray(Sn.memory.buffer)),Vn}function ao(we,r){return xi().subarray(we/1,we/1+r)}function Ui(we,r,Fe,Ne,Oe,Ce,Ct,at){try{const Ot=Sn.__wbindgen_add_to_stack_pointer(-16);var At=wn(we,Sn.__wbindgen_malloc),It=ti;Sn.resize(Ot,At,It,r,Fe,Ne,Oe,Ce,Ct,at);var Lt=di()[Ot/4+0],Kt=di()[Ot/4+1],Ht=ao(Lt,Kt).slice();return Sn.__wbindgen_free(Lt,Kt*1),Ht}finally{Sn.__wbindgen_add_to_stack_pointer(16)}}async function Yi(we,r){if(typeof Response=="function"&&we instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(we,r)}catch(Ne){if(we.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",Ne);else throw Ne}const Fe=await we.arrayBuffer();return await WebAssembly.instantiate(Fe,r)}else{const Fe=await WebAssembly.instantiate(we,r);return Fe instanceof WebAssembly.Instance?{instance:Fe,module:we}:Fe}}async function Xi(we){typeof we>"u"&&(we=new URL("squoosh_resize_bg.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href));const r={};(typeof we=="string"||typeof Request=="function"&&we instanceof Request||typeof URL=="function"&&we instanceof URL)&&(we=fetch(we));const{instance:Fe,module:Ne}=await Yi(await we,r);return Sn=Fe.exports,Xi.__wbindgen_wasm_module=Ne,Sn}var Gi=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/squoosh_resize_bg-3d426466.wasm").href:new URL("squoosh_resize_bg-3d426466.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,_i=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/rotate-e8fb6784.wasm").href:new URL("rotate-e8fb6784.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href,Hi=function(){return function(r){r=r||{};var r=typeof r<"u"?r:{},Fe,Ne;r.ready=new Promise(function(E,l){Fe=E,Ne=l});var Oe={},Ce;for(Ce in r)r.hasOwnProperty(Ce)&&(Oe[Ce]=r[Ce]);var Ct=!1,at="";function At(E){return r.locateFile?r.locateFile(E,at):at+E}var It,Lt,Kt,Ht;at=__dirname+"/",It=function(l,c){return Kt||(Kt=Zr),Ht||(Ht=Zr),l=Ht.normalize(l),Kt.readFileSync(l,c?null:"utf8")},Lt=function(l){var c=It(l,!0);return c.buffer||(c=new Uint8Array(c)),Mr(c.buffer),c},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),r.inspect=function(){return"[Emscripten Module object]"};var Ot=r.print||console.log.bind(console),ft=r.printErr||console.warn.bind(console);for(Ce in Oe)Oe.hasOwnProperty(Ce)&&(r[Ce]=Oe[Ce]);Oe=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var ct;r.wasmBinary&&(ct=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&Se("no native wasm support detected");var yt,Ar=!1;function Mr(E,l){E||Se("Assertion failed: "+l)}var Nt=new TextDecoder("utf8");function Jr(E,l,c){for(var A=l+c,a=l;E[a]&&!(a>=A);)++a;return Nt.decode(E.subarray?E.subarray(l,a):new Uint8Array(E.slice(l,a)))}function Fr(E,l){if(!E)return"";for(var c=E+l,A=E;!(A>=c)&&qe[A];)++A;return Nt.decode(qe.subarray(E,A))}function jr(E,l,c,A){if(!(A>0))return 0;for(var a=c,f=c+A-1,v=0;v<E.length;++v){var D=E.charCodeAt(v);if(D>=55296&&D<=57343){var N=E.charCodeAt(++v);D=65536+((D&1023)<<10)|N&1023}if(D<=127){if(c>=f)break;l[c++]=D}else if(D<=2047){if(c+1>=f)break;l[c++]=192|D>>6,l[c++]=128|D&63}else if(D<=65535){if(c+2>=f)break;l[c++]=224|D>>12,l[c++]=128|D>>6&63,l[c++]=128|D&63}else{if(c+3>=f)break;l[c++]=240|D>>18,l[c++]=128|D>>12&63,l[c++]=128|D>>6&63,l[c++]=128|D&63}}return l[c]=0,c-a}function tn(E,l,c){return jr(E,qe,l,c)}function $r(E){for(var l=0,c=0;c<E.length;++c){var A=E.charCodeAt(c);A>=55296&&A<=57343&&(A=65536+((A&1023)<<10)|E.charCodeAt(++c)&1023),A<=127?++l:A<=2047?l+=2:A<=65535?l+=3:l+=4}return l}var vn=new TextDecoder("utf-16le");function hn(E,l){for(var c=E,A=c>>1,a=A+l/2;!(A>=a)&&dt[A];)++A;return c=A<<1,vn.decode(qe.subarray(E,c))}function bn(E,l,c){if(c===void 0&&(c=2147483647),c<2)return 0;c-=2;for(var A=l,a=c<E.length*2?c/2:E.length,f=0;f<a;++f){var v=E.charCodeAt(f);Tt[l>>1]=v,l+=2}return Tt[l>>1]=0,l-A}function En(E){return E.length*2}function Bn(E,l){for(var c=0,A="";!(c>=l/4);){var a=Be[E+c*4>>2];if(a==0)break;if(++c,a>=65536){var f=a-65536;A+=String.fromCharCode(55296|f>>10,56320|f&1023)}else A+=String.fromCharCode(a)}return A}function an(E,l,c){if(c===void 0&&(c=2147483647),c<4)return 0;for(var A=l,a=A+c-4,f=0;f<E.length;++f){var v=E.charCodeAt(f);if(v>=55296&&v<=57343){var D=E.charCodeAt(++f);v=65536+((v&1023)<<10)|D&1023}if(Be[l>>2]=v,l+=4,l+4>a)break}return Be[l>>2]=0,l-A}function sn(E){for(var l=0,c=0;c<E.length;++c){var A=E.charCodeAt(c);A>=55296&&A<=57343&&++c,l+=4}return l}function un(E,l){return E%l>0&&(E+=l-E%l),E}var Ft,Jt,qe,Tt,dt,Be,We,sr,Je;function tt(E){Ft=E,r.HEAP8=Jt=new Int8Array(E),r.HEAP16=Tt=new Int16Array(E),r.HEAP32=Be=new Int32Array(E),r.HEAPU8=qe=new Uint8Array(E),r.HEAPU16=dt=new Uint16Array(E),r.HEAPU32=We=new Uint32Array(E),r.HEAPF32=sr=new Float32Array(E),r.HEAPF64=Je=new Float64Array(E)}r.INITIAL_MEMORY;var Bt,kr=[],Wr=[],qt=[];function Nr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)gn(r.preRun.shift());Ut(kr)}function rn(){Ut(Wr)}function cn(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)qr(r.postRun.shift());Ut(qt)}function gn(E){kr.unshift(E)}function Lr(E){Wr.unshift(E)}function qr(E){qt.unshift(E)}var kt=0,mr=null;function zr(E){kt++,r.monitorRunDependencies&&r.monitorRunDependencies(kt)}function cr(E){if(kt--,r.monitorRunDependencies&&r.monitorRunDependencies(kt),kt==0&&mr){var l=mr;mr=null,l()}}r.preloadedImages={},r.preloadedAudios={};function Se(E){r.onAbort&&r.onAbort(E),E+="",ft(E),Ar=!0,E="abort("+E+"). Build with -s ASSERTIONS=1 for more info.";var l=new WebAssembly.RuntimeError(E);throw Ne(l),l}var j="data:application/octet-stream;base64,";function $(E){return E.startsWith(j)}if(r.locateFile){var ae="imagequant_node.wasm";$(ae)||(ae=At(ae))}else var ae=new URL("imagequant_node.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href).toString();function Ae(E){try{if(E==ae&&ct)return new Uint8Array(ct);if(Lt)return Lt(E);throw"both async and sync fetching of the wasm failed"}catch(l){Se(l)}}function Ie(){return!ct&&Ct&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(E){if(!E.ok)throw"failed to load wasm binary file at '"+ae+"'";return E.arrayBuffer()}).catch(function(){return Ae(ae)}):Promise.resolve().then(function(){return Ae(ae)})}function Le(){var E={a:fe};function l(v,D){var N=v.exports;r.asm=N,yt=r.asm.w,tt(yt.buffer),Bt=r.asm.C,Lr(r.asm.x),cr()}zr();function c(v){l(v.instance)}function A(v){return Ie().then(function(D){var N=WebAssembly.instantiate(D,E);return N}).then(v,function(D){ft("failed to asynchronously prepare wasm: "+D),Se(D)})}function a(){return!ct&&typeof WebAssembly.instantiateStreaming=="function"&&!$(ae)&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(v){var D=WebAssembly.instantiateStreaming(v,E);return D.then(c,function(N){return ft("wasm streaming compile failed: "+N),ft("falling back to ArrayBuffer instantiation"),A(c)})}):A(c)}if(r.instantiateWasm)try{var f=r.instantiateWasm(E,l);return f}catch(v){return ft("Module.instantiateWasm callback failed with error: "+v),!1}return a().catch(Ne),{}}function Ut(E){for(;E.length>0;){var l=E.shift();if(typeof l=="function"){l(r);continue}var c=l.func;typeof c=="number"?l.arg===void 0?Bt.get(c)():Bt.get(c)(l.arg):c(l.arg===void 0?null:l.arg)}}function yr(E,l){}function Qt(E,l){return void 0}function Qr(E,l,c,A,a){}function hr(E){switch(E){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+E)}}function Rr(){for(var E=new Array(256),l=0;l<256;++l)E[l]=String.fromCharCode(l);Or=E}var Or=void 0;function wr(E){for(var l="",c=E;qe[c];)l+=Or[qe[c++]];return l}var vr={},gr={},_t={},wt=48,zt=57;function Rt(E){if(E===void 0)return"_unknown";E=E.replace(/[^a-zA-Z0-9_]/g,"$");var l=E.charCodeAt(0);return l>=wt&&l<=zt?"_"+E:E}function rt(E,l){return E=Rt(E),new Function("body","return function "+E+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(l)}function nr(E,l){var c=rt(l,function(A){this.name=l,this.message=A;var a=new Error(A).stack;a!==void 0&&(this.stack=this.toString()+`
`+a.replace(/^Error(:[^\n]*)?\n/,""))});return c.prototype=Object.create(E.prototype),c.prototype.constructor=c,c.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},c}var Cr=void 0;function Gt(E){throw new Cr(E)}var ir=void 0;function lr(E){throw new ir(E)}function Qe(E,l,c){E.forEach(function(D){_t[D]=l});function A(D){var N=c(D);N.length!==E.length&&lr("Mismatched type converter count");for(var y=0;y<E.length;++y)Zt(E[y],N[y])}var a=new Array(l.length),f=[],v=0;l.forEach(function(D,N){gr.hasOwnProperty(D)?a[N]=gr[D]:(f.push(D),vr.hasOwnProperty(D)||(vr[D]=[]),vr[D].push(function(){a[N]=gr[D],++v,v===f.length&&A(a)}))}),f.length===0&&A(a)}function Zt(E,l,c){if(c=c||{},!("argPackAdvance"in l))throw new TypeError("registerType registeredInstance requires argPackAdvance");var A=l.name;if(E||Gt('type "'+A+'" must have a positive integer typeid pointer'),gr.hasOwnProperty(E)){if(c.ignoreDuplicateRegistrations)return;Gt("Cannot register type '"+A+"' twice")}if(gr[E]=l,delete _t[E],vr.hasOwnProperty(E)){var a=vr[E];delete vr[E],a.forEach(function(f){f()})}}function St(E,l,c,A,a){var f=hr(c);l=wr(l),Zt(E,{name:l,fromWireType:function(v){return!!v},toWireType:function(v,D){return D?A:a},argPackAdvance:8,readValueFromPointer:function(v){var D;if(c===1)D=Jt;else if(c===2)D=Tt;else if(c===4)D=Be;else throw new TypeError("Unknown boolean type size: "+l);return this.fromWireType(D[v>>f])},destructorFunction:null})}var Wt=[],Yt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function pr(E){E>4&&--Yt[E].refcount===0&&(Yt[E]=void 0,Wt.push(E))}function Sr(){for(var E=0,l=5;l<Yt.length;++l)Yt[l]!==void 0&&++E;return E}function Dt(){for(var E=5;E<Yt.length;++E)if(Yt[E]!==void 0)return Yt[E];return null}function or(){r.count_emval_handles=Sr,r.get_first_emval=Dt}function Xt(E){switch(E){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var l=Wt.length?Wt.pop():Yt.length;return Yt[l]={refcount:1,value:E},l}}}function nt(E){return this.fromWireType(We[E>>2])}function dr(E,l){l=wr(l),Zt(E,{name:l,fromWireType:function(c){var A=Yt[c].value;return pr(c),A},toWireType:function(c,A){return Xt(A)},argPackAdvance:8,readValueFromPointer:nt,destructorFunction:null})}function xr(E){if(E===null)return"null";var l=typeof E;return l==="object"||l==="array"||l==="function"?E.toString():""+E}function Mt(E,l){switch(l){case 2:return function(c){return this.fromWireType(sr[c>>2])};case 3:return function(c){return this.fromWireType(Je[c>>3])};default:throw new TypeError("Unknown float type: "+E)}}function Dr(E,l,c){var A=hr(c);l=wr(l),Zt(E,{name:l,fromWireType:function(a){return a},toWireType:function(a,f){if(typeof f!="number"&&typeof f!="boolean")throw new TypeError('Cannot convert "'+xr(f)+'" to '+this.name);return f},argPackAdvance:8,readValueFromPointer:Mt(l,A),destructorFunction:null})}function er(E,l){if(!(E instanceof Function))throw new TypeError("new_ called with constructor type "+typeof E+" which is not a function");var c=rt(E.name||"unknownFunctionName",function(){});c.prototype=E.prototype;var A=new c,a=E.apply(A,l);return a instanceof Object?a:A}function Ur(E){for(;E.length;){var l=E.pop(),c=E.pop();c(l)}}function fn(E,l,c,A,a){var f=l.length;f<2&&Gt("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var v=l[1]!==null&&c!==null,D=!1,N=1;N<l.length;++N)if(l[N]!==null&&l[N].destructorFunction===void 0){D=!0;break}for(var y=l[0].name!=="void",w="",k="",N=0;N<f-2;++N)w+=(N!==0?", ":"")+"arg"+N,k+=(N!==0?", ":"")+"arg"+N+"Wired";var te="return function "+Rt(E)+"("+w+`) {
if (arguments.length !== `+(f-2)+`) {
throwBindingError('function `+E+" called with ' + arguments.length + ' arguments, expected "+(f-2)+` args!');
}
`;D&&(te+=`var destructors = [];
`);var M=D?"destructors":"null",m=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],T=[Gt,A,a,Ur,l[0],l[1]];v&&(te+="var thisWired = classParam.toWireType("+M+`, this);
`);for(var N=0;N<f-2;++N)te+="var arg"+N+"Wired = argType"+N+".toWireType("+M+", arg"+N+"); // "+l[N+2].name+`
`,m.push("argType"+N),T.push(l[N+2]);if(v&&(k="thisWired"+(k.length>0?", ":"")+k),te+=(y?"var rv = ":"")+"invoker(fn"+(k.length>0?", ":"")+k+`);
`,D)te+=`runDestructors(destructors);
`;else for(var N=v?1:2;N<l.length;++N){var x=N===1?"thisWired":"arg"+(N-2)+"Wired";l[N].destructorFunction!==null&&(te+=x+"_dtor("+x+"); // "+l[N].name+`
`,m.push(x+"_dtor"),T.push(l[N].destructorFunction))}y&&(te+=`var ret = retType.fromWireType(rv);
return ret;
`),te+=`}
`,m.push(te);var z=er(Function,m).apply(null,T);return z}function Gr(E,l,c){if(E[l].overloadTable===void 0){var A=E[l];E[l]=function(){return E[l].overloadTable.hasOwnProperty(arguments.length)||Gt("Function '"+c+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+E[l].overloadTable+")!"),E[l].overloadTable[arguments.length].apply(this,arguments)},E[l].overloadTable=[],E[l].overloadTable[A.argCount]=A}}function Pr(E,l,c){r.hasOwnProperty(E)?((c===void 0||r[E].overloadTable!==void 0&&r[E].overloadTable[c]!==void 0)&&Gt("Cannot register public name '"+E+"' twice"),Gr(r,E,E),r.hasOwnProperty(c)&&Gt("Cannot register multiple overloads of a function with the same number of arguments ("+c+")!"),r[E].overloadTable[c]=l):(r[E]=l,c!==void 0&&(r[E].numArguments=c))}function nn(E,l){for(var c=[],A=0;A<E;A++)c.push(Be[(l>>2)+A]);return c}function Dn(E,l,c){r.hasOwnProperty(E)||lr("Replacing nonexistant public symbol"),r[E].overloadTable!==void 0&&c!==void 0?r[E].overloadTable[c]=l:(r[E]=l,r[E].argCount=c)}function on(E,l,c){var A=r["dynCall_"+E];return c&&c.length?A.apply(null,[l].concat(c)):A.call(null,l)}function Cn(E,l,c){return E.includes("j")?on(E,l,c):Bt.get(l).apply(null,c)}function An(E,l){var c=[];return function(){c.length=arguments.length;for(var A=0;A<arguments.length;A++)c[A]=arguments[A];return Cn(E,l,c)}}function In(E,l){E=wr(E);function c(){return E.includes("j")?An(E,l):Bt.get(l)}var A=c();return typeof A!="function"&&Gt("unknown function pointer with signature "+E+": "+l),A}var yn=void 0;function h(E){var l=Pe(E),c=wr(l);return Ee(l),c}function P(E,l){var c=[],A={};function a(f){if(!A[f]&&!gr[f]){if(_t[f]){_t[f].forEach(a);return}c.push(f),A[f]=!0}}throw l.forEach(a),new yn(E+": "+c.map(h).join([", "]))}function Q(E,l,c,A,a,f){var v=nn(l,c);E=wr(E),a=In(A,a),Pr(E,function(){P("Cannot call "+E+" due to unbound types",v)},l-1),Qe([],v,function(D){var N=[D[0],null].concat(D.slice(1));return Dn(E,fn(E,N,null,a,f),l-1),[]})}function pe(E,l,c){switch(l){case 0:return c?function(a){return Jt[a]}:function(a){return qe[a]};case 1:return c?function(a){return Tt[a>>1]}:function(a){return dt[a>>1]};case 2:return c?function(a){return Be[a>>2]}:function(a){return We[a>>2]};default:throw new TypeError("Unknown integer type: "+E)}}function me(E,l,c,A,a){l=wr(l),a===-1&&(a=4294967295);var f=hr(c),v=function(y){return y};if(A===0){var D=32-8*c;v=function(y){return y<<D>>>D}}var N=l.includes("unsigned");Zt(E,{name:l,fromWireType:v,toWireType:function(y,w){if(typeof w!="number"&&typeof w!="boolean")throw new TypeError('Cannot convert "'+xr(w)+'" to '+this.name);if(w<A||w>a)throw new TypeError('Passing a number "'+xr(w)+'" from JS side to C/C++ side to an argument of type "'+l+'", which is outside the valid range ['+A+", "+a+"]!");return N?w>>>0:w|0},argPackAdvance:8,readValueFromPointer:pe(l,f,A!==0),destructorFunction:null})}function R(E,l,c){var A=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=A[l];function f(v){v=v>>2;var D=We,N=D[v],y=D[v+1];return new a(Ft,y,N)}c=wr(c),Zt(E,{name:c,fromWireType:f,argPackAdvance:8,readValueFromPointer:f},{ignoreDuplicateRegistrations:!0})}function U(E,l){l=wr(l);var c=l==="std::string";Zt(E,{name:l,fromWireType:function(A){var a=We[A>>2],f;if(c)for(var v=A+4,D=0;D<=a;++D){var N=A+4+D;if(D==a||qe[N]==0){var y=N-v,w=Fr(v,y);f===void 0?f=w:(f+=String.fromCharCode(0),f+=w),v=N+1}}else{for(var k=new Array(a),D=0;D<a;++D)k[D]=String.fromCharCode(qe[A+4+D]);f=k.join("")}return Ee(A),f},toWireType:function(A,a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));var f,v=typeof a=="string";v||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int8Array||Gt("Cannot pass non-string to std::string"),c&&v?f=function(){return $r(a)}:f=function(){return a.length};var D=f(),N=he(4+D+1);if(We[N>>2]=D,c&&v)tn(a,N+4,D+1);else if(v)for(var y=0;y<D;++y){var w=a.charCodeAt(y);w>255&&(Ee(N),Gt("String has UTF-16 code units that do not fit in 8 bits")),qe[N+4+y]=w}else for(var y=0;y<D;++y)qe[N+4+y]=a[y];return A!==null&&A.push(Ee,N),N},argPackAdvance:8,readValueFromPointer:nt,destructorFunction:function(A){Ee(A)}})}function ee(E,l,c){c=wr(c);var A,a,f,v,D;l===2?(A=hn,a=bn,v=En,f=function(){return dt},D=1):l===4&&(A=Bn,a=an,v=sn,f=function(){return We},D=2),Zt(E,{name:c,fromWireType:function(N){for(var y=We[N>>2],w=f(),k,te=N+4,M=0;M<=y;++M){var m=N+4+M*l;if(M==y||w[m>>D]==0){var T=m-te,x=A(te,T);k===void 0?k=x:(k+=String.fromCharCode(0),k+=x),te=m+l}}return Ee(N),k},toWireType:function(N,y){typeof y!="string"&&Gt("Cannot pass non-string to C++ string type "+c);var w=v(y),k=he(4+w+l);return We[k>>2]=w>>D,a(y,k+4,w+l),N!==null&&N.push(Ee,k),k},argPackAdvance:8,readValueFromPointer:nt,destructorFunction:function(N){Ee(N)}})}function ve(E,l){l=wr(l),Zt(E,{isVoid:!0,name:l,argPackAdvance:0,fromWireType:function(){},toWireType:function(c,A){}})}var He={};function Ke(E){var l=He[E];return l===void 0?wr(E):l}function ht(){return typeof globalThis=="object"?globalThis:function(){return Function}()("return this")()}function Xe(E){return E===0?Xt(ht()):(E=Ke(E),Xt(ht()[E]))}function pt(E){E>4&&(Yt[E].refcount+=1)}function Vt(E,l){var c=gr[E];return c===void 0&&Gt(l+" has unknown type "+h(E)),c}function br(E){for(var l="",c=0;c<E;++c)l+=(c!==0?", ":"")+"arg"+c;for(var A="return function emval_allocator_"+E+`(constructor, argTypes, args) {
`,c=0;c<E;++c)A+="var argType"+c+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+c+'], "parameter '+c+`");
var arg`+c+" = argType"+c+`.readValueFromPointer(args);
args += argType`+c+`['argPackAdvance'];
`;return A+="var obj = new constructor("+l+`);
return __emval_register(obj);
}
`,new Function("requireRegisteredType","Module","__emval_register",A)(Vt,r,Xt)}var Hr={};function ur(E){return E||Gt("Cannot use deleted val. handle = "+E),Yt[E].value}function fr(E,l,c,A){E=ur(E);var a=Hr[l];return a||(a=br(l),Hr[l]=a),a(E,c,A)}function tr(){Se()}function Vr(E,l,c){qe.copyWithin(E,l,l+c)}function Tr(E){try{return yt.grow(E-Ft.byteLength+65535>>>16),tt(yt.buffer),1}catch{}}function $t(E){var l=qe.length;E=E>>>0;var c=2147483648;if(E>c)return!1;for(var A=1;A<=4;A*=2){var a=l*(1+.2/A);a=Math.min(a,E+100663296);var f=Math.min(c,un(Math.max(E,a),65536)),v=Tr(f);if(v)return!0}return!1}var mt={mappings:{},buffers:[null,[],[]],printChar:function(E,l){var c=mt.buffers[E];l===0||l===10?((E===1?Ot:ft)(Jr(c,0)),c.length=0):c.push(l)},varargs:void 0,get:function(){mt.varargs+=4;var E=Be[mt.varargs-4>>2];return E},getStr:function(E){var l=Fr(E);return l},get64:function(E,l){return E}};function vt(E){return 0}function rr(E,l,c,A,a){}function Er(E,l,c,A){for(var a=0,f=0;f<c;f++){for(var v=Be[l+f*8>>2],D=Be[l+(f*8+4)>>2],N=0;N<D;N++)mt.printChar(E,qe[v+N]);a+=D}return Be[A>>2]=a,0}function oe(E){}Rr(),Cr=r.BindingError=nr(Error,"BindingError"),ir=r.InternalError=nr(Error,"InternalError"),or(),yn=r.UnboundTypeError=nr(Error,"UnboundTypeError");var fe={m:Qt,q:Qr,n:St,v:dr,l:Dr,c:Q,b:me,a:R,h:U,f:ee,o:ve,d:pr,k:Xe,i:pt,j:fr,g:tr,s:Vr,e:$t,u:vt,p:rr,t:Er,r:oe};Le(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.x).apply(null,arguments)};var he=r._malloc=function(){return(he=r._malloc=r.asm.y).apply(null,arguments)},Ee=r._free=function(){return(Ee=r._free=r.asm.z).apply(null,arguments)},Pe=r.___getTypeName=function(){return(Pe=r.___getTypeName=r.asm.A).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.B).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.D).apply(null,arguments)};var Ye;mr=function E(){Ye||it(),Ye||(mr=E)};function it(E){if(kt>0||(Nr(),kt>0))return;function l(){Ye||(Ye=!0,r.calledRun=!0,!Ar&&(rn(),Fe(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),cn()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),l()},1)):l()}if(r.run=it,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return it(),r.ready}}(),so=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/imagequant_node-a4aafbae.wasm").href:new URL("imagequant_node-a4aafbae.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href;class Ai{constructor(r,Fe,Ne){this.data=r,this.width=Fe,this.height=Ne}}globalThis.navigator={hardwareConcurrency:s.cpus().length};const Ti=Oi(e.promises.readFile(u(qn))),Et=oo(e.promises.readFile(u(Li))),ji=Xi(e.promises.readFile(u(Gi))),ri=p(Hi,so);globalThis.ImageData=Ai;function $i(we){switch(we){case"triangle":return 0;case"catrom":return 1;case"mitchell":return 2;case"lanczos3":return 3;default:throw Error(`Unknown resize algorithm "${we}"`)}}function ki({input_width:we,input_height:r,target_width:Fe,target_height:Ne}){if(!Fe&&!Ne)throw Error("Need to specify at least width or height when resizing");return Fe&&Ne?{width:Fe,height:Ne}:Fe?{width:Fe,height:Math.round(r/we*Fe)}:{width:Math.round(we/r*Ne),height:Ne}}const mi={resize:{name:"Resize",description:"Resize the image before compressing",instantiate:async()=>(await ji,(we,r,Fe,{width:Ne,height:Oe,method:Ce,premultiply:Ct,linearRGB:at})=>({width:Ne,height:Oe}=ki({input_width:r,input_height:Fe,target_width:Ne,target_height:Oe}),new Ai(Ui(we,r,Fe,Ne,Oe,$i(Ce),Ct,at),Ne,Oe))),defaultOptions:{method:"lanczos3",fitMethod:"stretch",premultiply:!0,linearRGB:!0}},quant:{name:"ImageQuant",description:"Reduce the number of colors used (aka. paletting)",instantiate:async()=>{const we=await ri;return(r,Fe,Ne,{numColors:Oe,dither:Ce})=>new Ai(we.quantize(r,Fe,Ne,Oe,Ce),Fe,Ne)},defaultOptions:{numColors:255,dither:1}},rotate:{name:"Rotate",description:"Rotate image",instantiate:async()=>async(we,r,Fe,{numRotations:Ne})=>{const Oe=Ne*90%360,Ce=Oe==0||Oe==180,Ct=r*Fe*4,at=(await WebAssembly.instantiate(await e.promises.readFile(u(_i)))).instance,{memory:At}=at.exports,It=Math.ceil((Ct*2-At.buffer.byteLength+8)/(64*1024));It>0&&At.grow(It);const Lt=new Uint8ClampedArray(At.buffer);return Lt.set(we,8),at.exports.rotate(r,Fe,Oe),new Ai(Lt.slice(Ct+8,Ct*2+8),Ce?r:Fe,Ce?Fe:r)},defaultOptions:{numRotations:0}}},Hn={mozjpeg:{name:"MozJPEG",extension:"jpg",detectors:[/^\xFF\xD8\xFF/],dec:()=>p(V,I),enc:()=>p(B,d),defaultEncoderOptions:{quality:75,baseline:!1,arithmetic:!1,progressive:!0,optimize_coding:!0,smoothing:0,color_space:3,quant_table:3,trellis_multipass:!1,trellis_opt_zero:!1,trellis_opt_table:!1,trellis_loops:1,auto_subsample:!0,chroma_subsample:2,separate_chroma_quality:!1,chroma_quality:75},autoOptimize:{option:"quality",min:0,max:100}},webp:{name:"WebP",extension:"webp",detectors:[/^RIFF....WEBPVP8[LX ]/s],dec:()=>p(le,ne),enc:()=>p(L,W),defaultEncoderOptions:{quality:75,target_size:0,target_PSNR:0,method:4,sns_strength:50,filter_strength:60,filter_sharpness:0,filter_type:1,partitions:0,segments:4,pass:1,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:0,exact:0,image_hint:0,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:0,use_sharp_yuv:0},autoOptimize:{option:"quality",min:0,max:100}},avif:{name:"AVIF",extension:"avif",detectors:[/^\x00\x00\x00 ftypavif\x00\x00\x00\x00/],dec:()=>p(_e,ye),enc:async()=>await _()?p(o.default,ce,re):p(q,X),defaultEncoderOptions:{cqLevel:33,cqAlphaLevel:-1,denoiseLevel:0,tileColsLog2:0,tileRowsLog2:0,speed:6,subsample:1,chromaDeltaQ:!1,sharpness:0,tune:0},autoOptimize:{option:"cqLevel",min:62,max:0}},jxl:{name:"JPEG-XL",extension:"jxl",detectors:[/^\xff\x0a/],dec:()=>p(Ve,ke),enc:()=>p(Ue,Ge),defaultEncoderOptions:{effort:1,quality:75,progressive:!1,epf:-1,lossyPalette:!1,decodingSpeedTier:0,photonNoiseIso:0,lossyModular:!1},autoOptimize:{option:"quality",min:0,max:100}},wp2:{name:"WebP2",extension:"wp2",detectors:[/^\xF4\xFF\x6F/],dec:()=>p(Pt,st),enc:()=>p(bt,et),defaultEncoderOptions:{quality:75,alpha_quality:75,effort:5,pass:1,sns:50,uv_mode:0,csp_type:0,error_diffusion:0,use_random_matrix:!1},autoOptimize:{option:"quality",min:0,max:100}},oxipng:{name:"OxiPNG",extension:"png",detectors:[/^\x89PNG\x0D\x0A\x1A\x0A/],dec:async()=>(await Ti,{decode:gi}),enc:async()=>(await Ti,await Et,{encode:(we,r,Fe,Ne)=>{const Oe=Pi(new Uint8Array(we),r,Fe);return pi(Oe,Ne.level,!1)}}),defaultEncoderOptions:{level:2},autoOptimize:{option:"level",min:6,max:1}}};function Qi(){return Array.from({length:16},()=>Math.floor(Math.random()*256).toString(16)).join("")}class Wi{constructor(r,Fe){this.numWorkers=r,this.jobQueue=new i.TransformStream,this.workerQueue=new i.TransformStream;const Ne=this.workerQueue.writable.getWriter();for(let Oe=0;Oe<r;Oe++)Ne.write(new n.Worker(Fe));Ne.releaseLock(),this.done=this._readLoop()}async _readLoop(){const r=this.jobQueue.readable.getReader();for(;;){const{value:Fe,done:Ne}=await r.read();if(Ne){await this._terminateAll();return}if(!Fe)throw new Error("Reader did not return any value");const{msg:Oe,resolve:Ce,reject:Ct}=Fe,at=await this._nextWorker();this.jobPromise(at,Oe).then(At=>Ce(At)).catch(At=>Ct(At)).finally(()=>{const At=this.workerQueue.writable.getWriter();At.write(at),At.releaseLock()})}}async _nextWorker(){const r=this.workerQueue.readable.getReader(),{value:Fe}=await r.read();if(r.releaseLock(),!Fe)throw new Error("No worker left");return Fe}async _terminateAll(){for(let r=0;r<this.numWorkers;r++)(await this._nextWorker()).terminate();this.workerQueue.writable.close()}async join(){this.jobQueue.writable.getWriter().close(),await this.done}dispatchJob(r){return new Promise((Fe,Ne)=>{const Oe=this.jobQueue.writable.getWriter();Oe.write({msg:r,resolve:Fe,reject:Ne}),Oe.releaseLock()})}jobPromise(r,Fe){return new Promise((Ne,Oe)=>{const Ce=Qi();r.postMessage({msg:Fe,id:Ce}),r.on("message",function Ct({error:at,result:At,id:It}){if(It===Ce){if(at){Oe(at);return}r.off("message",Ct),Ne(At)}})})}static useThisThreadAsWorker(r){n.parentPort.on("message",async Fe=>{const{msg:Ne,id:Oe}=Fe;try{const Ce=await r(Ne);n.parentPort.postMessage({result:Ce,id:Oe})}catch(Ce){n.parentPort.postMessage({error:Ce.message,id:Oe})}})}}var zn=function(){return function(r){r=r||{};var r=typeof r<"u"?r:{},Fe,Ne;r.ready=new Promise(function(g,b){Fe=g,Ne=b});var Oe={},Ce;for(Ce in r)r.hasOwnProperty(Ce)&&(Oe[Ce]=r[Ce]);var Ct=!1,at="";function At(g){return r.locateFile?r.locateFile(g,at):at+g}var It,Lt,Kt,Ht;at=__dirname+"/",It=function(b,H){return Kt||(Kt=Zr),Ht||(Ht=Zr),b=Ht.normalize(b),Kt.readFileSync(b,H?null:"utf8")},Lt=function(b){var H=It(b,!0);return H.buffer||(H=new Uint8Array(H)),Mr(H.buffer),H},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),r.inspect=function(){return"[Emscripten Module object]"};var Ot=r.print||console.log.bind(console),ft=r.printErr||console.warn.bind(console);for(Ce in Oe)Oe.hasOwnProperty(Ce)&&(r[Ce]=Oe[Ce]);Oe=null,r.arguments&&r.arguments,r.thisProgram&&r.thisProgram,r.quit&&r.quit;var ct;r.wasmBinary&&(ct=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&Se("no native wasm support detected");var yt,Ar=!1;function Mr(g,b){g||Se("Assertion failed: "+b)}var Nt=new TextDecoder("utf8");function Jr(g,b,H){for(var Z=b+H,se=b;g[se]&&!(se>=Z);)++se;return Nt.decode(g.subarray?g.subarray(b,se):new Uint8Array(g.slice(b,se)))}function Fr(g,b){if(!g)return"";for(var H=g+b,Z=g;!(Z>=H)&&qe[Z];)++Z;return Nt.decode(qe.subarray(g,Z))}function jr(g,b,H,Z){if(!(Z>0))return 0;for(var se=H,ue=H+Z-1,ge=0;ge<g.length;++ge){var be=g.charCodeAt(ge);if(be>=55296&&be<=57343){var Te=g.charCodeAt(++ge);be=65536+((be&1023)<<10)|Te&1023}if(be<=127){if(H>=ue)break;b[H++]=be}else if(be<=2047){if(H+1>=ue)break;b[H++]=192|be>>6,b[H++]=128|be&63}else if(be<=65535){if(H+2>=ue)break;b[H++]=224|be>>12,b[H++]=128|be>>6&63,b[H++]=128|be&63}else{if(H+3>=ue)break;b[H++]=240|be>>18,b[H++]=128|be>>12&63,b[H++]=128|be>>6&63,b[H++]=128|be&63}}return b[H]=0,H-se}function tn(g,b,H){return jr(g,qe,b,H)}function $r(g){for(var b=0,H=0;H<g.length;++H){var Z=g.charCodeAt(H);Z>=55296&&Z<=57343&&(Z=65536+((Z&1023)<<10)|g.charCodeAt(++H)&1023),Z<=127?++b:Z<=2047?b+=2:Z<=65535?b+=3:b+=4}return b}var vn=new TextDecoder("utf-16le");function hn(g,b){for(var H=g,Z=H>>1,se=Z+b/2;!(Z>=se)&&dt[Z];)++Z;return H=Z<<1,vn.decode(qe.subarray(g,H))}function bn(g,b,H){if(H===void 0&&(H=2147483647),H<2)return 0;H-=2;for(var Z=b,se=H<g.length*2?H/2:g.length,ue=0;ue<se;++ue){var ge=g.charCodeAt(ue);Tt[b>>1]=ge,b+=2}return Tt[b>>1]=0,b-Z}function En(g){return g.length*2}function Bn(g,b){for(var H=0,Z="";!(H>=b/4);){var se=Be[g+H*4>>2];if(se==0)break;if(++H,se>=65536){var ue=se-65536;Z+=String.fromCharCode(55296|ue>>10,56320|ue&1023)}else Z+=String.fromCharCode(se)}return Z}function an(g,b,H){if(H===void 0&&(H=2147483647),H<4)return 0;for(var Z=b,se=Z+H-4,ue=0;ue<g.length;++ue){var ge=g.charCodeAt(ue);if(ge>=55296&&ge<=57343){var be=g.charCodeAt(++ue);ge=65536+((ge&1023)<<10)|be&1023}if(Be[b>>2]=ge,b+=4,b+4>se)break}return Be[b>>2]=0,b-Z}function sn(g){for(var b=0,H=0;H<g.length;++H){var Z=g.charCodeAt(H);Z>=55296&&Z<=57343&&++H,b+=4}return b}function un(g,b){return g%b>0&&(g+=b-g%b),g}var Ft,Jt,qe,Tt,dt,Be,We,sr,Je;function tt(g){Ft=g,r.HEAP8=Jt=new Int8Array(g),r.HEAP16=Tt=new Int16Array(g),r.HEAP32=Be=new Int32Array(g),r.HEAPU8=qe=new Uint8Array(g),r.HEAPU16=dt=new Uint16Array(g),r.HEAPU32=We=new Uint32Array(g),r.HEAPF32=sr=new Float32Array(g),r.HEAPF64=Je=new Float64Array(g)}r.INITIAL_MEMORY;var Bt,kr=[],Wr=[],qt=[];function Nr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)gn(r.preRun.shift());Ut(kr)}function rn(){Ut(Wr)}function cn(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)qr(r.postRun.shift());Ut(qt)}function gn(g){kr.unshift(g)}function Lr(g){Wr.unshift(g)}function qr(g){qt.unshift(g)}var kt=0,mr=null;function zr(g){kt++,r.monitorRunDependencies&&r.monitorRunDependencies(kt)}function cr(g){if(kt--,r.monitorRunDependencies&&r.monitorRunDependencies(kt),kt==0&&mr){var b=mr;mr=null,b()}}r.preloadedImages={},r.preloadedAudios={};function Se(g){r.onAbort&&r.onAbort(g),g+="",ft(g),Ar=!0,g="abort("+g+"). Build with -s ASSERTIONS=1 for more info.";var b=new WebAssembly.RuntimeError(g);throw Ne(b),b}var j="data:application/octet-stream;base64,";function $(g){return g.startsWith(j)}if(r.locateFile){var ae="visdif.wasm";$(ae)||(ae=At(ae))}else var ae=new URL("visdif.wasm",typeof document>"u"?new(pn("url")).URL("file:"+__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href).toString();function Ae(g){try{if(g==ae&&ct)return new Uint8Array(ct);if(Lt)return Lt(g);throw"both async and sync fetching of the wasm failed"}catch(b){Se(b)}}function Ie(){return!ct&&Ct&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(g){if(!g.ok)throw"failed to load wasm binary file at '"+ae+"'";return g.arrayBuffer()}).catch(function(){return Ae(ae)}):Promise.resolve().then(function(){return Ae(ae)})}function Le(){var g={a:Re};function b(ge,be){var Te=ge.exports;r.asm=Te,yt=r.asm.u,tt(yt.buffer),Bt=r.asm.A,Lr(r.asm.v),cr()}zr();function H(ge){b(ge.instance)}function Z(ge){return Ie().then(function(be){var Te=WebAssembly.instantiate(be,g);return Te}).then(ge,function(be){ft("failed to asynchronously prepare wasm: "+be),Se(be)})}function se(){return!ct&&typeof WebAssembly.instantiateStreaming=="function"&&!$(ae)&&typeof fetch=="function"?fetch(ae,{credentials:"same-origin"}).then(function(ge){var be=WebAssembly.instantiateStreaming(ge,g);return be.then(H,function(Te){return ft("wasm streaming compile failed: "+Te),ft("falling back to ArrayBuffer instantiation"),Z(H)})}):Z(H)}if(r.instantiateWasm)try{var ue=r.instantiateWasm(g,b);return ue}catch(ge){return ft("Module.instantiateWasm callback failed with error: "+ge),!1}return se().catch(Ne),{}}function Ut(g){for(;g.length>0;){var b=g.shift();if(typeof b=="function"){b(r);continue}var H=b.func;typeof H=="number"?b.arg===void 0?Bt.get(H)():Bt.get(H)(b.arg):H(b.arg===void 0?null:b.arg)}}function yr(g,b,H,Z){Se("Assertion failed: "+Fr(g)+", at: "+[b?Fr(b):"unknown filename",H,Z?Fr(Z):"unknown function"])}var Qt={DESTRUCTOR_OFFSET:0,REFCOUNT_OFFSET:4,TYPE_OFFSET:8,CAUGHT_OFFSET:12,RETHROWN_OFFSET:13,SIZE:16};function Qr(g){return je(g+Qt.SIZE)+Qt.SIZE}function hr(g){this.excPtr=g,this.ptr=g-Qt.SIZE,this.set_type=function(b){Be[this.ptr+Qt.TYPE_OFFSET>>2]=b},this.get_type=function(){return Be[this.ptr+Qt.TYPE_OFFSET>>2]},this.set_destructor=function(b){Be[this.ptr+Qt.DESTRUCTOR_OFFSET>>2]=b},this.get_destructor=function(){return Be[this.ptr+Qt.DESTRUCTOR_OFFSET>>2]},this.set_refcount=function(b){Be[this.ptr+Qt.REFCOUNT_OFFSET>>2]=b},this.set_caught=function(b){b=b?1:0,Jt[this.ptr+Qt.CAUGHT_OFFSET>>0]=b},this.get_caught=function(){return Jt[this.ptr+Qt.CAUGHT_OFFSET>>0]!=0},this.set_rethrown=function(b){b=b?1:0,Jt[this.ptr+Qt.RETHROWN_OFFSET>>0]=b},this.get_rethrown=function(){return Jt[this.ptr+Qt.RETHROWN_OFFSET>>0]!=0},this.init=function(b,H){this.set_type(b),this.set_destructor(H),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var b=Be[this.ptr+Qt.REFCOUNT_OFFSET>>2];Be[this.ptr+Qt.REFCOUNT_OFFSET>>2]=b+1},this.release_ref=function(){var b=Be[this.ptr+Qt.REFCOUNT_OFFSET>>2];return Be[this.ptr+Qt.REFCOUNT_OFFSET>>2]=b-1,b===1}}function Rr(g,b,H){var Z=new hr(g);throw Z.init(b,H),g}function Or(g,b,H,Z,se){}function wr(g){switch(g){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+g)}}function vr(){for(var g=new Array(256),b=0;b<256;++b)g[b]=String.fromCharCode(b);gr=g}var gr=void 0;function _t(g){for(var b="",H=g;qe[H];)b+=gr[qe[H++]];return b}var wt={},zt={},Rt={},rt=48,nr=57;function Cr(g){if(g===void 0)return"_unknown";g=g.replace(/[^a-zA-Z0-9_]/g,"$");var b=g.charCodeAt(0);return b>=rt&&b<=nr?"_"+g:g}function Gt(g,b){return g=Cr(g),new Function("body","return function "+g+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(b)}function ir(g,b){var H=Gt(b,function(Z){this.name=b,this.message=Z;var se=new Error(Z).stack;se!==void 0&&(this.stack=this.toString()+`
`+se.replace(/^Error(:[^\n]*)?\n/,""))});return H.prototype=Object.create(g.prototype),H.prototype.constructor=H,H.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},H}var lr=void 0;function Qe(g){throw new lr(g)}var Zt=void 0;function St(g){throw new Zt(g)}function Wt(g,b,H){g.forEach(function(be){Rt[be]=b});function Z(be){var Te=H(be);Te.length!==g.length&&St("Mismatched type converter count");for(var ze=0;ze<g.length;++ze)Yt(g[ze],Te[ze])}var se=new Array(b.length),ue=[],ge=0;b.forEach(function(be,Te){zt.hasOwnProperty(be)?se[Te]=zt[be]:(ue.push(be),wt.hasOwnProperty(be)||(wt[be]=[]),wt[be].push(function(){se[Te]=zt[be],++ge,ge===ue.length&&Z(se)}))}),ue.length===0&&Z(se)}function Yt(g,b,H){if(H=H||{},!("argPackAdvance"in b))throw new TypeError("registerType registeredInstance requires argPackAdvance");var Z=b.name;if(g||Qe('type "'+Z+'" must have a positive integer typeid pointer'),zt.hasOwnProperty(g)){if(H.ignoreDuplicateRegistrations)return;Qe("Cannot register type '"+Z+"' twice")}if(zt[g]=b,delete Rt[g],wt.hasOwnProperty(g)){var se=wt[g];delete wt[g],se.forEach(function(ue){ue()})}}function pr(g,b,H,Z,se){var ue=wr(H);b=_t(b),Yt(g,{name:b,fromWireType:function(ge){return!!ge},toWireType:function(ge,be){return be?Z:se},argPackAdvance:8,readValueFromPointer:function(ge){var be;if(H===1)be=Jt;else if(H===2)be=Tt;else if(H===4)be=Be;else throw new TypeError("Unknown boolean type size: "+b);return this.fromWireType(be[ge>>ue])},destructorFunction:null})}function Sr(g){if(!(this instanceof on)||!(g instanceof on))return!1;for(var b=this.$$.ptrType.registeredClass,H=this.$$.ptr,Z=g.$$.ptrType.registeredClass,se=g.$$.ptr;b.baseClass;)H=b.upcast(H),b=b.baseClass;for(;Z.baseClass;)se=Z.upcast(se),Z=Z.baseClass;return b===Z&&H===se}function Dt(g){return{count:g.count,deleteScheduled:g.deleteScheduled,preservePointerOnDelete:g.preservePointerOnDelete,ptr:g.ptr,ptrType:g.ptrType,smartPtr:g.smartPtr,smartPtrType:g.smartPtrType}}function or(g){function b(H){return H.$$.ptrType.registeredClass.name}Qe(b(g)+" instance already deleted")}var Xt=!1;function nt(g){}function dr(g){g.smartPtr?g.smartPtrType.rawDestructor(g.smartPtr):g.ptrType.registeredClass.rawDestructor(g.ptr)}function xr(g){g.count.value-=1;var b=g.count.value===0;b&&dr(g)}function Mt(g){return typeof FinalizationGroup>"u"?(Mt=function(b){return b},g):(Xt=new FinalizationGroup(function(b){for(var H=b.next();!H.done;H=b.next()){var Z=H.value;Z.ptr?xr(Z):console.warn("object already deleted: "+Z.ptr)}}),Mt=function(b){return Xt.register(b,b.$$,b.$$),b},nt=function(b){Xt.unregister(b.$$)},Mt(g))}function Dr(){if(this.$$.ptr||or(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var g=Mt(Object.create(Object.getPrototypeOf(this),{$$:{value:Dt(this.$$)}}));return g.$$.count.value+=1,g.$$.deleteScheduled=!1,g}function er(){this.$$.ptr||or(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Qe("Object already scheduled for deletion"),nt(this),xr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Ur(){return!this.$$.ptr}var fn=void 0,Gr=[];function Pr(){for(;Gr.length;){var g=Gr.pop();g.$$.deleteScheduled=!1,g.delete()}}function nn(){return this.$$.ptr||or(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Qe("Object already scheduled for deletion"),Gr.push(this),Gr.length===1&&fn&&fn(Pr),this.$$.deleteScheduled=!0,this}function Dn(){on.prototype.isAliasOf=Sr,on.prototype.clone=Dr,on.prototype.delete=er,on.prototype.isDeleted=Ur,on.prototype.deleteLater=nn}function on(){}var Cn={};function An(g,b,H){if(g[b].overloadTable===void 0){var Z=g[b];g[b]=function(){return g[b].overloadTable.hasOwnProperty(arguments.length)||Qe("Function '"+H+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+g[b].overloadTable+")!"),g[b].overloadTable[arguments.length].apply(this,arguments)},g[b].overloadTable=[],g[b].overloadTable[Z.argCount]=Z}}function In(g,b,H){r.hasOwnProperty(g)?((H===void 0||r[g].overloadTable!==void 0&&r[g].overloadTable[H]!==void 0)&&Qe("Cannot register public name '"+g+"' twice"),An(r,g,g),r.hasOwnProperty(H)&&Qe("Cannot register multiple overloads of a function with the same number of arguments ("+H+")!"),r[g].overloadTable[H]=b):(r[g]=b,H!==void 0&&(r[g].numArguments=H))}function yn(g,b,H,Z,se,ue,ge,be){this.name=g,this.constructor=b,this.instancePrototype=H,this.rawDestructor=Z,this.baseClass=se,this.getActualType=ue,this.upcast=ge,this.downcast=be,this.pureVirtualFunctions=[]}function h(g,b,H){for(;b!==H;)b.upcast||Qe("Expected null or instance of "+H.name+", got an instance of "+b.name),g=b.upcast(g),b=b.baseClass;return g}function P(g,b){if(b===null)return this.isReference&&Qe("null is not a valid "+this.name),0;b.$$||Qe('Cannot pass "'+y(b)+'" as a '+this.name),b.$$.ptr||Qe("Cannot pass deleted object as a pointer of type "+this.name);var H=b.$$.ptrType.registeredClass,Z=h(b.$$.ptr,H,this.registeredClass);return Z}function Q(g,b){var H;if(b===null)return this.isReference&&Qe("null is not a valid "+this.name),this.isSmartPointer?(H=this.rawConstructor(),g!==null&&g.push(this.rawDestructor,H),H):0;b.$$||Qe('Cannot pass "'+y(b)+'" as a '+this.name),b.$$.ptr||Qe("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&b.$$.ptrType.isConst&&Qe("Cannot convert argument of type "+(b.$$.smartPtrType?b.$$.smartPtrType.name:b.$$.ptrType.name)+" to parameter type "+this.name);var Z=b.$$.ptrType.registeredClass;if(H=h(b.$$.ptr,Z,this.registeredClass),this.isSmartPointer)switch(b.$$.smartPtr===void 0&&Qe("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:b.$$.smartPtrType===this?H=b.$$.smartPtr:Qe("Cannot convert argument of type "+(b.$$.smartPtrType?b.$$.smartPtrType.name:b.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:H=b.$$.smartPtr;break;case 2:if(b.$$.smartPtrType===this)H=b.$$.smartPtr;else{var se=b.clone();H=this.rawShare(H,D(function(){se.delete()})),g!==null&&g.push(this.rawDestructor,H)}break;default:Qe("Unsupporting sharing policy")}return H}function pe(g,b){if(b===null)return this.isReference&&Qe("null is not a valid "+this.name),0;b.$$||Qe('Cannot pass "'+y(b)+'" as a '+this.name),b.$$.ptr||Qe("Cannot pass deleted object as a pointer of type "+this.name),b.$$.ptrType.isConst&&Qe("Cannot convert argument of type "+b.$$.ptrType.name+" to parameter type "+this.name);var H=b.$$.ptrType.registeredClass,Z=h(b.$$.ptr,H,this.registeredClass);return Z}function me(g){return this.fromWireType(We[g>>2])}function R(g){return this.rawGetPointee&&(g=this.rawGetPointee(g)),g}function U(g){this.rawDestructor&&this.rawDestructor(g)}function ee(g){g!==null&&g.delete()}function ve(g,b,H){if(b===H)return g;if(H.baseClass===void 0)return null;var Z=ve(g,b,H.baseClass);return Z===null?null:H.downcast(Z)}function He(){return Object.keys(pt).length}function Ke(){var g=[];for(var b in pt)pt.hasOwnProperty(b)&&g.push(pt[b]);return g}function ht(g){fn=g,Gr.length&&fn&&fn(Pr)}function Xe(){r.getInheritedInstanceCount=He,r.getLiveInheritedInstances=Ke,r.flushPendingDeletes=Pr,r.setDelayFunction=ht}var pt={};function Vt(g,b){for(b===void 0&&Qe("ptr should not be undefined");g.baseClass;)b=g.upcast(b),g=g.baseClass;return b}function br(g,b){return b=Vt(g,b),pt[b]}function Hr(g,b){(!b.ptrType||!b.ptr)&&St("makeClassHandle requires ptr and ptrType");var H=!!b.smartPtrType,Z=!!b.smartPtr;return H!==Z&&St("Both smartPtrType and smartPtr must be specified"),b.count={value:1},Mt(Object.create(g,{$$:{value:b}}))}function ur(g){var b=this.getPointee(g);if(!b)return this.destructor(g),null;var H=br(this.registeredClass,b);if(H!==void 0){if(H.$$.count.value===0)return H.$$.ptr=b,H.$$.smartPtr=g,H.clone();var Z=H.clone();return this.destructor(g),Z}function se(){return this.isSmartPointer?Hr(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:b,smartPtrType:this,smartPtr:g}):Hr(this.registeredClass.instancePrototype,{ptrType:this,ptr:g})}var ue=this.registeredClass.getActualType(b),ge=Cn[ue];if(!ge)return se.call(this);var be;this.isConst?be=ge.constPointerType:be=ge.pointerType;var Te=ve(b,this.registeredClass,be.registeredClass);return Te===null?se.call(this):this.isSmartPointer?Hr(be.registeredClass.instancePrototype,{ptrType:be,ptr:Te,smartPtrType:this,smartPtr:g}):Hr(be.registeredClass.instancePrototype,{ptrType:be,ptr:Te})}function fr(){tr.prototype.getPointee=R,tr.prototype.destructor=U,tr.prototype.argPackAdvance=8,tr.prototype.readValueFromPointer=me,tr.prototype.deleteObject=ee,tr.prototype.fromWireType=ur}function tr(g,b,H,Z,se,ue,ge,be,Te,ze,lt){this.name=g,this.registeredClass=b,this.isReference=H,this.isConst=Z,this.isSmartPointer=se,this.pointeeType=ue,this.sharingPolicy=ge,this.rawGetPointee=be,this.rawConstructor=Te,this.rawShare=ze,this.rawDestructor=lt,!se&&b.baseClass===void 0?Z?(this.toWireType=P,this.destructorFunction=null):(this.toWireType=pe,this.destructorFunction=null):this.toWireType=Q}function Vr(g,b,H){r.hasOwnProperty(g)||St("Replacing nonexistant public symbol"),r[g].overloadTable!==void 0&&H!==void 0?r[g].overloadTable[H]=b:(r[g]=b,r[g].argCount=H)}function Tr(g,b,H){var Z=r["dynCall_"+g];return H&&H.length?Z.apply(null,[b].concat(H)):Z.call(null,b)}function $t(g,b,H){return g.includes("j")?Tr(g,b,H):Bt.get(b).apply(null,H)}function mt(g,b){var H=[];return function(){H.length=arguments.length;for(var Z=0;Z<arguments.length;Z++)H[Z]=arguments[Z];return $t(g,b,H)}}function vt(g,b){g=_t(g);function H(){return g.includes("j")?mt(g,b):Bt.get(b)}var Z=H();return typeof Z!="function"&&Qe("unknown function pointer with signature "+g+": "+b),Z}var rr=void 0;function Er(g){var b=Y(g),H=_t(b);return gt(b),H}function oe(g,b){var H=[],Z={};function se(ue){if(!Z[ue]&&!zt[ue]){if(Rt[ue]){Rt[ue].forEach(se);return}H.push(ue),Z[ue]=!0}}throw b.forEach(se),new rr(g+": "+H.map(Er).join([", "]))}function fe(g,b,H,Z,se,ue,ge,be,Te,ze,lt,ar,Ir){lt=_t(lt),ue=vt(se,ue),be&&(be=vt(ge,be)),ze&&(ze=vt(Te,ze)),Ir=vt(ar,Ir);var Yr=Cr(lt);In(Yr,function(){oe("Cannot construct "+lt+" due to unbound types",[Z])}),Wt([g,b,H],Z?[Z]:[],function(Tn){Tn=Tn[0];var Kn,$e;Z?(Kn=Tn.registeredClass,$e=Kn.instancePrototype):$e=on.prototype;var _r=Gt(Yr,function(){if(Object.getPrototypeOf(this)!==Yn)throw new lr("Use 'new' to construct "+lt);if(Fn.constructor_body===void 0)throw new lr(lt+" has no accessible constructor");var Pu=Fn.constructor_body[arguments.length];if(Pu===void 0)throw new lr("Tried to invoke ctor of "+lt+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(Fn.constructor_body).toString()+") parameters instead!");return Pu.apply(this,arguments)}),Yn=Object.create($e,{constructor:{value:_r}});_r.prototype=Yn;var Fn=new yn(lt,_r,Yn,Ir,Kn,ue,be,ze),uo=new tr(lt,Fn,!0,!1,!1),ho=new tr(lt+"*",Fn,!1,!1,!1),Ao=new tr(lt+" const*",Fn,!1,!0,!1);return Cn[g]={pointerType:ho,constPointerType:Ao},Vr(Yr,_r),[uo,ho,Ao]})}function he(g,b){for(var H=[],Z=0;Z<g;Z++)H.push(Be[(b>>2)+Z]);return H}function Ee(g){for(;g.length;){var b=g.pop(),H=g.pop();H(b)}}function Pe(g,b,H,Z,se,ue){Mr(b>0);var ge=he(b,H);se=vt(Z,se);var be=[ue],Te=[];Wt([],[g],function(ze){ze=ze[0];var lt="constructor "+ze.name;if(ze.registeredClass.constructor_body===void 0&&(ze.registeredClass.constructor_body=[]),ze.registeredClass.constructor_body[b-1]!==void 0)throw new lr("Cannot register multiple constructors with identical number of parameters ("+(b-1)+") for class '"+ze.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return ze.registeredClass.constructor_body[b-1]=function(){oe("Cannot construct "+ze.name+" due to unbound types",ge)},Wt([],ge,function(ar){return ze.registeredClass.constructor_body[b-1]=function(){arguments.length!==b-1&&Qe(lt+" called with "+arguments.length+" arguments, expected "+(b-1)),Te.length=0,be.length=b;for(var Yr=1;Yr<b;++Yr)be[Yr]=ar[Yr].toWireType(Te,arguments[Yr-1]);var Tn=se.apply(null,be);return Ee(Te),ar[0].fromWireType(Tn)},[]}),[]})}function Ye(g,b){if(!(g instanceof Function))throw new TypeError("new_ called with constructor type "+typeof g+" which is not a function");var H=Gt(g.name||"unknownFunctionName",function(){});H.prototype=g.prototype;var Z=new H,se=g.apply(Z,b);return se instanceof Object?se:Z}function it(g,b,H,Z,se){var ue=b.length;ue<2&&Qe("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var ge=b[1]!==null&&H!==null,be=!1,Te=1;Te<b.length;++Te)if(b[Te]!==null&&b[Te].destructorFunction===void 0){be=!0;break}for(var ze=b[0].name!=="void",lt="",ar="",Te=0;Te<ue-2;++Te)lt+=(Te!==0?", ":"")+"arg"+Te,ar+=(Te!==0?", ":"")+"arg"+Te+"Wired";var Ir="return function "+Cr(g)+"("+lt+`) {
if (arguments.length !== `+(ue-2)+`) {
throwBindingError('function `+g+" called with ' + arguments.length + ' arguments, expected "+(ue-2)+` args!');
}
`;be&&(Ir+=`var destructors = [];
`);var Yr=be?"destructors":"null",Tn=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Kn=[Qe,Z,se,Ee,b[0],b[1]];ge&&(Ir+="var thisWired = classParam.toWireType("+Yr+`, this);
`);for(var Te=0;Te<ue-2;++Te)Ir+="var arg"+Te+"Wired = argType"+Te+".toWireType("+Yr+", arg"+Te+"); // "+b[Te+2].name+`
`,Tn.push("argType"+Te),Kn.push(b[Te+2]);if(ge&&(ar="thisWired"+(ar.length>0?", ":"")+ar),Ir+=(ze?"var rv = ":"")+"invoker(fn"+(ar.length>0?", ":"")+ar+`);
`,be)Ir+=`runDestructors(destructors);
`;else for(var Te=ge?1:2;Te<b.length;++Te){var $e=Te===1?"thisWired":"arg"+(Te-2)+"Wired";b[Te].destructorFunction!==null&&(Ir+=$e+"_dtor("+$e+"); // "+b[Te].name+`
`,Tn.push($e+"_dtor"),Kn.push(b[Te].destructorFunction))}ze&&(Ir+=`var ret = retType.fromWireType(rv);
return ret;
`),Ir+=`}
`,Tn.push(Ir);var _r=Ye(Function,Tn).apply(null,Kn);return _r}function E(g,b,H,Z,se,ue,ge,be){var Te=he(H,Z);b=_t(b),ue=vt(se,ue),Wt([],[g],function(ze){ze=ze[0];var lt=ze.name+"."+b;b.startsWith("@@")&&(b=Symbol[b.substring(2)]),be&&ze.registeredClass.pureVirtualFunctions.push(b);function ar(){oe("Cannot call "+lt+" due to unbound types",Te)}var Ir=ze.registeredClass.instancePrototype,Yr=Ir[b];return Yr===void 0||Yr.overloadTable===void 0&&Yr.className!==ze.name&&Yr.argCount===H-2?(ar.argCount=H-2,ar.className=ze.name,Ir[b]=ar):(An(Ir,b,lt),Ir[b].overloadTable[H-2]=ar),Wt([],Te,function(Tn){var Kn=it(lt,Tn,ze,ue,ge);return Ir[b].overloadTable===void 0?(Kn.argCount=H-2,Ir[b]=Kn):Ir[b].overloadTable[H-2]=Kn,[]}),[]})}var l=[],c=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function A(g){g>4&&--c[g].refcount===0&&(c[g]=void 0,l.push(g))}function a(){for(var g=0,b=5;b<c.length;++b)c[b]!==void 0&&++g;return g}function f(){for(var g=5;g<c.length;++g)if(c[g]!==void 0)return c[g];return null}function v(){r.count_emval_handles=a,r.get_first_emval=f}function D(g){switch(g){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var b=l.length?l.pop():c.length;return c[b]={refcount:1,value:g},b}}}function N(g,b){b=_t(b),Yt(g,{name:b,fromWireType:function(H){var Z=c[H].value;return A(H),Z},toWireType:function(H,Z){return D(Z)},argPackAdvance:8,readValueFromPointer:me,destructorFunction:null})}function y(g){if(g===null)return"null";var b=typeof g;return b==="object"||b==="array"||b==="function"?g.toString():""+g}function w(g,b){switch(b){case 2:return function(H){return this.fromWireType(sr[H>>2])};case 3:return function(H){return this.fromWireType(Je[H>>3])};default:throw new TypeError("Unknown float type: "+g)}}function k(g,b,H){var Z=wr(H);b=_t(b),Yt(g,{name:b,fromWireType:function(se){return se},toWireType:function(se,ue){if(typeof ue!="number"&&typeof ue!="boolean")throw new TypeError('Cannot convert "'+y(ue)+'" to '+this.name);return ue},argPackAdvance:8,readValueFromPointer:w(b,Z),destructorFunction:null})}function te(g,b,H){switch(b){case 0:return H?function(se){return Jt[se]}:function(se){return qe[se]};case 1:return H?function(se){return Tt[se>>1]}:function(se){return dt[se>>1]};case 2:return H?function(se){return Be[se>>2]}:function(se){return We[se>>2]};default:throw new TypeError("Unknown integer type: "+g)}}function M(g,b,H,Z,se){b=_t(b),se===-1&&(se=4294967295);var ue=wr(H),ge=function(ze){return ze};if(Z===0){var be=32-8*H;ge=function(ze){return ze<<be>>>be}}var Te=b.includes("unsigned");Yt(g,{name:b,fromWireType:ge,toWireType:function(ze,lt){if(typeof lt!="number"&&typeof lt!="boolean")throw new TypeError('Cannot convert "'+y(lt)+'" to '+this.name);if(lt<Z||lt>se)throw new TypeError('Passing a number "'+y(lt)+'" from JS side to C/C++ side to an argument of type "'+b+'", which is outside the valid range ['+Z+", "+se+"]!");return Te?lt>>>0:lt|0},argPackAdvance:8,readValueFromPointer:te(b,ue,Z!==0),destructorFunction:null})}function m(g,b,H){var Z=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],se=Z[b];function ue(ge){ge=ge>>2;var be=We,Te=be[ge],ze=be[ge+1];return new se(Ft,ze,Te)}H=_t(H),Yt(g,{name:H,fromWireType:ue,argPackAdvance:8,readValueFromPointer:ue},{ignoreDuplicateRegistrations:!0})}function T(g,b){b=_t(b);var H=b==="std::string";Yt(g,{name:b,fromWireType:function(Z){var se=We[Z>>2],ue;if(H)for(var ge=Z+4,be=0;be<=se;++be){var Te=Z+4+be;if(be==se||qe[Te]==0){var ze=Te-ge,lt=Fr(ge,ze);ue===void 0?ue=lt:(ue+=String.fromCharCode(0),ue+=lt),ge=Te+1}}else{for(var ar=new Array(se),be=0;be<se;++be)ar[be]=String.fromCharCode(qe[Z+4+be]);ue=ar.join("")}return gt(Z),ue},toWireType:function(Z,se){se instanceof ArrayBuffer&&(se=new Uint8Array(se));var ue,ge=typeof se=="string";ge||se instanceof Uint8Array||se instanceof Uint8ClampedArray||se instanceof Int8Array||Qe("Cannot pass non-string to std::string"),H&&ge?ue=function(){return $r(se)}:ue=function(){return se.length};var be=ue(),Te=je(4+be+1);if(We[Te>>2]=be,H&&ge)tn(se,Te+4,be+1);else if(ge)for(var ze=0;ze<be;++ze){var lt=se.charCodeAt(ze);lt>255&&(gt(Te),Qe("String has UTF-16 code units that do not fit in 8 bits")),qe[Te+4+ze]=lt}else for(var ze=0;ze<be;++ze)qe[Te+4+ze]=se[ze];return Z!==null&&Z.push(gt,Te),Te},argPackAdvance:8,readValueFromPointer:me,destructorFunction:function(Z){gt(Z)}})}function x(g,b,H){H=_t(H);var Z,se,ue,ge,be;b===2?(Z=hn,se=bn,ge=En,ue=function(){return dt},be=1):b===4&&(Z=Bn,se=an,ge=sn,ue=function(){return We},be=2),Yt(g,{name:H,fromWireType:function(Te){for(var ze=We[Te>>2],lt=ue(),ar,Ir=Te+4,Yr=0;Yr<=ze;++Yr){var Tn=Te+4+Yr*b;if(Yr==ze||lt[Tn>>be]==0){var Kn=Tn-Ir,$e=Z(Ir,Kn);ar===void 0?ar=$e:(ar+=String.fromCharCode(0),ar+=$e),Ir=Tn+b}}return gt(Te),ar},toWireType:function(Te,ze){typeof ze!="string"&&Qe("Cannot pass non-string to C++ string type "+H);var lt=ge(ze),ar=je(4+lt+b);return We[ar>>2]=lt>>be,se(ze,ar+4,lt+b),Te!==null&&Te.push(gt,ar),ar},argPackAdvance:8,readValueFromPointer:me,destructorFunction:function(Te){gt(Te)}})}function z(g,b){b=_t(b),Yt(g,{isVoid:!0,name:b,argPackAdvance:0,fromWireType:function(){},toWireType:function(H,Z){}})}function S(){Se()}function G(g,b,H){qe.copyWithin(g,b,b+H)}function J(g){try{return yt.grow(g-Ft.byteLength+65535>>>16),tt(yt.buffer),1}catch{}}function ie(g){var b=qe.length;g=g>>>0;var H=2147483648;if(g>H)return!1;for(var Z=1;Z<=4;Z*=2){var se=b*(1+.2/Z);se=Math.min(se,g+100663296);var ue=Math.min(H,un(Math.max(g,se),65536)),ge=J(ue);if(ge)return!0}return!1}var de={mappings:{},buffers:[null,[],[]],printChar:function(g,b){var H=de.buffers[g];b===0||b===10?((g===1?Ot:ft)(Jr(H,0)),H.length=0):H.push(b)},varargs:void 0,get:function(){de.varargs+=4;var g=Be[de.varargs-4>>2];return g},getStr:function(g){var b=Fr(g);return b},get64:function(g,b){return g}};function De(g,b,H,Z){for(var se=0,ue=0;ue<H;ue++){for(var ge=Be[b+ue*8>>2],be=Be[b+(ue*8+4)>>2],Te=0;Te<be;Te++)de.printChar(g,qe[ge+Te]);se+=be}return Be[Z>>2]=se,0}function xe(g){}vr(),lr=r.BindingError=ir(Error,"BindingError"),Zt=r.InternalError=ir(Error,"InternalError"),Dn(),fr(),Xe(),rr=r.UnboundTypeError=ir(Error,"UnboundTypeError"),v();var Re={d:yr,t:Qr,n:Rr,o:Or,i:pr,m:fe,l:Pe,k:E,s:N,h:k,c:M,b:m,g:T,f:x,j:z,a:S,q:G,e:ie,r:De,p:xe};Le(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.v).apply(null,arguments)};var je=r._malloc=function(){return(je=r._malloc=r.asm.w).apply(null,arguments)},gt=r._free=function(){return(gt=r._free=r.asm.x).apply(null,arguments)},Y=r.___getTypeName=function(){return(Y=r.___getTypeName=r.asm.y).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.z).apply(null,arguments)},r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.B).apply(null,arguments)};var C;mr=function g(){C||O(),C||(mr=g)};function O(g){if(kt>0||(Nr(),kt>0))return;function b(){C||(C=!0,r.calledRun=!0,!Ar&&(rn(),Fe(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),cn()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),b()},1)):b()}if(r.run=O,r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return O(),r.ready}}(),Zi=typeof document>"u"?new(pn("url")).URL("file:"+__dirname+"/visdif-f4d1bd06.wasm").href:new URL("visdif-f4d1bd06.wasm",document.currentScript&&document.currentScript.src||document.baseURI).href;async function eo(we,r,{min:Fe=0,max:Ne=100,epsilon:Oe=.1,maxRounds:Ce=6}={}){let Ct=(Ne-Fe)/2+Fe,at=(Ne-Fe)/4,At,It=1;for(;;){if(At=await r(Ct),Math.abs(At-we)<Oe||It>=Ce)return{parameter:Ct,round:It,value:At};At>we?Ct-=at:At<we&&(Ct+=at),at/=2,It++}}async function to(we,r,Fe,{butteraugliDistanceGoal:Ne=1.4,...Oe}={}){const{VisDiff:Ce}=await p(zn,Zi),Ct=new Ce(we.data,we.width,we.height);let at,At;const{parameter:It}=await eo(-1*Ne,async Lt=>(At=await r(we,Lt),at=await Fe(At),-1*Ct.distance(at.data)),Oe);return Ct.delete(),{bitmap:at,binary:At,quality:It}}async function wi({file:we}){var r;const Fe=new Uint8Array(we),Ne=Fe.slice(0,16),Oe=Array.from(Ne).map(It=>String.fromCodePoint(It)).join(""),Ce=(r=Object.entries(Hn).find(([It,{detectors:Lt}])=>Lt.some(Kt=>Kt.exec(Oe))))===null||r===void 0?void 0:r[0];if(!Ce)throw Error("File has an unsupported format");return{bitmap:(await Hn[Ce].dec()).decode(Fe),size:Fe.length}}async function yi({preprocessorName:we,options:r,image:Fe}){const Ne=await mi[we].instantiate();return Fe.bitmap=await Ne(Uint8Array.from(Fe.bitmap.data),Fe.bitmap.width,Fe.bitmap.height,r),Fe}async function ui({bitmap:we,encName:r,encConfig:Fe,optimizerButteraugliTarget:Ne,maxOptimizerRounds:Oe}){let Ce,Ct=Fe;const at=await Hn[r].enc();if(Fe==="auto"){const At=Hn[r].autoOptimize.option,It=await Hn[r].dec(),Lt=(ct,yt)=>at.encode(ct.data,ct.width,ct.height,Object.assign({},Hn[r].defaultEncoderOptions,{[At]:yt})),Kt=ct=>It.decode(ct),Ht=(ct,yt)=>{const Ar=Lt(ct,yt);if(!Ar)throw new Error("There was an error while encoding");return Ar},{binary:Ot,quality:ft}=await to(we,Ht,Kt,{min:Hn[r].autoOptimize.min,max:Hn[r].autoOptimize.max,butteraugliDistanceGoal:Ne,maxRounds:Oe});Ce=Ot,Ct={[At]:Math.round(ft*1e4)/1e4}}else{const At=at.encode(we.data.buffer,we.width,we.height,Fe);if(!At)throw new Error("There was an error while encoding");Ce=At}return{optionsUsed:Ct,binary:Ce,extension:Hn[r].extension,size:Ce.length}}function vi(we){switch(we.operation){case"encode":return ui(we);case"decode":return wi(we);case"preprocess":return yi(we);default:throw Error(`Invalid job "${we.operation}"`)}}class ci{constructor(r,Fe){this.file=Fe,this.workerPool=r,this.decoded=r.dispatchJob({operation:"decode",file:Fe}),this.encodedWith={}}async preprocess(r={}){for(const[Fe,Ne]of Object.entries(r)){if(!Object.keys(mi).includes(Fe))throw Error(`Invalid preprocessor "${Fe}"`);const Oe=Fe,Ce=Object.assign({},mi[Oe].defaultOptions,Ne);this.decoded=this.workerPool.dispatchJob({operation:"preprocess",preprocessorName:Oe,image:await this.decoded,options:Ce}),await this.decoded}}async encode(r){var Fe,Ne;const{bitmap:Oe}=await this.decoded,Ce=[];for(const[Ct,at]of Object.entries(r)){if(!Object.keys(Hn).includes(Ct))continue;const At=Ct,It=Hn[At],Lt=typeof at=="string"?at:Object.assign({},It.defaultEncoderOptions,at);Ce.push(this.workerPool.dispatchJob({operation:"encode",bitmap:Oe,encName:At,encConfig:Lt,optimizerButteraugliTarget:Number((Fe=r.optimizerButteraugliTarget)!==null&&Fe!==void 0?Fe:1.4),maxOptimizerRounds:Number((Ne=r.maxOptimizerRounds)!==null&&Ne!==void 0?Ne:6)}).then(Kt=>{this.encodedWith[At]=Kt}))}return await Promise.all(Ce),this.encodedWith}}class hi{constructor(r){this.workerPool=new Wi(r,__filename)}ingestImage(r){return new ci(this.workerPool,r)}async close(){await this.workerPool.join()}}return n.isMainThread||Wi.useThisThreadAsWorker(vi),Zo.ImagePool=hi,Zo.encoders=Hn,Zo.preprocessors=mi,Zo}var g_=ln&&ln.__awaiter||function(n,e,t,s){function o(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function p(d){try{B(s.next(d))}catch(V){u(V)}}function _(d){try{B(s.throw(d))}catch(V){u(V)}}function B(d){d.done?i(d.value):o(d.value).then(p,_)}B((s=s.apply(n,e||[])).next())})},A_=ln&&ln.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,o,i,u;return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(B){return function(d){return _([B,d])}}function _(B){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,B[0]&&(t=0)),t;)try{if(s=1,o&&(i=B[0]&2?o.return:B[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,B[1])).done)return i;switch(o=0,i&&(B=[B[0]&2,i.value]),B[0]){case 0:case 1:i=B;break;case 4:return t.label++,{value:B[1],done:!1};case 5:t.label++,o=B[1],B=[0];continue;case 7:B=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(B[0]===6||B[0]===2)){t=0;continue}if(B[0]===3&&(!i||B[1]>i[0]&&B[1]<i[3])){t.label=B[1];break}if(B[0]===6&&t.label<i[1]){t.label=i[1],i=B;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(B);break}i[2]&&t.ops.pop(),t.trys.pop();continue}B=e.call(n,t)}catch(d){B=[6,d],o=0}finally{s=i=0}if(B[0]&5)throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.transform=void 0;var m_=Bu,Ts=gp,Po=l_,Io=ro;function y_(n,e,t){var s,o,i,u,p=t===void 0?{draco:{method:Io.DRACO_METHOD},weld:{tolerance:Io.WELD_TOLERANCE},simplify:{ratio:Io.SIMPLIFY_RATIO,error:Io.SIMPLIFY_ERROR}}:t,_=p.draco,B=p.weld,d=p.simplify;return g_(this,void 0,void 0,function(){return A_(this,function(V){switch(V.label){case 0:return[4,Ts.MeshoptEncoder.ready];case 1:return V.sent(),[4,n.transform((0,Po.draco)({method:(s=_==null?void 0:_.method)!==null&&s!==void 0?s:Io.DRACO_METHOD}),(0,Po.weld)({tolerance:(o=B==null?void 0:B.tolerance)!==null&&o!==void 0?o:Io.WELD_TOLERANCE}),(0,Po.simplify)({simplifier:Ts.MeshoptSimplifier,ratio:(i=d==null?void 0:d.ratio)!==null&&i!==void 0?i:Io.SIMPLIFY_RATIO,error:(u=d==null?void 0:d.error)!==null&&u!==void 0?u:Io.SIMPLIFY_ERROR}),(0,Po.reorder)({encoder:Ts.MeshoptEncoder}),(0,Po.prune)(),(0,Po.dedup)({propertyTypes:[m_.PropertyType.MESH]}),e?(0,Po.webp)({squoosh:h_()}):function(){})];case 2:return[2,V.sent()]}})})}Pa.transform=y_;var v_=ln&&ln.__awaiter||function(n,e,t,s){function o(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function p(d){try{B(s.next(d))}catch(V){u(V)}}function _(d){try{B(s.throw(d))}catch(V){u(V)}}function B(d){d.done?i(d.value):o(d.value).then(p,_)}B((s=s.apply(n,e||[])).next())})},b_=ln&&ln.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,o,i,u;return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(B){return function(d){return _([B,d])}}function _(B){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,B[0]&&(t=0)),t;)try{if(s=1,o&&(i=B[0]&2?o.return:B[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,B[1])).done)return i;switch(o=0,i&&(B=[B[0]&2,i.value]),B[0]){case 0:case 1:i=B;break;case 4:return t.label++,{value:B[1],done:!1};case 5:t.label++,o=B[1],B=[0];continue;case 7:B=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(B[0]===6||B[0]===2)){t=0;continue}if(B[0]===3&&(!i||B[1]>i[0]&&B[1]<i[3])){t.label=B[1];break}if(B[0]===6&&t.label<i[1]){t.label=i[1],i=B;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(B);break}i[2]&&t.ops.pop(),t.trys.pop();continue}B=e.call(n,t)}catch(d){B=[6,d],o=0}finally{s=i=0}if(B[0]&5)throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}};Object.defineProperty(Za,"__esModule",{value:!0});Za.node=void 0;var E_=Ia,B_=fs,C_=Pa;function T_(n,e){return v_(this,void 0,void 0,function(){var t,s;return b_(this,function(o){switch(o.label){case 0:return[4,(0,B_.nodeIO)()];case 1:return t=o.sent(),[4,t.readBinary(n)];case 2:return s=o.sent(),(0,E_.setEmissiveStrength)(s,e==null?void 0:e.emissiveStrength),[4,(0,C_.transform)(s,!0,e==null?void 0:e.transform)];case 3:return o.sent(),[4,t.writeBinary(s)];case 4:return[2,o.sent()]}})})}Za.node=T_;var _s={},hs={},w_=75;function Sf(n,{quality:e,width:t,height:s}={}){return new Promise(function(o,i){var u=document.createElement("canvas"),p=u.getContext("2d"),_=new Image;_.src=n,_.crossOrigin="anonymous",_.onload=function(B){u.width=t||_.width,u.height=s||_.height,URL.revokeObjectURL(B.target.src),p.drawImage(B.target,0,0,u.width,u.height),u.toBlob(function(d){o(d)},"image/webp",e||w_)},_.onerror=function(B){return i(B)}})}function Pf(n,{quality:e,width:t,height:s}={}){return Sf(URL.createObjectURL(n),{quality:e,width:t,height:s})}function D_(n,{quality:e,width:t,height:s}={}){return Pf(new Blob([n]),{quality:e,width:t,height:s})}const I_=Object.freeze(Object.defineProperty({__proto__:null,arrayBufferToWebP:D_,blobToWebP:Pf,srcToWebP:Sf},Symbol.toStringTag,{value:"Module"})),F_=sa(I_);var R_=ln&&ln.__awaiter||function(n,e,t,s){function o(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function p(d){try{B(s.next(d))}catch(V){u(V)}}function _(d){try{B(s.throw(d))}catch(V){u(V)}}function B(d){d.done?i(d.value):o(d.value).then(p,_)}B((s=s.apply(n,e||[])).next())})},S_=ln&&ln.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,o,i,u;return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(B){return function(d){return _([B,d])}}function _(B){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,B[0]&&(t=0)),t;)try{if(s=1,o&&(i=B[0]&2?o.return:B[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,B[1])).done)return i;switch(o=0,i&&(B=[B[0]&2,i.value]),B[0]){case 0:case 1:i=B;break;case 4:return t.label++,{value:B[1],done:!1};case 5:t.label++,o=B[1],B=[0];continue;case 7:B=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(B[0]===6||B[0]===2)){t=0;continue}if(B[0]===3&&(!i||B[1]>i[0]&&B[1]<i[3])){t.label=B[1];break}if(B[0]===6&&t.label<i[1]){t.label=i[1],i=B;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(B);break}i[2]&&t.ops.pop(),t.trys.pop();continue}B=e.call(n,t)}catch(d){B=[6,d],o=0}finally{s=i=0}if(B[0]&5)throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}};Object.defineProperty(hs,"__esModule",{value:!0});hs.convertTextureWebP=void 0;var P_=F_;function O_(n){return R_(this,void 0,void 0,function(){return S_(this,function(e){switch(e.label){case 0:return[4,Promise.all(n.getRoot().listTextures().map(function(t){return(0,P_.arrayBufferToWebP)(t.getImage()).then(function(s){return s.arrayBuffer()}).then(function(s){return new Uint8Array(s)}).then(function(s){t.copy(n.createTexture().setMimeType("image/webp").setImage(s))})}))];case 1:return e.sent(),[2]}})})}hs.convertTextureWebP=O_;var gs={},M_=ln&&ln.__awaiter||function(n,e,t,s){function o(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function p(d){try{B(s.next(d))}catch(V){u(V)}}function _(d){try{B(s.throw(d))}catch(V){u(V)}}function B(d){d.done?i(d.value):o(d.value).then(p,_)}B((s=s.apply(n,e||[])).next())})},N_=ln&&ln.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,o,i,u;return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(B){return function(d){return _([B,d])}}function _(B){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,B[0]&&(t=0)),t;)try{if(s=1,o&&(i=B[0]&2?o.return:B[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,B[1])).done)return i;switch(o=0,i&&(B=[B[0]&2,i.value]),B[0]){case 0:case 1:i=B;break;case 4:return t.label++,{value:B[1],done:!1};case 5:t.label++,o=B[1],B=[0];continue;case 7:B=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(B[0]===6||B[0]===2)){t=0;continue}if(B[0]===3&&(!i||B[1]>i[0]&&B[1]<i[3])){t.label=B[1];break}if(B[0]===6&&t.label<i[1]){t.label=i[1],i=B;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(B);break}i[2]&&t.ops.pop(),t.trys.pop();continue}B=e.call(n,t)}catch(d){B=[6,d],o=0}finally{s=i=0}if(B[0]&5)throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}},L_=ln&&ln.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gs,"__esModule",{value:!0});gs.webIO=void 0;var Wc=L_(af),x_=Bu,da=Eu;function U_(){return M_(this,void 0,void 0,function(){var n,e,t,s,o;return N_(this,function(i){switch(i.label){case 0:return e=(n=new x_.WebIO().registerExtensions([da.DracoMeshCompression,da.MaterialsSpecular,da.MaterialsEmissiveStrength,da.TextureWebP,da.TextureTransform])).registerDependencies,o={},t="draco3d.decoder",[4,Wc.default.createDecoderModule()];case 1:return o[t]=i.sent(),s="draco3d.encoder",[4,Wc.default.createEncoderModule()];case 2:return[2,e.apply(n,[(o[s]=i.sent(),o)])]}})})}gs.webIO=U_;var G_=ln&&ln.__awaiter||function(n,e,t,s){function o(i){return i instanceof t?i:new t(function(u){u(i)})}return new(t||(t=Promise))(function(i,u){function p(d){try{B(s.next(d))}catch(V){u(V)}}function _(d){try{B(s.throw(d))}catch(V){u(V)}}function B(d){d.done?i(d.value):o(d.value).then(p,_)}B((s=s.apply(n,e||[])).next())})},H_=ln&&ln.__generator||function(n,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},s,o,i,u;return u={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function p(B){return function(d){return _([B,d])}}function _(B){if(s)throw new TypeError("Generator is already executing.");for(;u&&(u=0,B[0]&&(t=0)),t;)try{if(s=1,o&&(i=B[0]&2?o.return:B[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,B[1])).done)return i;switch(o=0,i&&(B=[B[0]&2,i.value]),B[0]){case 0:case 1:i=B;break;case 4:return t.label++,{value:B[1],done:!1};case 5:t.label++,o=B[1],B=[0];continue;case 7:B=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(B[0]===6||B[0]===2)){t=0;continue}if(B[0]===3&&(!i||B[1]>i[0]&&B[1]<i[3])){t.label=B[1];break}if(B[0]===6&&t.label<i[1]){t.label=i[1],i=B;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(B);break}i[2]&&t.ops.pop(),t.trys.pop();continue}B=e.call(n,t)}catch(d){B=[6,d],o=0}finally{s=i=0}if(B[0]&5)throw B[1];return{value:B[0]?B[1]:void 0,done:!0}}};Object.defineProperty(_s,"__esModule",{value:!0});_s.web=void 0;var j_=Ia,k_=hs,W_=gs,V_=Pa;function K_(n,e){return G_(this,void 0,void 0,function(){var t,s;return H_(this,function(o){switch(o.label){case 0:return[4,(0,W_.webIO)()];case 1:return t=o.sent(),[4,t.readBinary(n)];case 2:return s=o.sent(),(0,j_.setEmissiveStrength)(s,e==null?void 0:e.emissiveStrength),[4,(0,k_.convertTextureWebP)(s)];case 3:return o.sent(),[4,(0,V_.transform)(s,!1,e==null?void 0:e.transform)];case 4:return o.sent(),[4,t.writeBinary(s)];case 5:return[2,o.sent()]}})})}_s.web=K_;Object.defineProperty(Us,"__esModule",{value:!0});var Of=Us.optimizer=void 0,J_=Za,q_=_s;Of=Us.optimizer={node:J_.node,web:q_.web};var Mf={};Object.defineProperty(Mf,"__esModule",{value:!0});function z_(n){var e=n.fileName,t=n.arrayBuffer,s=n.blob,o=n.mimeType,i=o===void 0?"application/octet-stream":o;if(s!=null){Vc(e,s);return}if(t!=null){var u=new Blob([t],{type:i});Vc(e,u);return}throw new Error("Either arrayBuffer or blob must be provided")}var Y_=Mf.default=z_;function Vc(n,e){var t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=n,s.click()}const{document:ws}=kf;function X_(n){let e,t,s,o,i,u,p,_,B,d,V,I;return{c(){e=ca("meta"),t=Ma(),s=ca("h1"),o=Uf("glTF Optimizer"),i=Ma(),u=ca("input"),p=Ma(),_=ca("br"),B=Ma(),d=ca("span"),this.h()},l(L){const W=Gf("svelte-1wutrm",ws.head);e=fa(W,"META",{name:!0,content:!0}),W.forEach(co),t=Na(L),s=fa(L,"H1",{});var le=Ou(s);o=Hf(le,"glTF Optimizer"),le.forEach(co),i=Na(L),u=fa(L,"INPUT",{type:!0,id:!0,accept:!0}),p=Na(L),_=fa(L,"BR",{}),B=Na(L),d=fa(L,"SPAN",{id:!0}),Ou(d).forEach(co),this.h()},h(){ws.title="glTF optimizer",Qo(e,"name","description"),Qo(e,"content","Optimize your glTF. Compress to Draco and convert texture to WebP"),Qo(u,"type","file"),Qo(u,"id","file"),Qo(u,"accept",".glb"),Qo(d,"id","size")},m(L,W){Mu(ws.head,e),Do(L,t,W),Do(L,s,W),Mu(s,o),Do(L,i,W),Do(L,u,W),Do(L,p,W),Do(L,_,W),Do(L,B,W),Do(L,d,W),V||(I=jf(u,"change",n[0]),V=!0)},p:As,i:As,o:As,d(L){co(e),L&&co(t),L&&co(s),L&&co(i),L&&co(u),L&&co(p),L&&co(_),L&&co(B),L&&co(d),V=!1,I()}}}function Kc(n){return(n/1024/1024).toFixed(2)}function $_(n){async function e(){const t=document.getElementById("size");t.innerText="processing...";const s=document.getElementById("file"),o=await Of.web(new Uint8Array(await s.files[0].arrayBuffer()));t.innerText=`${Kc(s.files[0].size)}MB => ${Kc(new Blob([o]).size)}MB`,Y_({fileName:"compressed.glb",arrayBuffer:o})}return[e]}class yg extends Nf{constructor(e){super(),Lf(this,e,$_,X_,xf,{})}}export{yg as default};
